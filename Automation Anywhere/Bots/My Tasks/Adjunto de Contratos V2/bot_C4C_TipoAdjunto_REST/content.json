{"nodes":[{"uid":"ba641831-c5e9-4c1d-8d28-1a581a9f4809","commandName":"Comment","packageName":"Comment","disabled":false,"attributes":[{"name":"comment","value":{"type":"STRING","string":"================================="}}]},{"uid":"74cbe10a-19af-4104-b05f-363f8cbf868a","commandName":"Comment","packageName":"Comment","disabled":false,"attributes":[{"name":"comment","value":{"type":"STRING","string":"(INICIA) Obtiene el código para cada tipo de Adjunto. (OFAC, MATCH, INFORMCONF)"}}]},{"uid":"ca225684-37b2-499b-917f-f8301388affb","commandName":"Comment","packageName":"Comment","disabled":false,"attributes":[{"name":"comment","value":{"type":"STRING","string":"================================="}}]},{"uid":"ff432e5b-203d-44b7-8045-4bd100064c6c","commandName":"assign","packageName":"String","attributes":[{"name":"sourceString","value":{"type":"STRING","string":"1"}}],"returnTo":{"type":"VARIABLE","variableName":"vIntentosRest"}},{"uid":"4ff4cd45-a886-42ce-a087-b7bc4b5f5f67","commandName":"assign","packageName":"String","attributes":[{"name":"sourceString","value":{"type":"STRING","string":" "}}],"returnTo":{"type":"VARIABLE","variableName":"vStatus"}},{"uid":"cb46d690-6e71-4d87-9a40-3a3c609a8ab1","commandName":"assign","packageName":"String","attributes":[{"name":"sourceString","value":{"type":"STRING","string":"0"}}],"returnTo":{"type":"VARIABLE","variableName":"Loop-Counter-1"}},{"uid":"bd251e2d-70ab-4dfd-a869-8a03c04b3db3","commandName":"loop.commands.start","packageName":"Loop","attributes":[{"name":"operator","value":{"type":"STRING","string":"AND"}},{"name":"checkConditionAtEnd","value":{"type":"BOOLEAN","boolean":false}},{"name":"condition","value":{"type":"CONDITIONAL","conditionalName":"legacyConditionVariable","packageName":"LegacyAutomation"},"attributes":[{"name":"variable","value":{"type":"STRING","expression":"$vStatus$"}},{"name":"operator","value":{"type":"STRING","string":"DoesNotEqualTo"}},{"name":"value","value":{"type":"STRING","string":"ok"}}],"operatorAttribute":{"operator":"AND","value":{"type":"CONDITIONAL","conditionalName":"legacyConditionVariable","packageName":"LegacyAutomation"},"attributes":[{"name":"variable","value":{"type":"STRING","expression":"$vIntentosRest$"}},{"name":"operator","value":{"type":"STRING","string":"LessThanOrEqualTo"}},{"name":"value","value":{"type":"STRING","string":"3"}}]}},{"name":"loopType","value":{"type":"STRING","string":"WHILE"}}],"children":[{"uid":"70009627-90c6-487a-928b-cd212d8b6e56","commandName":"assign","packageName":"String","attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$Loop-Counter-1.LegacyAutomation:getIncrementedNumber.Number:toString$"}}],"returnTo":{"type":"VARIABLE","variableName":"Loop-Counter-1"}},{"uid":"cbd8656e-7dcb-409a-87d4-63d061f08ed6","commandName":"Comment","packageName":"Comment","disabled":false,"attributes":[{"name":"comment","value":{"type":"STRING","string":"Realizará el ciclo en 3 Intentos o hasta que el Status sea ok y se obtenga el Bearer Token."}}]},{"uid":"cff804ab-fa1b-4b1f-901d-46041a6939bd","commandName":"if","packageName":"If","attributes":[{"name":"condition","value":{"type":"CONDITIONAL","conditionalName":"legacyConditionVariable","packageName":"LegacyAutomation"},"attributes":[{"name":"variable","value":{"type":"STRING","expression":"$vEntorno$"}},{"name":"operator","value":{"type":"STRING","string":"EqualsTo"}},{"name":"value","value":{"type":"STRING","string":"DEV"}}]}],"children":[{"uid":"765897fd-e8d2-4a3d-b884-19f1f7e11afc","commandName":"restGet","packageName":"Rest","attributes":[{"name":"uriOption","value":{"type":"STRING","string":"text"}},{"name":"uri","value":{"type":"STRING","string":"https://bancard-apim-qas.apimanagement.br10.hana.ondemand.com/bpde-dev/api/tipoAdjunto"}},{"name":"authenticationMode","value":{"type":"STRING","string":"NoAuthentication"}},{"name":"customHeaders","value":{"type":"LIST","list":[{"type":"DICTIONARY","dictionary":[{"key":"enabled","value":{"type":"BOOLEAN","boolean":true}},{"key":"name","value":{"type":"STRING","string":"Origin"}},{"key":"value","value":{"type":"STRING","string":"https://domus-tired-topi-ng.cfapps.ap21.hana.ondemand.com"}}]},{"type":"DICTIONARY","dictionary":[{"key":"enabled","value":{"type":"BOOLEAN","boolean":true}},{"key":"name","value":{"type":"STRING","string":"Accept"}},{"key":"value","value":{"type":"STRING","string":"*/*"}}]},{"type":"DICTIONARY","dictionary":[{"key":"enabled","value":{"type":"BOOLEAN","boolean":true}},{"key":"name","value":{"type":"STRING","string":"Authorization"}},{"key":"value","value":{"type":"STRING","expression":"Bearer $vResponseBearerToken$"}}]}]}},{"name":"proxyType","value":{"type":"STRING","string":"SYSTEM"}},{"name":"captureFailureResponse","value":{"type":"BOOLEAN","boolean":true}},{"name":"timeOut","value":{"type":"NUMBER","expression":"$@AARestTimeOut$"}}],"returnTo":{"type":"VARIABLE","variableName":"Rest-Response-Assignment"}},{"uid":"2cad42ae-c5ac-43f7-84fb-d1ad621df86e","commandName":"size","packageName":"Dictionary","attributes":[{"name":"sourceMap","value":{"type":"VARIABLE","variableName":"Rest-Response-Assignment"}}],"returnTo":{"type":"VARIABLE","variableName":"m-dictionary-size"}},{"uid":"bdd20d0b-615b-49e2-bde0-82608e9a5dae","commandName":"decrement","packageName":"Number","attributes":[{"name":"source","value":{"type":"NUMBER","expression":"$m-dictionary-size$"}},{"name":"by","value":{"type":"NUMBER","number":"1"}}],"returnTo":{"type":"VARIABLE","variableName":"m-dictionary-size"}},{"uid":"07b52825-0bdc-4016-bd4b-e4fefb5e9ea8","commandName":"assign","packageName":"DataTable","attributes":[{"name":"option","value":{"type":"STRING","string":"resize"}},{"name":"rowSize","value":{"type":"NUMBER","expression":"$m-dictionary-size$"}},{"name":"columnSize","value":{"type":"NUMBER","number":"2"}}],"returnTo":{"type":"VARIABLE","variableName":"vHeader"}},{"uid":"dec6ee52-b931-4374-a22e-07a03f144368","commandName":"assignToNumber","packageName":"Number","attributes":[{"name":"input","value":{"type":"NUMBER","number":"0"}}],"returnTo":{"type":"VARIABLE","variableName":"m-row-index"}},{"uid":"8d1bcd3b-3fb1-4eba-ab98-e6ae7bc4e941","commandName":"loop.commands.start","packageName":"Loop","attributes":[{"name":"iterator","value":{"type":"ITERATOR","iteratorName":"dictionary.iterators.keys","packageName":"Dictionary"},"returnTo":{"type":"VARIABLE","variableName":"m-dictionary-key"},"attributes":[{"name":"sourceMap","value":{"type":"VARIABLE","variableName":"Rest-Response-Assignment"}}]},{"name":"loopType","value":{"type":"STRING","string":"ITERATOR"}}],"children":[{"uid":"e1c2d2bc-b157-4a96-a561-4c8dddd5f09b","commandName":"if","packageName":"If","attributes":[{"name":"condition","value":{"type":"CONDITIONAL","conditionalName":"legacyConditionVariable","packageName":"LegacyAutomation"},"attributes":[{"name":"variable","value":{"type":"STRING","expression":"$m-dictionary-key$"}},{"name":"operator","value":{"type":"STRING","string":"DoesNotEqualTo"}},{"name":"value","value":{"type":"STRING","string":"Body"}}]}],"children":[{"uid":"03b56d7d-7764-4f2b-9b86-28905441d5bd","commandName":"setCellValue","packageName":"DataTable","attributes":[{"name":"table","value":{"type":"VARIABLE","variableName":"vHeader"}},{"name":"rowPosition","value":{"type":"NUMBER","expression":"$m-row-index$"}},{"name":"columnType","value":{"type":"STRING","string":"colIndex"}},{"name":"columnIndex","value":{"type":"NUMBER","number":"0"}},{"name":"value","value":{"type":"STRING","expression":"$m-dictionary-key$"}}]},{"uid":"16b3f54a-74d0-4fb7-bbb7-ef22994f3cb3","commandName":"setCellValue","packageName":"DataTable","attributes":[{"name":"table","value":{"type":"VARIABLE","variableName":"vHeader"}},{"name":"rowPosition","value":{"type":"NUMBER","expression":"$m-row-index$"}},{"name":"columnType","value":{"type":"STRING","string":"colIndex"}},{"name":"columnIndex","value":{"type":"NUMBER","number":"1"}},{"name":"value","value":{"type":"STRING","expression":"$Rest-Response-Assignment{$m-dictionary-key$}$"}}]},{"uid":"57a16e92-7918-494b-b8e1-424c8ae611f4","commandName":"increment","packageName":"Number","attributes":[{"name":"source","value":{"type":"NUMBER","expression":"$m-row-index$"}},{"name":"by","value":{"type":"NUMBER","number":"1"}}],"returnTo":{"type":"VARIABLE","variableName":"m-row-index"}}]}]},{"uid":"67de8bb1-d936-4a2b-afd6-ac319058dfea","commandName":"assign","packageName":"String","attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$Rest-Response-Assignment{Body}$"}}],"returnTo":{"type":"VARIABLE","variableName":"Prompt-Assignment"}}],"branches":[{"uid":"93a1aec2-6a9b-4a4a-ae6d-7ce3f9e8f2e5","commandName":"elseIf","packageName":"If","attributes":[{"name":"condition","value":{"type":"CONDITIONAL","conditionalName":"legacyConditionVariable","packageName":"LegacyAutomation"},"attributes":[{"name":"variable","value":{"type":"STRING","expression":"$vEntorno$"}},{"name":"operator","value":{"type":"STRING","string":"EqualsTo"}},{"name":"value","value":{"type":"STRING","string":"PRD"}}]}],"children":[{"uid":"9792806f-7743-49ce-b7d0-d4778caff8a0","commandName":"restGet","packageName":"Rest","attributes":[{"name":"uriOption","value":{"type":"STRING","string":"text"}},{"name":"uri","value":{"type":"STRING","string":"https://bancard-apim-qas.apimanagement.br10.hana.ondemand.com/bpde-dev/api/tipoAdjunto"}},{"name":"authenticationMode","value":{"type":"STRING","string":"NoAuthentication"}},{"name":"customHeaders","value":{"type":"LIST","list":[{"type":"DICTIONARY","dictionary":[{"key":"enabled","value":{"type":"BOOLEAN","boolean":true}},{"key":"name","value":{"type":"STRING","string":"Origin"}},{"key":"value","value":{"type":"STRING","string":"https://domus-tired-topi-ng.cfapps.ap21.hana.ondemand.com"}}]},{"type":"DICTIONARY","dictionary":[{"key":"enabled","value":{"type":"BOOLEAN","boolean":true}},{"key":"name","value":{"type":"STRING","string":"Accept"}},{"key":"value","value":{"type":"STRING","string":"*/*"}}]},{"type":"DICTIONARY","dictionary":[{"key":"enabled","value":{"type":"BOOLEAN","boolean":true}},{"key":"name","value":{"type":"STRING","string":"Authorization"}},{"key":"value","value":{"type":"STRING","expression":"Bearer $vResponseBearerToken$"}}]}]}},{"name":"proxyType","value":{"type":"STRING","string":"SYSTEM"}},{"name":"captureFailureResponse","value":{"type":"BOOLEAN","boolean":true}},{"name":"timeOut","value":{"type":"NUMBER","expression":"$@AARestTimeOut$"}}],"returnTo":{"type":"VARIABLE","variableName":"Rest-Response-Assignment"}},{"uid":"7749b8b1-745e-461f-bd6c-0241aa688d56","commandName":"size","packageName":"Dictionary","attributes":[{"name":"sourceMap","value":{"type":"VARIABLE","variableName":"Rest-Response-Assignment"}}],"returnTo":{"type":"VARIABLE","variableName":"m-dictionary-size"}},{"uid":"cb544968-8bb0-48e8-8715-342c752a2a63","commandName":"decrement","packageName":"Number","attributes":[{"name":"source","value":{"type":"NUMBER","expression":"$m-dictionary-size$"}},{"name":"by","value":{"type":"NUMBER","number":"1"}}],"returnTo":{"type":"VARIABLE","variableName":"m-dictionary-size"}},{"uid":"631b28e6-c8bd-4e78-ac9c-1ab239e53ea9","commandName":"assign","packageName":"DataTable","attributes":[{"name":"option","value":{"type":"STRING","string":"resize"}},{"name":"rowSize","value":{"type":"NUMBER","expression":"$m-dictionary-size$"}},{"name":"columnSize","value":{"type":"NUMBER","number":"2"}}],"returnTo":{"type":"VARIABLE","variableName":"vHeader"}},{"uid":"d2f8ef42-cac9-4946-b7cb-eca4c14f72f8","commandName":"assignToNumber","packageName":"Number","attributes":[{"name":"input","value":{"type":"NUMBER","number":"0"}}],"returnTo":{"type":"VARIABLE","variableName":"m-row-index"}},{"uid":"522ed8ca-4282-4b43-979d-cff67e7ce261","commandName":"loop.commands.start","packageName":"Loop","attributes":[{"name":"iterator","value":{"type":"ITERATOR","iteratorName":"dictionary.iterators.keys","packageName":"Dictionary"},"returnTo":{"type":"VARIABLE","variableName":"m-dictionary-key"},"attributes":[{"name":"sourceMap","value":{"type":"VARIABLE","variableName":"Rest-Response-Assignment"}}]},{"name":"loopType","value":{"type":"STRING","string":"ITERATOR"}}],"children":[{"uid":"0980dbf0-3781-42cf-8054-908d897c8553","commandName":"if","packageName":"If","attributes":[{"name":"condition","value":{"type":"CONDITIONAL","conditionalName":"legacyConditionVariable","packageName":"LegacyAutomation"},"attributes":[{"name":"variable","value":{"type":"STRING","expression":"$m-dictionary-key$"}},{"name":"operator","value":{"type":"STRING","string":"DoesNotEqualTo"}},{"name":"value","value":{"type":"STRING","string":"Body"}}]}],"children":[{"uid":"fb637bff-ab9d-46c5-ad7f-6ecf7028168e","commandName":"setCellValue","packageName":"DataTable","attributes":[{"name":"table","value":{"type":"VARIABLE","variableName":"vHeader"}},{"name":"rowPosition","value":{"type":"NUMBER","expression":"$m-row-index$"}},{"name":"columnType","value":{"type":"STRING","string":"colIndex"}},{"name":"columnIndex","value":{"type":"NUMBER","number":"0"}},{"name":"value","value":{"type":"STRING","expression":"$m-dictionary-key$"}}]},{"uid":"fc7a8c31-be36-4bb5-8d73-808600308dbd","commandName":"setCellValue","packageName":"DataTable","attributes":[{"name":"table","value":{"type":"VARIABLE","variableName":"vHeader"}},{"name":"rowPosition","value":{"type":"NUMBER","expression":"$m-row-index$"}},{"name":"columnType","value":{"type":"STRING","string":"colIndex"}},{"name":"columnIndex","value":{"type":"NUMBER","number":"1"}},{"name":"value","value":{"type":"STRING","expression":"$Rest-Response-Assignment{$m-dictionary-key$}$"}}]},{"uid":"77d7ed83-4875-4a50-aebc-65ab17be4bed","commandName":"increment","packageName":"Number","attributes":[{"name":"source","value":{"type":"NUMBER","expression":"$m-row-index$"}},{"name":"by","value":{"type":"NUMBER","number":"1"}}],"returnTo":{"type":"VARIABLE","variableName":"m-row-index"}}]}]},{"uid":"7e35bfb6-2e23-4592-b49e-3fe926128586","commandName":"assign","packageName":"String","attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$Rest-Response-Assignment{Body}$"}}],"returnTo":{"type":"VARIABLE","variableName":"Prompt-Assignment"}}]}]},{"uid":"d279d923-1f85-43a7-9e25-37462e56ca38","commandName":"assign","packageName":"String","attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$vHeader[0][1]$"}}],"returnTo":{"type":"VARIABLE","variableName":"M-TableCellValue"}},{"uid":"63e08d1c-27b5-455b-84f2-a93d45f0f7b3","commandName":"assign","packageName":"String","attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$M-TableCellValue.LegacyAutomation:parseVariableOperation$"}}],"returnTo":{"type":"VARIABLE","variableName":"M-TableCellValue"}},{"uid":"11e4cf90-3fd2-483b-b6ca-66847052a4d8","commandName":"setCellValue","packageName":"DataTable","attributes":[{"name":"table","value":{"type":"VARIABLE","variableName":"vRespuestaRest"}},{"name":"value","value":{"type":"STRING","expression":"$M-TableCellValue$"}},{"name":"rowPosition","value":{"type":"NUMBER","number":"0"}},{"name":"columnType","value":{"type":"STRING","string":"colIndex"}},{"name":"columnIndex","value":{"type":"NUMBER","number":"1"}}]},{"uid":"cb472252-66da-4a99-ac7f-a14f59bd34ce","commandName":"messageBox","packageName":"MessageBox","attributes":[{"name":"title","value":{"type":"STRING","string":"Automation Anywhere Enterprise Client"}},{"name":"content","value":{"type":"STRING","expression":"$vRespuestaRest[0][1]$"}},{"name":"scrollLines","value":{"type":"NUMBER","number":"30"}},{"name":"closeMsgBox","value":{"type":"BOOLEAN","boolean":true}},{"name":"timeOut","value":{"type":"NUMBER","number":"1"}}]},{"uid":"4c90eaef-4f03-4faa-81cb-19abe4377667","commandName":"assign","packageName":"String","attributes":[{"name":"sourceString","value":{"type":"STRING","string":"Servicio:https://bancard-apim-qas.apimanagement.br10.hana.ondemand.com/bpde-dev/api/tipoAdjunto\nFunción: Obtener value de Tipos de Adjuntos en el portal."}}],"returnTo":{"type":"VARIABLE","variableName":"vServicioRest"}},{"uid":"02f14042-fa68-4c9b-9ad3-87842cdaf237","commandName":"assign","packageName":"String","attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$vServicioRest.LegacyAutomation:parseVariableOperation$"}}],"returnTo":{"type":"VARIABLE","variableName":"vServicioRest"}},{"uid":"e358d55f-18a8-4e9c-9384-48c0555dafb2","commandName":"runTask","packageName":"TaskBot","attributes":[{"name":"taskbot","value":{"type":"TASKBOT","taskbotFile":{"type":"FILE","string":"repository:///Automation%20Anywhere/Bots/My%20Tasks/Adjunto%20de%20Contratos%20V2/Manejo_respuestas_rest"},"taskbotInput":{"type":"DICTIONARY","dictionary":[{"key":"vRespuestaRest","value":{"type":"ANY","expression":"$vRespuestaRest$"}},{"key":"vStatus","value":{"type":"STRING","expression":"$vStatus$"}},{"key":"vLogfile","value":{"type":"STRING","expression":"$vLogFile$"}},{"key":"vServicioRest","value":{"type":"STRING","expression":"$vServicioRest$"}}]},"taskbotOutput":{"type":"DICTIONARY","dictionary":[]}}},{"name":"repeatOption","value":{"type":"STRING","string":"DO_NOT_REPEAT"}},{"name":"delayNextRepetition","value":{"type":"BOOLEAN","boolean":false}},{"name":"continueOnError","value":{"type":"BOOLEAN","boolean":true}}],"returnTo":{"type":"DICTIONARY","dictionary":[{"key":"vRespuestaRest","value":{"type":"VARIABLE","variableName":"vRespuestaRest"}},{"key":"vStatus","value":{"type":"VARIABLE","variableName":"vStatus"}},{"key":"vLogfile","value":{"type":"VARIABLE","variableName":"vLogFile"}},{"key":"vServicioRest","value":{"type":"VARIABLE","variableName":"vServicioRest"}}]}},{"uid":"d71ae925-24ad-4ddc-85d6-3d8019377c85","commandName":"if","packageName":"If","attributes":[{"name":"condition","value":{"type":"CONDITIONAL","conditionalName":"legacyConditionVariable","packageName":"LegacyAutomation"},"attributes":[{"name":"variable","value":{"type":"STRING","expression":"$vStatus$"}},{"name":"operator","value":{"type":"STRING","string":"EqualsTo"}},{"name":"value","value":{"type":"STRING","string":"ok"}}]}],"children":[{"uid":"87935bfe-bd71-4bb1-b5fc-67ae3c1284b4","commandName":"Comment","packageName":"Comment","disabled":false,"attributes":[{"name":"comment","value":{"type":"STRING","string":"Servicio sin errores"}}]},{"uid":"04e69288-f2ed-4399-86ed-bf75fff320aa","commandName":"Comment","packageName":"Comment","disabled":false,"attributes":[{"name":"comment","value":{"type":"STRING","string":"Remove todo lo que no sea un objeto de Tipo de Adjunto"}}]},{"uid":"7f5e0fc5-4e34-4a17-8431-cc9fad642c10","commandName":"beforeAfter","packageName":"String","attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$Prompt-Assignment$"}},{"name":"trimSpaces","value":{"type":"BOOLEAN","boolean":true}},{"name":"removeEnter","value":{"type":"BOOLEAN","boolean":true}},{"name":"ifNoMatchFound","value":{"type":"STRING","string":"SOURCE"}},{"name":"beforeAfterCondition","value":{"type":"STRING","string":"AND"}},{"name":"getCharacters","value":{"type":"STRING","string":"BEFOREAFTER"}},{"name":"beforeStringInBeforeAfter","value":{"type":"STRING","string":"{\"data\":["}},{"name":"beforeOccurrenceInBeforeAfter","value":{"type":"NUMBER","number":"1"}},{"name":"afterStringInBeforeAfter","value":{"type":"STRING","string":"],"}},{"name":"afterOccurrenceInBeforeAfter","value":{"type":"NUMBER","number":"1"}},{"name":"noOfCharsToGet","value":{"type":"STRING","string":"ALL"}},{"name":"isCaseSensitive","value":{"type":"STRING","string":"false"}}],"returnTo":{"type":"VARIABLE","variableName":"Prompt-Assignment"}},{"uid":"db6286c6-01a1-4f3a-b0f4-46196c6af183","commandName":"Comment","packageName":"Comment","disabled":false,"attributes":[{"name":"comment","value":{"type":"STRING","string":"Divide el response por el delimitador \"}\" de manera a poder utilizar la función de before-after en cada objeto json de Tipo de Adjunto"}}]},{"uid":"e1b3dfd1-29fa-4550-86ad-9f63f76e8875","commandName":"split","packageName":"String","attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$Prompt-Assignment$"}},{"name":"delimiter","value":{"type":"STRING","string":"},"}},{"name":"isCaseSensitive","value":{"type":"STRING","string":"false"}},{"name":"substrings","value":{"type":"STRING","string":"ALL"}}],"returnTo":{"type":"VARIABLE","variableName":"vAuxResponse"}},{"uid":"d83c3a20-48f3-48d3-bdd0-2f2cbc3cd2b4","commandName":"assign","packageName":"String","attributes":[{"name":"sourceString","value":{"type":"STRING","string":"0"}}],"returnTo":{"type":"VARIABLE","variableName":"Loop-Counter-2"}},{"uid":"c1621c89-7731-4d69-b0ec-11f69d4ef7aa","commandName":"loop.commands.start","packageName":"Loop","attributes":[{"name":"iterator","value":{"type":"ITERATOR","iteratorName":"list.iterators.list","packageName":"List"},"returnTo":{"type":"VARIABLE","variableName":"List-Item-1"},"attributes":[{"name":"list","value":{"type":"VARIABLE","variableName":"vAuxResponse"}},{"name":"forOptions","value":{"type":"STRING","string":"all"}}]},{"name":"loopType","value":{"type":"STRING","string":"ITERATOR"}}],"children":[{"uid":"9c44425f-99db-4d10-804f-4aefe630a9e1","commandName":"assign","packageName":"String","attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$Loop-Counter-2.LegacyAutomation:getIncrementedNumber.Number:toString$"}}],"returnTo":{"type":"VARIABLE","variableName":"Loop-Counter-2"}},{"uid":"2fa009d2-b8fc-4a63-afdd-b69f0a30cb20","commandName":"Comment","packageName":"Comment","disabled":false,"attributes":[{"name":"comment","value":{"type":"STRING","string":"Busca la palabra clave dentro del objeto Tipo de Adjunto que está siendo procesado. Devuelve cero si no encuentra"}}]},{"uid":"417ad2fa-7b68-41b5-8442-54e190f54396","commandName":"find","packageName":"String","attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$vAuxResponse.LegacyAutomation:getLegacyIndexValue($Loop-Counter-2.LegacyAutomation:getDecrementedNumber$)$"}},{"name":"find","value":{"type":"STRING","string":"Contrato"}},{"name":"startIndex","value":{"type":"NUMBER","number":"1"}},{"name":"isCaseSensitive","value":{"type":"STRING","string":"false"}},{"name":"isRegularExpression","value":{"type":"STRING","string":"false"}}],"returnTo":{"type":"VARIABLE","variableName":"integerReturnVariable"}},{"uid":"dedb2c2b-5a54-4f2e-917e-39e1e77267e7","commandName":"assign","packageName":"String","attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$integerReturnVariable.Number:toString$"}}],"returnTo":{"type":"VARIABLE","variableName":"vAuxLista"}},{"uid":"115ed1b4-ea59-4cd9-a8e6-0ceac4d8b98b","commandName":"if","packageName":"If","attributes":[{"name":"condition","value":{"type":"CONDITIONAL","conditionalName":"legacyConditionVariable","packageName":"LegacyAutomation"},"attributes":[{"name":"variable","value":{"type":"STRING","expression":"$vAuxLista$"}},{"name":"operator","value":{"type":"STRING","string":"GreaterThan"}},{"name":"value","value":{"type":"STRING","string":"0"}}]}],"children":[{"uid":"6e2449d8-d633-4a6a-a631-9a8ebe935545","commandName":"Comment","packageName":"Comment","disabled":false,"attributes":[{"name":"comment","value":{"type":"STRING","string":"Esta procesando el objeto de tipo Contrato"}}]},{"uid":"7f97f6b6-92d7-473e-b977-a42bacfe9bb6","commandName":"beforeAfter","packageName":"String","attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$vAuxResponse.LegacyAutomation:getLegacyIndexValue($Loop-Counter-2.LegacyAutomation:getDecrementedNumber$)$"}},{"name":"trimSpaces","value":{"type":"BOOLEAN","boolean":true}},{"name":"removeEnter","value":{"type":"BOOLEAN","boolean":true}},{"name":"ifNoMatchFound","value":{"type":"STRING","string":"EMPTY"}},{"name":"beforeAfterCondition","value":{"type":"STRING","string":"AND"}},{"name":"getCharacters","value":{"type":"STRING","string":"BEFOREAFTER"}},{"name":"beforeStringInBeforeAfter","value":{"type":"STRING","string":"\"value\":\""}},{"name":"beforeOccurrenceInBeforeAfter","value":{"type":"NUMBER","number":"1"}},{"name":"afterStringInBeforeAfter","value":{"type":"STRING","string":"\",\"description\":\"Contrato\""}},{"name":"afterOccurrenceInBeforeAfter","value":{"type":"NUMBER","number":"1"}},{"name":"noOfCharsToGet","value":{"type":"STRING","string":"ALL"}},{"name":"isCaseSensitive","value":{"type":"STRING","string":"false"}}],"returnTo":{"type":"VARIABLE","variableName":"vContratoValue"}},{"uid":"5ed7ab2b-2b50-48d2-98f8-3c7b065b1036","commandName":"beforeAfter","packageName":"String","attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$vAuxResponse.LegacyAutomation:getLegacyIndexValue($Loop-Counter-2.LegacyAutomation:getDecrementedNumber$)$"}},{"name":"trimSpaces","value":{"type":"BOOLEAN","boolean":true}},{"name":"removeEnter","value":{"type":"BOOLEAN","boolean":true}},{"name":"ifNoMatchFound","value":{"type":"STRING","string":"EMPTY"}},{"name":"beforeAfterCondition","value":{"type":"STRING","string":"AND"}},{"name":"getCharacters","value":{"type":"STRING","string":"BEFOREAFTER"}},{"name":"beforeStringInBeforeAfter","value":{"type":"STRING","string":"\"_id\":\""}},{"name":"beforeOccurrenceInBeforeAfter","value":{"type":"NUMBER","number":"1"}},{"name":"afterStringInBeforeAfter","value":{"type":"STRING","string":"\","}},{"name":"afterOccurrenceInBeforeAfter","value":{"type":"NUMBER","number":"1"}},{"name":"noOfCharsToGet","value":{"type":"STRING","string":"ALL"}},{"name":"isCaseSensitive","value":{"type":"STRING","string":"false"}}],"returnTo":{"type":"VARIABLE","variableName":"vContratoID"}},{"uid":"628ec3da-3b69-4661-b370-69be3b32860e","commandName":"assign","packageName":"String","attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$vLogFile$"}}],"returnTo":{"type":"VARIABLE","variableName":"m-string-start-in-path"}},{"uid":"180c061a-0e1b-4eac-a6f6-9b479d31461f","commandName":"logToFile","packageName":"LogToFile","attributes":[{"name":"filePath","value":{"type":"FILE","expression":"file://$m-string-start-in-path.LegacyAutomation:getAbsolutePath($@AABasePath$)$"}},{"name":"logContent","value":{"type":"STRING","expression":"(Intento: $vIntentosRest$) \n-->CONTRATO:\n       ID: $vContratoID$\n       Value: $vContratoValue$"}},{"name":"appendTimestamp","value":{"type":"BOOLEAN","boolean":true}},{"name":"logOption","value":{"type":"STRING","string":"APPEND_FILE"}},{"name":"encodingValue","value":{"type":"STRING","string":"ANSI"}}]},{"uid":"423a6b41-67bc-44a3-ac96-8bf84f9a8e48","commandName":"loop.commands.break","packageName":"Loop","attributes":[]}]}]}],"branches":[{"uid":"9c9c61f8-7d37-4523-ac57-efc1b1e2fd1b","commandName":"elseIf","packageName":"If","attributes":[{"name":"operator","value":{"type":"STRING","string":"AND"}},{"name":"condition","value":{"type":"CONDITIONAL","conditionalName":"legacyConditionVariable","packageName":"LegacyAutomation"},"attributes":[{"name":"variable","value":{"type":"STRING","expression":"$vStatus$"}},{"name":"operator","value":{"type":"STRING","string":"EqualsTo"}},{"name":"value","value":{"type":"STRING","string":"error"}}],"operatorAttribute":{"operator":"AND","value":{"type":"CONDITIONAL","conditionalName":"legacyConditionVariable","packageName":"LegacyAutomation"},"attributes":[{"name":"variable","value":{"type":"STRING","expression":"$vIntentosRest$"}},{"name":"operator","value":{"type":"STRING","string":"LessThanOrEqualTo"}},{"name":"value","value":{"type":"STRING","string":"3"}}]}}],"children":[{"uid":"d7a0a5b8-631a-4994-b230-465309c44208","commandName":"assign","packageName":"String","attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$vLogFile$"}}],"returnTo":{"type":"VARIABLE","variableName":"m-string-start-in-path"}},{"uid":"46e18ea2-fa82-48b8-a6ad-935ff319d4d5","commandName":"logToFile","packageName":"LogToFile","attributes":[{"name":"filePath","value":{"type":"FILE","expression":"file://$m-string-start-in-path.LegacyAutomation:getAbsolutePath($@AABasePath$)$"}},{"name":"logContent","value":{"type":"STRING","expression":"(Intento: $vIntentosRest$) No se pudo acceder al servicio de Tipo de Adjuntos, se intentará de vuelta."}},{"name":"appendTimestamp","value":{"type":"BOOLEAN","boolean":true}},{"name":"logOption","value":{"type":"STRING","string":"APPEND_FILE"}},{"name":"encodingValue","value":{"type":"STRING","string":"ANSI"}}]},{"uid":"0e064fed-d98a-4290-8102-d493407f9a90","commandName":"assign","packageName":"String","attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$vIntentosRest$ + 1"}}],"returnTo":{"type":"VARIABLE","variableName":"vIntentosRest"}},{"uid":"8366326a-ca4c-4fc2-b78f-3fe4f64d009b","commandName":"assign","packageName":"String","attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$vIntentosRest.LegacyAutomation:parseVariableOperation$"}}],"returnTo":{"type":"VARIABLE","variableName":"vIntentosRest"}},{"uid":"4fb88c5a-4f3e-4c2d-a194-4a15cbcc928c","commandName":"delay","packageName":"Delay","attributes":[{"name":"delayTime","value":{"type":"NUMBER","number":"3"}},{"name":"timeUnit","value":{"type":"STRING","string":"SECONDS"}},{"name":"delayType","value":{"type":"STRING","string":"REGULAR"}}]}]}]}]},{"uid":"5f6b891c-c203-4483-8bfe-e158b6490c9a","commandName":"Comment","packageName":"Comment","disabled":false,"attributes":[{"name":"comment","value":{"type":"STRING","string":"================================="}}]},{"uid":"8ff40630-a152-4fbf-be5b-50d64a578462","commandName":"Comment","packageName":"Comment","disabled":false,"attributes":[{"name":"comment","value":{"type":"STRING","string":"(FIN) Obtiene el código para cada tipo de Adjunto. (OFAC, MATCH, INFORMCONF)"}}]},{"uid":"3c5ea373-8f64-4679-8910-e5858c837c35","commandName":"Comment","packageName":"Comment","disabled":false,"attributes":[{"name":"comment","value":{"type":"STRING","string":"================================="}}]}],"variables":[{"name":"vHeader","description":"","type":"TABLE","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"TABLE","table":{"schema":[{"name":"","type":"STRING"},{"name":"","type":"STRING"}],"rows":[{"values":[{"type":"STRING","string":""},{"type":"STRING","string":""}]},{"values":[{"type":"STRING","string":""},{"type":"STRING","string":""}]},{"values":[{"type":"STRING","string":""},{"type":"STRING","string":""}]},{"values":[{"type":"STRING","string":""},{"type":"STRING","string":""}]},{"values":[{"type":"STRING","string":""},{"type":"STRING","string":""}]},{"values":[{"type":"STRING","string":""},{"type":"STRING","string":""}]},{"values":[{"type":"STRING","string":""},{"type":"STRING","string":""}]},{"values":[{"type":"STRING","string":""},{"type":"STRING","string":""}]},{"values":[{"type":"STRING","string":""},{"type":"STRING","string":""}]},{"values":[{"type":"STRING","string":""},{"type":"STRING","string":""}]},{"values":[{"type":"STRING","string":""},{"type":"STRING","string":""}]}]}}},{"name":"vServicioRest","description":"","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":""}},{"name":"vResponseBearerToken","description":"","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":""}},{"name":"Prompt-Assignment","description":"","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":"Test-Value"}},{"name":"vRespuestaRest","description":"","type":"TABLE","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"TABLE","table":{"schema":[{"name":"","type":"STRING"},{"name":"","type":"STRING"}],"rows":[{"values":[{"type":"STRING","string":""},{"type":"STRING","string":""}]}]}}},{"name":"vStatus","description":"","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":""}},{"name":"vFlagEjecucion","description":"","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":""}},{"name":"vEntorno","description":"","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":""}},{"name":"vContratoID","description":"","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":""}},{"name":"vLogFile","description":"","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":""}},{"name":"vAuxResponse","description":"","type":"LIST","subtype":"STRING","input":true,"output":true,"defaultValue":{"type":"LIST","list":[{"type":"STRING","string":"0"}]}},{"name":"vContratoValue","description":"","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":""}},{"name":"vAuxLista","description":"","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":""}},{"name":"vIntentosRest","description":"","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":""}},{"name":"List-Item","description":"","type":"STRING","subtype":"UNDEFINED","input":false,"output":false},{"name":"List-Item-1","description":"","type":"STRING","subtype":"UNDEFINED","input":false,"output":false},{"name":"Loop-Counter-1","description":"","type":"STRING","subtype":"UNDEFINED","input":false,"output":false},{"name":"Loop-Counter-2","description":"","type":"STRING","subtype":"UNDEFINED","input":false,"output":false},{"name":"M-TableCellValue","description":"","type":"STRING","subtype":"UNDEFINED","input":false,"output":false},{"name":"Rest-Response-Assignment","description":"","type":"DICTIONARY","subtype":"STRING","input":false,"output":false,"defaultValue":{"type":"DICTIONARY","dictionary":[]}},{"name":"m-dictionary-size","description":"","type":"NUMBER","subtype":"UNDEFINED","input":false,"output":false},{"name":"m-row-index","description":"","type":"NUMBER","subtype":"UNDEFINED","input":false,"output":false},{"name":"m-dictionary-key","description":"","type":"STRING","subtype":"UNDEFINED","input":false,"output":false},{"name":"integerReturnVariable","description":"","type":"NUMBER","subtype":"UNDEFINED","input":false,"output":false},{"name":"m-string-start-in-path","description":"","type":"STRING","subtype":"UNDEFINED","input":true,"output":true}],"breakpoints":[],"packages":[{"name":"Comment","version":"2.12.0"},{"name":"String","version":"5.5.2-20221006-094641"},{"name":"Loop","version":"3.6.0-20220928-191723"},{"name":"LegacyAutomation","version":"5.6.1-20221027-080331"},{"name":"Number","version":"3.6.0-20220928-104414"},{"name":"If","version":"3.5.0-20220928-201537"},{"name":"Rest","version":"3.12.0-20220926-070217"},{"name":"Dictionary","version":"3.10.0-20220929-153817"},{"name":"DataTable","version":"4.6.0-20220920-155212"},{"name":"MessageBox","version":"3.4.0-20220416-233919"},{"name":"TaskBot","version":"2.5.0-20221020-114450"},{"name":"List","version":"2.9.2-20220919-103920"},{"name":"LogToFile","version":"3.5.0-20220416-233918"},{"name":"Delay","version":"3.6.0-20220926-132853"}],"properties":{"improvedNumberSupport":true,"automationPriority":"PRIORITY_MEDIUM","timeout":"0s"}}