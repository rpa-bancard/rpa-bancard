{"nodes":[{"uid":"61d6cf4c-e826-4df0-9f39-e56b283eb3f0","commandName":"Comment","packageName":"Comment","disabled":false,"attributes":[{"name":"comment","value":{"type":"STRING","string":"================================="}}]},{"uid":"9140c945-306d-4d44-869a-0c44d44f3721","commandName":"Comment","packageName":"Comment","disabled":false,"attributes":[{"name":"comment","value":{"type":"STRING","string":"(INICIA) Obtiene el código para cada tipo de Adjunto. (OFAC, MATCH, INFORMCONF)"}}]},{"uid":"c23aa577-fda3-437d-adf7-be364e480914","commandName":"Comment","packageName":"Comment","disabled":false,"attributes":[{"name":"comment","value":{"type":"STRING","string":"================================="}}]},{"uid":"9376d36b-cf27-4534-8865-de7cd0936fdb","commandName":"assign","packageName":"String","attributes":[{"name":"sourceString","value":{"type":"STRING","string":"1"}}],"returnTo":{"type":"VARIABLE","variableName":"vIntentosRest"}},{"uid":"488e088e-5f48-4865-b39c-7316fca765fc","commandName":"assign","packageName":"String","attributes":[{"name":"sourceString","value":{"type":"STRING","string":" "}}],"returnTo":{"type":"VARIABLE","variableName":"vStatus"}},{"uid":"76f04bb5-b381-4521-bc03-4fff042ebdf9","commandName":"assign","packageName":"String","attributes":[{"name":"sourceString","value":{"type":"STRING","string":"0"}}],"returnTo":{"type":"VARIABLE","variableName":"Loop-Counter-1"}},{"uid":"c1b2a945-bdea-425b-86c9-d0cb05dcddc4","commandName":"loop.commands.start","packageName":"Loop","attributes":[{"name":"operator","value":{"type":"STRING","string":"AND"}},{"name":"checkConditionAtEnd","value":{"type":"BOOLEAN","boolean":false}},{"name":"condition","value":{"type":"CONDITIONAL","conditionalName":"legacyConditionVariable","packageName":"LegacyAutomation"},"attributes":[{"name":"variable","value":{"type":"STRING","expression":"$vStatus$"}},{"name":"operator","value":{"type":"STRING","string":"DoesNotEqualTo"}},{"name":"value","value":{"type":"STRING","string":"ok"}}],"operatorAttribute":{"operator":"AND","value":{"type":"CONDITIONAL","conditionalName":"legacyConditionVariable","packageName":"LegacyAutomation"},"attributes":[{"name":"variable","value":{"type":"STRING","expression":"$vIntentosRest$"}},{"name":"operator","value":{"type":"STRING","string":"LessThanOrEqualTo"}},{"name":"value","value":{"type":"STRING","string":"3"}}]}},{"name":"loopType","value":{"type":"STRING","string":"WHILE"}}],"children":[{"uid":"640b7e41-bfb4-46a8-a7b9-45c13bd3edae","commandName":"assign","packageName":"String","attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$Loop-Counter-1.LegacyAutomation:getIncrementedNumber.Number:toString$"}}],"returnTo":{"type":"VARIABLE","variableName":"Loop-Counter-1"}},{"uid":"708c2045-023f-43ba-8641-850a3ae6668e","commandName":"Comment","packageName":"Comment","disabled":false,"attributes":[{"name":"comment","value":{"type":"STRING","string":"Realizará el ciclo en 3 Intentos o hasta que el Status sea ok y se obtenga el Bearer Token."}}]},{"uid":"fdedc52f-9364-4f86-80ae-3a28937fb3f6","commandName":"if","packageName":"If","attributes":[{"name":"condition","value":{"type":"CONDITIONAL","conditionalName":"legacyConditionVariable","packageName":"LegacyAutomation"},"attributes":[{"name":"variable","value":{"type":"STRING","expression":"$vEntorno$"}},{"name":"operator","value":{"type":"STRING","string":"EqualsTo"}},{"name":"value","value":{"type":"STRING","string":"DEV"}}]}],"children":[{"uid":"e15494c1-10a4-47e2-8fa2-ed97376f6128","commandName":"restGet","packageName":"Rest","attributes":[{"name":"uriOption","value":{"type":"STRING","string":"text"}},{"name":"uri","value":{"type":"STRING","string":"https://bancard-apim-qas.apimanagement.br10.hana.ondemand.com/bpde-dev/api/tipoAdjunto"}},{"name":"authenticationMode","value":{"type":"STRING","string":"NoAuthentication"}},{"name":"customHeaders","value":{"type":"LIST","list":[{"type":"DICTIONARY","dictionary":[{"key":"enabled","value":{"type":"BOOLEAN","boolean":true}},{"key":"name","value":{"type":"STRING","string":"Origin"}},{"key":"value","value":{"type":"STRING","string":"https://domus-tired-topi-ng.cfapps.ap21.hana.ondemand.com"}}]},{"type":"DICTIONARY","dictionary":[{"key":"enabled","value":{"type":"BOOLEAN","boolean":true}},{"key":"name","value":{"type":"STRING","string":"Accept"}},{"key":"value","value":{"type":"STRING","string":"*/*"}}]},{"type":"DICTIONARY","dictionary":[{"key":"enabled","value":{"type":"BOOLEAN","boolean":true}},{"key":"name","value":{"type":"STRING","string":"Authorization"}},{"key":"value","value":{"type":"STRING","expression":"Bearer $vResponseBearerToken$"}}]}]}},{"name":"proxyType","value":{"type":"STRING","string":"SYSTEM"}},{"name":"captureFailureResponse","value":{"type":"BOOLEAN","boolean":true}},{"name":"timeOut","value":{"type":"NUMBER","expression":"$@AARestTimeOut$"}}],"returnTo":{"type":"VARIABLE","variableName":"Rest-Response-Assignment"}},{"uid":"6455bc6e-f6ec-4cc2-aded-edbf7614a0c8","commandName":"size","packageName":"Dictionary","attributes":[{"name":"sourceMap","value":{"type":"VARIABLE","variableName":"Rest-Response-Assignment"}}],"returnTo":{"type":"VARIABLE","variableName":"m-dictionary-size"}},{"uid":"b6e144f7-9bc1-4008-9dcf-12787c852868","commandName":"decrement","packageName":"Number","attributes":[{"name":"source","value":{"type":"NUMBER","expression":"$m-dictionary-size$"}},{"name":"by","value":{"type":"NUMBER","number":"1"}}],"returnTo":{"type":"VARIABLE","variableName":"m-dictionary-size"}},{"uid":"a4edae1d-07f4-4c48-86a1-e67e34ef200c","commandName":"assign","packageName":"DataTable","attributes":[{"name":"option","value":{"type":"STRING","string":"resize"}},{"name":"rowSize","value":{"type":"NUMBER","expression":"$m-dictionary-size$"}},{"name":"columnSize","value":{"type":"NUMBER","number":"2"}}],"returnTo":{"type":"VARIABLE","variableName":"vHeader"}},{"uid":"ec892074-1e01-4215-9fb8-572099ce0927","commandName":"assignToNumber","packageName":"Number","attributes":[{"name":"input","value":{"type":"NUMBER","number":"0"}}],"returnTo":{"type":"VARIABLE","variableName":"m-row-index"}},{"uid":"adeae354-19dd-48fd-9b23-943ef43db406","commandName":"loop.commands.start","packageName":"Loop","attributes":[{"name":"iterator","value":{"type":"ITERATOR","iteratorName":"dictionary.iterators.keys","packageName":"Dictionary"},"returnTo":{"type":"VARIABLE","variableName":"m-dictionary-key"},"attributes":[{"name":"sourceMap","value":{"type":"VARIABLE","variableName":"Rest-Response-Assignment"}}]},{"name":"loopType","value":{"type":"STRING","string":"ITERATOR"}}],"children":[{"uid":"1d7d1b73-ce35-4f7e-b4bc-afd07450c204","commandName":"if","packageName":"If","attributes":[{"name":"condition","value":{"type":"CONDITIONAL","conditionalName":"legacyConditionVariable","packageName":"LegacyAutomation"},"attributes":[{"name":"variable","value":{"type":"STRING","expression":"$m-dictionary-key$"}},{"name":"operator","value":{"type":"STRING","string":"DoesNotEqualTo"}},{"name":"value","value":{"type":"STRING","string":"Body"}}]}],"children":[{"uid":"d9ff4337-c176-4936-a2e3-b6965b5d40e8","commandName":"setCellValue","packageName":"DataTable","attributes":[{"name":"table","value":{"type":"VARIABLE","variableName":"vHeader"}},{"name":"rowPosition","value":{"type":"NUMBER","expression":"$m-row-index$"}},{"name":"columnType","value":{"type":"STRING","string":"colIndex"}},{"name":"columnIndex","value":{"type":"NUMBER","number":"0"}},{"name":"value","value":{"type":"STRING","expression":"$m-dictionary-key$"}}]},{"uid":"101d7e73-3bae-46d8-b4bc-a11989f3a1d1","commandName":"setCellValue","packageName":"DataTable","attributes":[{"name":"table","value":{"type":"VARIABLE","variableName":"vHeader"}},{"name":"rowPosition","value":{"type":"NUMBER","expression":"$m-row-index$"}},{"name":"columnType","value":{"type":"STRING","string":"colIndex"}},{"name":"columnIndex","value":{"type":"NUMBER","number":"1"}},{"name":"value","value":{"type":"STRING","expression":"$Rest-Response-Assignment{$m-dictionary-key$}$"}}]},{"uid":"7fad5b2f-9f7a-4e5a-a0a5-f54d0bbe45b8","commandName":"increment","packageName":"Number","attributes":[{"name":"source","value":{"type":"NUMBER","expression":"$m-row-index$"}},{"name":"by","value":{"type":"NUMBER","number":"1"}}],"returnTo":{"type":"VARIABLE","variableName":"m-row-index"}}]}]},{"uid":"57e08790-c387-43dd-bf25-c496e0c0f3bc","commandName":"assign","packageName":"String","attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$Rest-Response-Assignment{Body}$"}}],"returnTo":{"type":"VARIABLE","variableName":"Prompt-Assignment"}}],"branches":[{"uid":"daaed916-f8bf-49ed-95a8-c0f4b0f1ac2b","commandName":"elseIf","packageName":"If","attributes":[{"name":"condition","value":{"type":"CONDITIONAL","conditionalName":"legacyConditionVariable","packageName":"LegacyAutomation"},"attributes":[{"name":"variable","value":{"type":"STRING","expression":"$vEntorno$"}},{"name":"operator","value":{"type":"STRING","string":"EqualsTo"}},{"name":"value","value":{"type":"STRING","string":"PRD"}}]}],"children":[{"uid":"3af79090-0309-4c0e-accf-6d87bb696165","commandName":"restGet","packageName":"Rest","attributes":[{"name":"uriOption","value":{"type":"STRING","string":"text"}},{"name":"uri","value":{"type":"STRING","string":"https://bancard-apim-qas.apimanagement.br10.hana.ondemand.com/bpde-dev/api/tipoAdjunto"}},{"name":"authenticationMode","value":{"type":"STRING","string":"NoAuthentication"}},{"name":"customHeaders","value":{"type":"LIST","list":[{"type":"DICTIONARY","dictionary":[{"key":"enabled","value":{"type":"BOOLEAN","boolean":true}},{"key":"name","value":{"type":"STRING","string":"Origin"}},{"key":"value","value":{"type":"STRING","string":"https://domus-tired-topi-ng.cfapps.ap21.hana.ondemand.com"}}]},{"type":"DICTIONARY","dictionary":[{"key":"enabled","value":{"type":"BOOLEAN","boolean":true}},{"key":"name","value":{"type":"STRING","string":"Accept"}},{"key":"value","value":{"type":"STRING","string":"*/*"}}]},{"type":"DICTIONARY","dictionary":[{"key":"enabled","value":{"type":"BOOLEAN","boolean":true}},{"key":"name","value":{"type":"STRING","string":"Authorization"}},{"key":"value","value":{"type":"STRING","expression":"Bearer $vResponseBearerToken$"}}]}]}},{"name":"proxyType","value":{"type":"STRING","string":"SYSTEM"}},{"name":"captureFailureResponse","value":{"type":"BOOLEAN","boolean":true}},{"name":"timeOut","value":{"type":"NUMBER","expression":"$@AARestTimeOut$"}}],"returnTo":{"type":"VARIABLE","variableName":"Rest-Response-Assignment"}},{"uid":"01c3d1ae-c5ca-488f-99e3-dede51a17765","commandName":"size","packageName":"Dictionary","attributes":[{"name":"sourceMap","value":{"type":"VARIABLE","variableName":"Rest-Response-Assignment"}}],"returnTo":{"type":"VARIABLE","variableName":"m-dictionary-size"}},{"uid":"2a94b5c1-0a1b-4831-8d41-ccbdced3b0c1","commandName":"decrement","packageName":"Number","attributes":[{"name":"source","value":{"type":"NUMBER","expression":"$m-dictionary-size$"}},{"name":"by","value":{"type":"NUMBER","number":"1"}}],"returnTo":{"type":"VARIABLE","variableName":"m-dictionary-size"}},{"uid":"4ffb9169-fdf3-47d0-9f7b-dfaeb88eccad","commandName":"assign","packageName":"DataTable","attributes":[{"name":"option","value":{"type":"STRING","string":"resize"}},{"name":"rowSize","value":{"type":"NUMBER","expression":"$m-dictionary-size$"}},{"name":"columnSize","value":{"type":"NUMBER","number":"2"}}],"returnTo":{"type":"VARIABLE","variableName":"vHeader"}},{"uid":"34aa1eee-dda3-42f3-854d-e52cbc4b0ea1","commandName":"assignToNumber","packageName":"Number","attributes":[{"name":"input","value":{"type":"NUMBER","number":"0"}}],"returnTo":{"type":"VARIABLE","variableName":"m-row-index"}},{"uid":"910d456b-3300-401d-a834-f1ea5bc3f302","commandName":"loop.commands.start","packageName":"Loop","attributes":[{"name":"iterator","value":{"type":"ITERATOR","iteratorName":"dictionary.iterators.keys","packageName":"Dictionary"},"returnTo":{"type":"VARIABLE","variableName":"m-dictionary-key"},"attributes":[{"name":"sourceMap","value":{"type":"VARIABLE","variableName":"Rest-Response-Assignment"}}]},{"name":"loopType","value":{"type":"STRING","string":"ITERATOR"}}],"children":[{"uid":"0256c130-7f01-4b64-b848-3e0262786fa1","commandName":"if","packageName":"If","attributes":[{"name":"condition","value":{"type":"CONDITIONAL","conditionalName":"legacyConditionVariable","packageName":"LegacyAutomation"},"attributes":[{"name":"variable","value":{"type":"STRING","expression":"$m-dictionary-key$"}},{"name":"operator","value":{"type":"STRING","string":"DoesNotEqualTo"}},{"name":"value","value":{"type":"STRING","string":"Body"}}]}],"children":[{"uid":"089ba76a-a271-43cd-bfe3-30c80a55d9a0","commandName":"setCellValue","packageName":"DataTable","attributes":[{"name":"table","value":{"type":"VARIABLE","variableName":"vHeader"}},{"name":"rowPosition","value":{"type":"NUMBER","expression":"$m-row-index$"}},{"name":"columnType","value":{"type":"STRING","string":"colIndex"}},{"name":"columnIndex","value":{"type":"NUMBER","number":"0"}},{"name":"value","value":{"type":"STRING","expression":"$m-dictionary-key$"}}]},{"uid":"fbb11998-2c9c-45d5-aa45-56fd4fb99f35","commandName":"setCellValue","packageName":"DataTable","attributes":[{"name":"table","value":{"type":"VARIABLE","variableName":"vHeader"}},{"name":"rowPosition","value":{"type":"NUMBER","expression":"$m-row-index$"}},{"name":"columnType","value":{"type":"STRING","string":"colIndex"}},{"name":"columnIndex","value":{"type":"NUMBER","number":"1"}},{"name":"value","value":{"type":"STRING","expression":"$Rest-Response-Assignment{$m-dictionary-key$}$"}}]},{"uid":"6957d76b-c83d-4b79-981e-5958adf8f357","commandName":"increment","packageName":"Number","attributes":[{"name":"source","value":{"type":"NUMBER","expression":"$m-row-index$"}},{"name":"by","value":{"type":"NUMBER","number":"1"}}],"returnTo":{"type":"VARIABLE","variableName":"m-row-index"}}]}]},{"uid":"20e80ac7-33f6-4662-8e1e-3590de0750e8","commandName":"assign","packageName":"String","attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$Rest-Response-Assignment{Body}$"}}],"returnTo":{"type":"VARIABLE","variableName":"Prompt-Assignment"}}]}]},{"uid":"ea1d49b8-bd2f-419e-9811-234a38ce2d2e","commandName":"assign","packageName":"String","attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$vHeader[0][1]$"}}],"returnTo":{"type":"VARIABLE","variableName":"M-TableCellValue"}},{"uid":"dd23115e-26bd-4080-aa75-2affb63f361d","commandName":"assign","packageName":"String","attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$M-TableCellValue.LegacyAutomation:parseVariableOperation$"}}],"returnTo":{"type":"VARIABLE","variableName":"M-TableCellValue"}},{"uid":"e6bb2f47-fade-484c-8921-f8e5e9de4f3d","commandName":"setCellValue","packageName":"DataTable","attributes":[{"name":"table","value":{"type":"VARIABLE","variableName":"vRespuestaRest"}},{"name":"value","value":{"type":"STRING","expression":"$M-TableCellValue$"}},{"name":"rowPosition","value":{"type":"NUMBER","number":"0"}},{"name":"columnType","value":{"type":"STRING","string":"colIndex"}},{"name":"columnIndex","value":{"type":"NUMBER","number":"1"}}]},{"uid":"2d00539b-3c46-4b2b-afa7-f8e3421236f7","commandName":"messageBox","packageName":"MessageBox","attributes":[{"name":"title","value":{"type":"STRING","string":"Automation Anywhere Enterprise Client"}},{"name":"content","value":{"type":"STRING","expression":"$vRespuestaRest[0][1]$"}},{"name":"scrollLines","value":{"type":"NUMBER","number":"30"}},{"name":"closeMsgBox","value":{"type":"BOOLEAN","boolean":true}},{"name":"timeOut","value":{"type":"NUMBER","number":"1"}}]},{"uid":"8f11e3d3-4007-4d41-99bc-2ee84be631fb","commandName":"assign","packageName":"String","attributes":[{"name":"sourceString","value":{"type":"STRING","string":"Servicio:https://bancard-apim-qas.apimanagement.br10.hana.ondemand.com/bpde-dev/api/tipoAdjunto\nFunción: Obtener value de Tipos de Adjuntos en el portal."}}],"returnTo":{"type":"VARIABLE","variableName":"vServicioRest"}},{"uid":"e1760d10-5554-4588-a883-0212731ddda6","commandName":"assign","packageName":"String","attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$vServicioRest.LegacyAutomation:parseVariableOperation$"}}],"returnTo":{"type":"VARIABLE","variableName":"vServicioRest"}},{"uid":"95f024f1-52ca-45b6-b790-0a98dce210a1","commandName":"runTask","packageName":"TaskBot","attributes":[{"name":"taskbot","value":{"type":"TASKBOT","taskbotFile":{"type":"FILE","string":"repository:///Automation%20Anywhere/Bots/My%20Tasks/Adjunto%20de%20Contratos%20V2/Manejo_respuestas_rest"},"taskbotInput":{"type":"DICTIONARY","dictionary":[{"key":"vRespuestaRest","value":{"type":"ANY","expression":"$vRespuestaRest$"}},{"key":"vStatus","value":{"type":"STRING","expression":"$vStatus$"}},{"key":"vLogfile","value":{"type":"STRING","expression":"$vLogFile$"}},{"key":"vServicioRest","value":{"type":"STRING","expression":"$vServicioRest$"}}]},"taskbotOutput":{"type":"DICTIONARY","dictionary":[]}}},{"name":"repeatOption","value":{"type":"STRING","string":"DO_NOT_REPEAT"}},{"name":"delayNextRepetition","value":{"type":"BOOLEAN","boolean":false}},{"name":"continueOnError","value":{"type":"BOOLEAN","boolean":true}}],"returnTo":{"type":"DICTIONARY","dictionary":[{"key":"vRespuestaRest","value":{"type":"VARIABLE","variableName":"vRespuestaRest"}},{"key":"vStatus","value":{"type":"VARIABLE","variableName":"vStatus"}},{"key":"vLogfile","value":{"type":"VARIABLE","variableName":"vLogFile"}},{"key":"vServicioRest","value":{"type":"VARIABLE","variableName":"vServicioRest"}}]}},{"uid":"6a8884b0-e68d-4234-b2f3-6d90f3cfff2f","commandName":"if","packageName":"If","attributes":[{"name":"condition","value":{"type":"CONDITIONAL","conditionalName":"legacyConditionVariable","packageName":"LegacyAutomation"},"attributes":[{"name":"variable","value":{"type":"STRING","expression":"$vStatus$"}},{"name":"operator","value":{"type":"STRING","string":"EqualsTo"}},{"name":"value","value":{"type":"STRING","string":"ok"}}]}],"children":[{"uid":"6f68ad59-11bb-4d08-ace1-b0444aef6907","commandName":"Comment","packageName":"Comment","disabled":false,"attributes":[{"name":"comment","value":{"type":"STRING","string":"Servicio sin errores"}}]},{"uid":"e1112a98-1d9b-48a0-aaf1-57933d6c2b2d","commandName":"Comment","packageName":"Comment","disabled":false,"attributes":[{"name":"comment","value":{"type":"STRING","string":"Remove todo lo que no sea un objeto de Tipo de Adjunto"}}]},{"uid":"991bef01-45db-460c-9c57-c7603d94e112","commandName":"beforeAfter","packageName":"String","attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$Prompt-Assignment$"}},{"name":"trimSpaces","value":{"type":"BOOLEAN","boolean":true}},{"name":"removeEnter","value":{"type":"BOOLEAN","boolean":true}},{"name":"ifNoMatchFound","value":{"type":"STRING","string":"SOURCE"}},{"name":"beforeAfterCondition","value":{"type":"STRING","string":"AND"}},{"name":"getCharacters","value":{"type":"STRING","string":"BEFOREAFTER"}},{"name":"beforeStringInBeforeAfter","value":{"type":"STRING","string":"{\"data\":["}},{"name":"beforeOccurrenceInBeforeAfter","value":{"type":"NUMBER","number":"1"}},{"name":"afterStringInBeforeAfter","value":{"type":"STRING","string":"],"}},{"name":"afterOccurrenceInBeforeAfter","value":{"type":"NUMBER","number":"1"}},{"name":"noOfCharsToGet","value":{"type":"STRING","string":"ALL"}},{"name":"isCaseSensitive","value":{"type":"STRING","string":"false"}}],"returnTo":{"type":"VARIABLE","variableName":"Prompt-Assignment"}},{"uid":"f10a71d1-8eac-4ee8-b968-5699fa88b570","commandName":"Comment","packageName":"Comment","disabled":false,"attributes":[{"name":"comment","value":{"type":"STRING","string":"Divide el response por el delimitador \"}\" de manera a poder utilizar la función de before-after en cada objeto json de Tipo de Adjunto"}}]},{"uid":"87648935-8f76-49cc-8fa0-3289cfa756ce","commandName":"split","packageName":"String","attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$Prompt-Assignment$"}},{"name":"delimiter","value":{"type":"STRING","string":"},"}},{"name":"isCaseSensitive","value":{"type":"STRING","string":"false"}},{"name":"substrings","value":{"type":"STRING","string":"ALL"}}],"returnTo":{"type":"VARIABLE","variableName":"vAuxResponse"}},{"uid":"f8e57330-5153-418d-81c6-2ad439482e06","commandName":"assign","packageName":"String","attributes":[{"name":"sourceString","value":{"type":"STRING","string":"0"}}],"returnTo":{"type":"VARIABLE","variableName":"Loop-Counter-2"}},{"uid":"48638ee4-1ff8-4064-9b1e-683bb3f33b33","commandName":"loop.commands.start","packageName":"Loop","attributes":[{"name":"iterator","value":{"type":"ITERATOR","iteratorName":"list.iterators.list","packageName":"List"},"returnTo":{"type":"VARIABLE","variableName":"List-Item-1"},"attributes":[{"name":"list","value":{"type":"VARIABLE","variableName":"vAuxResponse"}},{"name":"forOptions","value":{"type":"STRING","string":"all"}}]},{"name":"loopType","value":{"type":"STRING","string":"ITERATOR"}}],"children":[{"uid":"151bbec3-ce5c-4a36-a105-0c45ee831578","commandName":"assign","packageName":"String","attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$Loop-Counter-2.LegacyAutomation:getIncrementedNumber.Number:toString$"}}],"returnTo":{"type":"VARIABLE","variableName":"Loop-Counter-2"}},{"uid":"a514a7cf-7430-4058-bcdd-2550373bb546","commandName":"Comment","packageName":"Comment","disabled":false,"attributes":[{"name":"comment","value":{"type":"STRING","string":"Busca la palabra clave dentro del objeto Tipo de Adjunto que está siendo procesado. Devuelve cero si no encuentra"}}]},{"uid":"d4bcbcc7-4aaa-44bf-8b6e-6db22722edf2","commandName":"find","packageName":"String","attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$vAuxResponse.LegacyAutomation:getLegacyIndexValue($Loop-Counter-2.LegacyAutomation:getDecrementedNumber$)$"}},{"name":"find","value":{"type":"STRING","string":"Contrato"}},{"name":"startIndex","value":{"type":"NUMBER","number":"1"}},{"name":"isCaseSensitive","value":{"type":"STRING","string":"false"}},{"name":"isRegularExpression","value":{"type":"STRING","string":"false"}}],"returnTo":{"type":"VARIABLE","variableName":"integerReturnVariable"}},{"uid":"6a8ee94e-dc63-4d3d-a7f2-0aeb0fd2c682","commandName":"assign","packageName":"String","attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$integerReturnVariable.Number:toString$"}}],"returnTo":{"type":"VARIABLE","variableName":"vAuxLista"}},{"uid":"93f08939-0e76-4685-aa69-d3f22d233654","commandName":"if","packageName":"If","attributes":[{"name":"condition","value":{"type":"CONDITIONAL","conditionalName":"legacyConditionVariable","packageName":"LegacyAutomation"},"attributes":[{"name":"variable","value":{"type":"STRING","expression":"$vAuxLista$"}},{"name":"operator","value":{"type":"STRING","string":"GreaterThan"}},{"name":"value","value":{"type":"STRING","string":"0"}}]}],"children":[{"uid":"881206de-2390-45ab-a386-a5a3f87696de","commandName":"Comment","packageName":"Comment","disabled":false,"attributes":[{"name":"comment","value":{"type":"STRING","string":"Esta procesando el objeto de tipo Contrato"}}]},{"uid":"a5d0c2de-df82-4834-960b-00cdbabe5a9f","commandName":"beforeAfter","packageName":"String","attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$vAuxResponse.LegacyAutomation:getLegacyIndexValue($Loop-Counter-2.LegacyAutomation:getDecrementedNumber$)$"}},{"name":"trimSpaces","value":{"type":"BOOLEAN","boolean":true}},{"name":"removeEnter","value":{"type":"BOOLEAN","boolean":true}},{"name":"ifNoMatchFound","value":{"type":"STRING","string":"EMPTY"}},{"name":"beforeAfterCondition","value":{"type":"STRING","string":"AND"}},{"name":"getCharacters","value":{"type":"STRING","string":"BEFOREAFTER"}},{"name":"beforeStringInBeforeAfter","value":{"type":"STRING","string":"\"value\":\""}},{"name":"beforeOccurrenceInBeforeAfter","value":{"type":"NUMBER","number":"1"}},{"name":"afterStringInBeforeAfter","value":{"type":"STRING","string":"\",\"description\":\"Contrato\""}},{"name":"afterOccurrenceInBeforeAfter","value":{"type":"NUMBER","number":"1"}},{"name":"noOfCharsToGet","value":{"type":"STRING","string":"ALL"}},{"name":"isCaseSensitive","value":{"type":"STRING","string":"false"}}],"returnTo":{"type":"VARIABLE","variableName":"vContratoValue"}},{"uid":"60aaa238-0340-4cc7-949a-607d9704e166","commandName":"beforeAfter","packageName":"String","attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$vAuxResponse.LegacyAutomation:getLegacyIndexValue($Loop-Counter-2.LegacyAutomation:getDecrementedNumber$)$"}},{"name":"trimSpaces","value":{"type":"BOOLEAN","boolean":true}},{"name":"removeEnter","value":{"type":"BOOLEAN","boolean":true}},{"name":"ifNoMatchFound","value":{"type":"STRING","string":"EMPTY"}},{"name":"beforeAfterCondition","value":{"type":"STRING","string":"AND"}},{"name":"getCharacters","value":{"type":"STRING","string":"BEFOREAFTER"}},{"name":"beforeStringInBeforeAfter","value":{"type":"STRING","string":"\"_id\":\""}},{"name":"beforeOccurrenceInBeforeAfter","value":{"type":"NUMBER","number":"1"}},{"name":"afterStringInBeforeAfter","value":{"type":"STRING","string":"\","}},{"name":"afterOccurrenceInBeforeAfter","value":{"type":"NUMBER","number":"1"}},{"name":"noOfCharsToGet","value":{"type":"STRING","string":"ALL"}},{"name":"isCaseSensitive","value":{"type":"STRING","string":"false"}}],"returnTo":{"type":"VARIABLE","variableName":"vContratoID"}},{"uid":"7cc2a2c6-253e-4266-b991-18805d8806af","commandName":"assign","packageName":"String","attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$vLogFile$"}}],"returnTo":{"type":"VARIABLE","variableName":"m-string-start-in-path"}},{"uid":"e451c4ee-5761-4568-97f1-b0b061306fec","commandName":"logToFile","packageName":"LogToFile","attributes":[{"name":"filePath","value":{"type":"FILE","expression":"file://$m-string-start-in-path.LegacyAutomation:getAbsolutePath($@AABasePath$)$"}},{"name":"logContent","value":{"type":"STRING","expression":"(Intento: $vIntentosRest$) \n-->CONTRATO:\n       ID: $vContratoID$\n       Value: $vContratoValue$"}},{"name":"appendTimestamp","value":{"type":"BOOLEAN","boolean":true}},{"name":"logOption","value":{"type":"STRING","string":"APPEND_FILE"}},{"name":"encodingValue","value":{"type":"STRING","string":"ANSI"}}]},{"uid":"d4085671-f0cb-4215-aaff-0970b62948a2","commandName":"loop.commands.break","packageName":"Loop","attributes":[]}]}]}],"branches":[{"uid":"2b2cab88-60a2-4c70-96ad-758270562201","commandName":"elseIf","packageName":"If","attributes":[{"name":"operator","value":{"type":"STRING","string":"AND"}},{"name":"condition","value":{"type":"CONDITIONAL","conditionalName":"legacyConditionVariable","packageName":"LegacyAutomation"},"attributes":[{"name":"variable","value":{"type":"STRING","expression":"$vStatus$"}},{"name":"operator","value":{"type":"STRING","string":"EqualsTo"}},{"name":"value","value":{"type":"STRING","string":"error"}}],"operatorAttribute":{"operator":"AND","value":{"type":"CONDITIONAL","conditionalName":"legacyConditionVariable","packageName":"LegacyAutomation"},"attributes":[{"name":"variable","value":{"type":"STRING","expression":"$vIntentosRest$"}},{"name":"operator","value":{"type":"STRING","string":"LessThanOrEqualTo"}},{"name":"value","value":{"type":"STRING","string":"3"}}]}}],"children":[{"uid":"66ae5430-e86c-451f-bb4f-14c8bee08e10","commandName":"assign","packageName":"String","attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$vLogFile$"}}],"returnTo":{"type":"VARIABLE","variableName":"m-string-start-in-path"}},{"uid":"63c9c881-138e-4dda-a0ee-aa6904ca695f","commandName":"logToFile","packageName":"LogToFile","attributes":[{"name":"filePath","value":{"type":"FILE","expression":"file://$m-string-start-in-path.LegacyAutomation:getAbsolutePath($@AABasePath$)$"}},{"name":"logContent","value":{"type":"STRING","expression":"(Intento: $vIntentosRest$) No se pudo acceder al servicio de Tipo de Adjuntos, se intentará de vuelta."}},{"name":"appendTimestamp","value":{"type":"BOOLEAN","boolean":true}},{"name":"logOption","value":{"type":"STRING","string":"APPEND_FILE"}},{"name":"encodingValue","value":{"type":"STRING","string":"ANSI"}}]},{"uid":"11c31290-3bd8-400a-9ae1-faf105221380","commandName":"assign","packageName":"String","attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$vIntentosRest$ + 1"}}],"returnTo":{"type":"VARIABLE","variableName":"vIntentosRest"}},{"uid":"97187498-7660-488c-9831-3965196d435c","commandName":"assign","packageName":"String","attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$vIntentosRest.LegacyAutomation:parseVariableOperation$"}}],"returnTo":{"type":"VARIABLE","variableName":"vIntentosRest"}},{"uid":"a3b65d12-d6e8-4e76-bc37-d287b42d3744","commandName":"delay","packageName":"Delay","attributes":[{"name":"delayTime","value":{"type":"NUMBER","number":"3"}},{"name":"timeUnit","value":{"type":"STRING","string":"SECONDS"}},{"name":"delayType","value":{"type":"STRING","string":"REGULAR"}}]}]}]}]},{"uid":"d7408b2e-4576-41a9-9e21-e2fa07c707f8","commandName":"Comment","packageName":"Comment","disabled":false,"attributes":[{"name":"comment","value":{"type":"STRING","string":"================================="}}]},{"uid":"acba4dd7-3ab8-4170-bec7-10b1c58cbcaa","commandName":"Comment","packageName":"Comment","disabled":false,"attributes":[{"name":"comment","value":{"type":"STRING","string":"(FIN) Obtiene el código para cada tipo de Adjunto. (OFAC, MATCH, INFORMCONF)"}}]},{"uid":"f148d120-7a8a-4546-88be-0016e611aff2","commandName":"Comment","packageName":"Comment","disabled":false,"attributes":[{"name":"comment","value":{"type":"STRING","string":"================================="}}]}],"variables":[{"name":"vHeader","description":"","type":"TABLE","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"TABLE","table":{"schema":[{"name":"","type":"STRING"},{"name":"","type":"STRING"}],"rows":[{"values":[{"type":"STRING","string":""},{"type":"STRING","string":""}]},{"values":[{"type":"STRING","string":""},{"type":"STRING","string":""}]},{"values":[{"type":"STRING","string":""},{"type":"STRING","string":""}]},{"values":[{"type":"STRING","string":""},{"type":"STRING","string":""}]},{"values":[{"type":"STRING","string":""},{"type":"STRING","string":""}]},{"values":[{"type":"STRING","string":""},{"type":"STRING","string":""}]},{"values":[{"type":"STRING","string":""},{"type":"STRING","string":""}]},{"values":[{"type":"STRING","string":""},{"type":"STRING","string":""}]},{"values":[{"type":"STRING","string":""},{"type":"STRING","string":""}]},{"values":[{"type":"STRING","string":""},{"type":"STRING","string":""}]},{"values":[{"type":"STRING","string":""},{"type":"STRING","string":""}]}]}}},{"name":"vServicioRest","description":"","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":""}},{"name":"vResponseBearerToken","description":"","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":""}},{"name":"Prompt-Assignment","description":"","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":"Test-Value"}},{"name":"vRespuestaRest","description":"","type":"TABLE","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"TABLE","table":{"schema":[{"name":"","type":"STRING"},{"name":"","type":"STRING"}],"rows":[{"values":[{"type":"STRING","string":""},{"type":"STRING","string":""}]}]}}},{"name":"vStatus","description":"","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":""}},{"name":"vFlagEjecucion","description":"","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":""}},{"name":"vEntorno","description":"","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":""}},{"name":"vContratoID","description":"","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":""}},{"name":"vLogFile","description":"","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":""}},{"name":"vAuxResponse","description":"","type":"LIST","subtype":"STRING","input":true,"output":true,"defaultValue":{"type":"LIST","list":[{"type":"STRING","string":"0"}]}},{"name":"vContratoValue","description":"","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":""}},{"name":"vAuxLista","description":"","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":""}},{"name":"vIntentosRest","description":"","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":""}},{"name":"List-Item","description":"","type":"STRING","subtype":"UNDEFINED","input":false,"output":false},{"name":"List-Item-1","description":"","type":"STRING","subtype":"UNDEFINED","input":false,"output":false},{"name":"Loop-Counter-1","description":"","type":"STRING","subtype":"UNDEFINED","input":false,"output":false},{"name":"Loop-Counter-2","description":"","type":"STRING","subtype":"UNDEFINED","input":false,"output":false},{"name":"M-TableCellValue","description":"","type":"STRING","subtype":"UNDEFINED","input":false,"output":false},{"name":"Rest-Response-Assignment","description":"","type":"DICTIONARY","subtype":"STRING","input":false,"output":false,"defaultValue":{"type":"DICTIONARY","dictionary":[]}},{"name":"m-dictionary-size","description":"","type":"NUMBER","subtype":"UNDEFINED","input":false,"output":false},{"name":"m-row-index","description":"","type":"NUMBER","subtype":"UNDEFINED","input":false,"output":false},{"name":"m-dictionary-key","description":"","type":"STRING","subtype":"UNDEFINED","input":false,"output":false},{"name":"integerReturnVariable","description":"","type":"NUMBER","subtype":"UNDEFINED","input":false,"output":false},{"name":"m-string-start-in-path","description":"","type":"STRING","subtype":"UNDEFINED","input":true,"output":true}],"breakpoints":[],"packages":[{"name":"Comment","version":"2.14.0"},{"name":"String","version":"5.7.1"},{"name":"Loop","version":"3.7.5-20230316-155504"},{"name":"LegacyAutomation","version":"6.2.0"},{"name":"Number","version":"3.8.0"},{"name":"If","version":"3.6.2-20230316-161323"},{"name":"Rest","version":"3.14.0"},{"name":"Dictionary","version":"3.12.0"},{"name":"DataTable","version":"4.8.0"},{"name":"MessageBox","version":"3.6.0"},{"name":"TaskBot","version":"2.7.2-20230316-160508"},{"name":"List","version":"2.11.0"},{"name":"LogToFile","version":"3.7.0"},{"name":"Delay","version":"3.8.0"}],"properties":{"improvedNumberSupport":true,"automationPriority":"PRIORITY_MEDIUM","timeout":"0s"}}