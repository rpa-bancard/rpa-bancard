{"nodes":[{"uid":"015d4861-d3c4-4b2c-b802-5f98cb888114","commandName":"try","packageName":"ErrorHandler","attributes":[],"children":[{"uid":"2c7d1488-cc8d-4639-b0c6-627be51191d9","commandName":"try","packageName":"ErrorHandler","attributes":[],"children":[{"uid":"69dc1714-9a62-4039-bc01-7290367e36bc","commandName":"Comment","packageName":"Comment","disabled":false,"attributes":[{"name":"comment","value":{"type":"STRING","string":"Please enter the commands to handle errors."}}]},{"uid":"c7347500-8539-42dc-a612-d1f0b2715118","commandName":"Comment","packageName":"Comment","disabled":false,"attributes":[{"name":"comment","value":{"type":"STRING","string":"================================="}}]},{"uid":"b426cbbc-f9bb-4fab-bc22-16b73cdca3a7","commandName":"Comment","packageName":"Comment","disabled":false,"attributes":[{"name":"comment","value":{"type":"STRING","string":"(INICIA)Enlaza un PK con un OCID en el Back del Portal."}}]},{"uid":"b186b311-3097-4c7a-96a9-d8f24781b773","commandName":"Comment","packageName":"Comment","disabled":false,"attributes":[{"name":"comment","value":{"type":"STRING","string":"================================="}}]},{"uid":"e7aca242-4dc1-458f-a477-f680152b23a8","commandName":"assign","packageName":"String","attributes":[{"name":"sourceString","value":{"type":"STRING","string":"1"}}],"returnTo":{"type":"VARIABLE","variableName":"vIntentosRest"}},{"uid":"49f5eb06-cda4-410e-b566-f6af492e313e","commandName":"Comment","packageName":"Comment","disabled":false,"attributes":[{"name":"comment","value":{"type":"STRING","string":"================================="}}]},{"uid":"f6d184d5-3de1-4d87-855f-2dfbe726ea5a","commandName":"assign","packageName":"String","attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$vLogFile$"}}],"returnTo":{"type":"VARIABLE","variableName":"m-string-start-in-path"}},{"uid":"05f0d79a-ca73-480b-98c8-1f51e3d5485d","commandName":"logToFile","packageName":"LogToFile","attributes":[{"name":"filePath","value":{"type":"FILE","expression":"file://$m-string-start-in-path.LegacyAutomation:getAbsolutePath($@AABasePath$)$"}},{"name":"logContent","value":{"type":"STRING","string":"\n================================="}},{"name":"appendTimestamp","value":{"type":"BOOLEAN","boolean":false}},{"name":"logOption","value":{"type":"STRING","string":"APPEND_FILE"}},{"name":"encodingValue","value":{"type":"STRING","string":"ANSI"}}]},{"uid":"71bce102-4f29-4730-a3bf-cb50efb99e46","commandName":"assign","packageName":"String","attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$vLogFile$"}}],"returnTo":{"type":"VARIABLE","variableName":"m-string-start-in-path"}},{"uid":"a8ebf79c-4ef3-4cdf-987a-05ec59d5376b","commandName":"logToFile","packageName":"LogToFile","attributes":[{"name":"filePath","value":{"type":"FILE","expression":"file://$m-string-start-in-path.LegacyAutomation:getAbsolutePath($@AABasePath$)$"}},{"name":"logContent","value":{"type":"STRING","string":"\nTask Asociar PK"}},{"name":"appendTimestamp","value":{"type":"BOOLEAN","boolean":true}},{"name":"logOption","value":{"type":"STRING","string":"APPEND_FILE"}},{"name":"encodingValue","value":{"type":"STRING","string":"ANSI"}}]},{"uid":"94f08fa5-20b7-45ab-a57b-c3d145927f5a","commandName":"assign","packageName":"String","attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$vLogFile$"}}],"returnTo":{"type":"VARIABLE","variableName":"m-string-start-in-path"}},{"uid":"6d7b5817-793f-47b1-b917-b68ba1cdf6c6","commandName":"logToFile","packageName":"LogToFile","attributes":[{"name":"filePath","value":{"type":"FILE","expression":"file://$m-string-start-in-path.LegacyAutomation:getAbsolutePath($@AABasePath$)$"}},{"name":"logContent","value":{"type":"STRING","string":"\n================================="}},{"name":"appendTimestamp","value":{"type":"BOOLEAN","boolean":false}},{"name":"logOption","value":{"type":"STRING","string":"APPEND_FILE"}},{"name":"encodingValue","value":{"type":"STRING","string":"ANSI"}}]},{"uid":"85d65e56-e08a-4438-b68c-374e136ddffd","commandName":"Comment","packageName":"Comment","disabled":false,"attributes":[{"name":"comment","value":{"type":"STRING","string":"================================="}}]},{"uid":"5c01a257-ced6-4df1-8de3-3fced78f3ca4","commandName":"assign","packageName":"String","attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$vLogFile$"}}],"returnTo":{"type":"VARIABLE","variableName":"m-string-start-in-path"}},{"uid":"e366da31-dbba-4c08-a22c-85179cfaab62","commandName":"logToFile","packageName":"LogToFile","attributes":[{"name":"filePath","value":{"type":"FILE","expression":"file://$m-string-start-in-path.LegacyAutomation:getAbsolutePath($@AABasePath$)$"}},{"name":"logContent","value":{"type":"STRING","expression":"=================================\nResponseBearerToken $vResponseBearerToken$\n\nExtensionAdjunto $vExtensionAdjunto$\n\nvTituloAdjunto $vTituloAdjunto$\n\nvPK_Envio  $vPK_Envio$\n\nvOCid $vOCid$\n\nvTipoAdjuntoID $vTipoAdjuntoID$\n================================="}},{"name":"appendTimestamp","value":{"type":"BOOLEAN","boolean":true}},{"name":"logOption","value":{"type":"STRING","string":"APPEND_FILE"}},{"name":"encodingValue","value":{"type":"STRING","string":"ANSI"}}]},{"uid":"7bf80672-89d7-4451-8656-c3a73058f0df","commandName":"assign","packageName":"String","attributes":[{"name":"sourceString","value":{"type":"STRING","string":"0"}}],"returnTo":{"type":"VARIABLE","variableName":"Loop-Counter-1"}},{"uid":"ed312627-6e0a-409e-9dc4-fb6700ef860b","commandName":"loop.commands.start","packageName":"Loop","attributes":[{"name":"operator","value":{"type":"STRING","string":"AND"}},{"name":"checkConditionAtEnd","value":{"type":"BOOLEAN","boolean":false}},{"name":"condition","value":{"type":"CONDITIONAL","conditionalName":"legacyConditionVariable","packageName":"LegacyAutomation"},"attributes":[{"name":"variable","value":{"type":"STRING","expression":"$vStatus$"}},{"name":"operator","value":{"type":"STRING","string":"DoesNotEqualTo"}},{"name":"value","value":{"type":"STRING","string":"ok"}}],"operatorAttribute":{"operator":"AND","value":{"type":"CONDITIONAL","conditionalName":"legacyConditionVariable","packageName":"LegacyAutomation"},"attributes":[{"name":"variable","value":{"type":"STRING","expression":"$vIntentosRest$"}},{"name":"operator","value":{"type":"STRING","string":"LessThanOrEqualTo"}},{"name":"value","value":{"type":"STRING","string":"3"}}]}},{"name":"loopType","value":{"type":"STRING","string":"WHILE"}}],"children":[{"uid":"4714a809-3c7b-41b3-9a99-400a3de384d7","commandName":"assign","packageName":"String","attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$Loop-Counter-1.LegacyAutomation:getIncrementedNumber.Number:toString$"}}],"returnTo":{"type":"VARIABLE","variableName":"Loop-Counter-1"}},{"uid":"f8f1505c-283d-42bc-87cb-3a31d9134bec","commandName":"Comment","packageName":"Comment","disabled":false,"attributes":[{"name":"comment","value":{"type":"STRING","string":"Realizará el ciclo en 3 Intentos o hasta que el Status sea ok y se obtenga el Bearer Token."}}]},{"uid":"ea9996fe-1fc0-43d5-bb60-70865db1e7fa","commandName":"if","packageName":"If","attributes":[{"name":"condition","value":{"type":"CONDITIONAL","conditionalName":"legacyConditionVariable","packageName":"LegacyAutomation"},"attributes":[{"name":"variable","value":{"type":"STRING","expression":"$vEntorno$"}},{"name":"operator","value":{"type":"STRING","string":"EqualsTo"}},{"name":"value","value":{"type":"STRING","string":"DEV"}}]}],"children":[{"uid":"fd4d680a-3ca0-4e16-a50c-9246ae326c08","commandName":"restPost","packageName":"Rest","attributes":[{"name":"uriOption","value":{"type":"STRING","string":"text"}},{"name":"uri","value":{"type":"STRING","string":"https://bancard-apim-qas.apimanagement.br10.hana.ondemand.com/bpde-dev/api/adjuntoDomus"}},{"name":"authenticationMode","value":{"type":"STRING","string":"NoAuthentication"}},{"name":"customHeaders","value":{"type":"LIST","list":[{"type":"DICTIONARY","dictionary":[{"key":"enabled","value":{"type":"BOOLEAN","boolean":true}},{"key":"name","value":{"type":"STRING","string":"Authorization"}},{"key":"value","value":{"type":"STRING","expression":"Bearer $vResponseBearerToken$"}}]},{"type":"DICTIONARY","dictionary":[{"key":"enabled","value":{"type":"BOOLEAN","boolean":true}},{"key":"name","value":{"type":"STRING","string":"Accept"}},{"key":"value","value":{"type":"STRING","string":"*/*"}}]}]}},{"name":"headerContentType","value":{"type":"STRING","string":"application/json"}},{"name":"parameterOption","value":{"type":"STRING","string":"text"}},{"name":"jsonPostParameters","value":{"type":"STRING","expression":"[\n    {\n        \"type\": \"OC\",\n        \"Z_ID\": $vOCid$,\n        \"Z_TipoAdjunto\": \"$vTipoAdjuntoID$\",\n        \"D_UsuarioCreacion\": \"RPA\",\n        \"D_Extension\": \"$vExtensionAdjunto$\",\n        \"D_Titulo\": \"$vTituloAdjunto$\",\n        \"D_PK\": \"$vPK_Envio$\"\n    }\n]"}},{"name":"proxyType","value":{"type":"STRING","string":"SYSTEM"}},{"name":"captureFailureResponse","value":{"type":"BOOLEAN","boolean":true}},{"name":"timeOut","value":{"type":"NUMBER","expression":"$@AARestTimeOut$"}}],"returnTo":{"type":"VARIABLE","variableName":"Rest-Response-Assignment"}},{"uid":"3b8d3ef4-e4ef-44bc-b0bb-9ab291da7bc7","commandName":"size","packageName":"Dictionary","attributes":[{"name":"sourceMap","value":{"type":"VARIABLE","variableName":"Rest-Response-Assignment"}}],"returnTo":{"type":"VARIABLE","variableName":"m-dictionary-size"}},{"uid":"b740990c-a4ba-493e-9f6b-59bb9c0b6e2d","commandName":"decrement","packageName":"Number","attributes":[{"name":"source","value":{"type":"NUMBER","expression":"$m-dictionary-size$"}},{"name":"by","value":{"type":"NUMBER","number":"1"}}],"returnTo":{"type":"VARIABLE","variableName":"m-dictionary-size"}},{"uid":"54f97122-99af-4eab-bb59-5b5de2b9d7d5","commandName":"assign","packageName":"DataTable","attributes":[{"name":"option","value":{"type":"STRING","string":"resize"}},{"name":"rowSize","value":{"type":"NUMBER","expression":"$m-dictionary-size$"}},{"name":"columnSize","value":{"type":"NUMBER","number":"2"}}],"returnTo":{"type":"VARIABLE","variableName":"vHeader"}},{"uid":"973abea1-2d59-4dca-ab28-fb1cf2455866","commandName":"assignToNumber","packageName":"Number","attributes":[{"name":"input","value":{"type":"NUMBER","number":"0"}}],"returnTo":{"type":"VARIABLE","variableName":"m-row-index"}},{"uid":"c3aad0d1-7af1-4b30-9e59-1a5aa51f6731","commandName":"loop.commands.start","packageName":"Loop","attributes":[{"name":"iterator","value":{"type":"ITERATOR","iteratorName":"dictionary.iterators.keys","packageName":"Dictionary"},"returnTo":{"type":"VARIABLE","variableName":"m-dictionary-key"},"attributes":[{"name":"sourceMap","value":{"type":"VARIABLE","variableName":"Rest-Response-Assignment"}}]},{"name":"loopType","value":{"type":"STRING","string":"ITERATOR"}}],"children":[{"uid":"3372f438-d8e8-4527-9a28-ca0cad7c84e6","commandName":"if","packageName":"If","attributes":[{"name":"condition","value":{"type":"CONDITIONAL","conditionalName":"legacyConditionVariable","packageName":"LegacyAutomation"},"attributes":[{"name":"variable","value":{"type":"STRING","expression":"$m-dictionary-key$"}},{"name":"operator","value":{"type":"STRING","string":"DoesNotEqualTo"}},{"name":"value","value":{"type":"STRING","string":"Body"}}]}],"children":[{"uid":"f2bdceea-52af-404d-a069-c242268d1cba","commandName":"setCellValue","packageName":"DataTable","attributes":[{"name":"table","value":{"type":"VARIABLE","variableName":"vHeader"}},{"name":"rowPosition","value":{"type":"NUMBER","expression":"$m-row-index$"}},{"name":"columnType","value":{"type":"STRING","string":"colIndex"}},{"name":"columnIndex","value":{"type":"NUMBER","number":"0"}},{"name":"value","value":{"type":"STRING","expression":"$m-dictionary-key$"}}]},{"uid":"160c994e-550a-4b0a-b6b5-6a9e023050ce","commandName":"setCellValue","packageName":"DataTable","attributes":[{"name":"table","value":{"type":"VARIABLE","variableName":"vHeader"}},{"name":"rowPosition","value":{"type":"NUMBER","expression":"$m-row-index$"}},{"name":"columnType","value":{"type":"STRING","string":"colIndex"}},{"name":"columnIndex","value":{"type":"NUMBER","number":"1"}},{"name":"value","value":{"type":"STRING","expression":"$Rest-Response-Assignment{$m-dictionary-key$}$"}}]},{"uid":"c3535fa5-64c0-4990-8a15-5fc71b073e8b","commandName":"increment","packageName":"Number","attributes":[{"name":"source","value":{"type":"NUMBER","expression":"$m-row-index$"}},{"name":"by","value":{"type":"NUMBER","number":"1"}}],"returnTo":{"type":"VARIABLE","variableName":"m-row-index"}}]}]},{"uid":"c593955a-9804-4cb4-9b3a-e7a0b8423cf6","commandName":"assign","packageName":"String","attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$Rest-Response-Assignment{Body}$"}}],"returnTo":{"type":"VARIABLE","variableName":"Prompt-Assignment"}},{"uid":"2a1acb68-b2c0-475b-a485-c4cc54f22bba","commandName":"assign","packageName":"String","attributes":[{"name":"sourceString","value":{"type":"STRING","string":"Servicio: https://bancard-apim-qas.apimanagement.br10.hana.ondemand.com/bpde-dev/api/adjuntoDomus\nFunción: Enlazar PK con OCid"}}],"returnTo":{"type":"VARIABLE","variableName":"vServicioRest"}},{"uid":"a816ae7d-c278-4719-8f06-55f05870761f","commandName":"assign","packageName":"String","attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$vServicioRest.LegacyAutomation:parseVariableOperation$"}}],"returnTo":{"type":"VARIABLE","variableName":"vServicioRest"}}],"branches":[{"uid":"0f2b9265-1e76-4f98-9ae8-d67450f9d246","commandName":"elseIf","packageName":"If","attributes":[{"name":"condition","value":{"type":"CONDITIONAL","conditionalName":"legacyConditionVariable","packageName":"LegacyAutomation"},"attributes":[{"name":"variable","value":{"type":"STRING","expression":"$vEntorno$"}},{"name":"operator","value":{"type":"STRING","string":"EqualsTo"}},{"name":"value","value":{"type":"STRING","string":"PRD"}}]}],"children":[{"uid":"7484ad03-48b7-44b6-addb-c86a2a539017","commandName":"restPost","packageName":"Rest","attributes":[{"name":"uriOption","value":{"type":"STRING","string":"text"}},{"name":"uri","value":{"type":"STRING","string":"https://backendprod.bancard.intertic.com.ar/api/adjuntoDomus"}},{"name":"authenticationMode","value":{"type":"STRING","string":"NoAuthentication"}},{"name":"customHeaders","value":{"type":"LIST","list":[{"type":"DICTIONARY","dictionary":[{"key":"enabled","value":{"type":"BOOLEAN","boolean":true}},{"key":"name","value":{"type":"STRING","string":"Authorization"}},{"key":"value","value":{"type":"STRING","expression":"Bearer $vResponseBearerToken$"}}]},{"type":"DICTIONARY","dictionary":[{"key":"enabled","value":{"type":"BOOLEAN","boolean":true}},{"key":"name","value":{"type":"STRING","string":"Accept"}},{"key":"value","value":{"type":"STRING","string":"*/*"}}]}]}},{"name":"headerContentType","value":{"type":"STRING","string":"application/json"}},{"name":"parameterOption","value":{"type":"STRING","string":"text"}},{"name":"jsonPostParameters","value":{"type":"STRING","expression":"[\n    {\n        \"type\": \"OC\",\n        \"Z_ID\": \"$vOCid$\",\n        \"Z_TipoAdjunto\": \"$vTipoAdjuntoID$\",\n        \"D_UsuarioCreacion\": \"RPA\",\n        \"D_Extension\": \"$vExtensionAdjunto$\",\n        \"D_Titulo\": \"$vTituloAdjunto$\",\n        \"D_PK\": \"$vPK_Envio$\"\n    }\n]"}},{"name":"proxyType","value":{"type":"STRING","string":"SYSTEM"}},{"name":"captureFailureResponse","value":{"type":"BOOLEAN","boolean":true}},{"name":"timeOut","value":{"type":"NUMBER","expression":"$@AARestTimeOut$"}}],"returnTo":{"type":"VARIABLE","variableName":"Rest-Response-Assignment"}},{"uid":"44d7bf92-4568-43dc-a3fb-e697f91070c5","commandName":"size","packageName":"Dictionary","attributes":[{"name":"sourceMap","value":{"type":"VARIABLE","variableName":"Rest-Response-Assignment"}}],"returnTo":{"type":"VARIABLE","variableName":"m-dictionary-size"}},{"uid":"1f4c3a29-5edc-4455-a655-cd758c500b09","commandName":"decrement","packageName":"Number","attributes":[{"name":"source","value":{"type":"NUMBER","expression":"$m-dictionary-size$"}},{"name":"by","value":{"type":"NUMBER","number":"1"}}],"returnTo":{"type":"VARIABLE","variableName":"m-dictionary-size"}},{"uid":"d00cd54a-e46b-44b3-9b23-73678f30c5d0","commandName":"assign","packageName":"DataTable","attributes":[{"name":"option","value":{"type":"STRING","string":"resize"}},{"name":"rowSize","value":{"type":"NUMBER","expression":"$m-dictionary-size$"}},{"name":"columnSize","value":{"type":"NUMBER","number":"2"}}],"returnTo":{"type":"VARIABLE","variableName":"vHeader"}},{"uid":"2d58eda5-8d58-4507-a9e9-55710bc0804c","commandName":"assignToNumber","packageName":"Number","attributes":[{"name":"input","value":{"type":"NUMBER","number":"0"}}],"returnTo":{"type":"VARIABLE","variableName":"m-row-index"}},{"uid":"d113e6f4-c01e-432e-80ac-14514889da93","commandName":"loop.commands.start","packageName":"Loop","attributes":[{"name":"iterator","value":{"type":"ITERATOR","iteratorName":"dictionary.iterators.keys","packageName":"Dictionary"},"returnTo":{"type":"VARIABLE","variableName":"m-dictionary-key"},"attributes":[{"name":"sourceMap","value":{"type":"VARIABLE","variableName":"Rest-Response-Assignment"}}]},{"name":"loopType","value":{"type":"STRING","string":"ITERATOR"}}],"children":[{"uid":"abfea4c0-5cc8-49a1-9bde-1ee0647df612","commandName":"if","packageName":"If","attributes":[{"name":"condition","value":{"type":"CONDITIONAL","conditionalName":"legacyConditionVariable","packageName":"LegacyAutomation"},"attributes":[{"name":"variable","value":{"type":"STRING","expression":"$m-dictionary-key$"}},{"name":"operator","value":{"type":"STRING","string":"DoesNotEqualTo"}},{"name":"value","value":{"type":"STRING","string":"Body"}}]}],"children":[{"uid":"c23a08cd-c878-47a7-8ff7-c9828d25ab8f","commandName":"setCellValue","packageName":"DataTable","attributes":[{"name":"table","value":{"type":"VARIABLE","variableName":"vHeader"}},{"name":"rowPosition","value":{"type":"NUMBER","expression":"$m-row-index$"}},{"name":"columnType","value":{"type":"STRING","string":"colIndex"}},{"name":"columnIndex","value":{"type":"NUMBER","number":"0"}},{"name":"value","value":{"type":"STRING","expression":"$m-dictionary-key$"}}]},{"uid":"0b0b817f-d335-4f18-acae-9dea1ed639d0","commandName":"setCellValue","packageName":"DataTable","attributes":[{"name":"table","value":{"type":"VARIABLE","variableName":"vHeader"}},{"name":"rowPosition","value":{"type":"NUMBER","expression":"$m-row-index$"}},{"name":"columnType","value":{"type":"STRING","string":"colIndex"}},{"name":"columnIndex","value":{"type":"NUMBER","number":"1"}},{"name":"value","value":{"type":"STRING","expression":"$Rest-Response-Assignment{$m-dictionary-key$}$"}}]},{"uid":"191271dc-4726-418e-9ddc-609ad89704a7","commandName":"increment","packageName":"Number","attributes":[{"name":"source","value":{"type":"NUMBER","expression":"$m-row-index$"}},{"name":"by","value":{"type":"NUMBER","number":"1"}}],"returnTo":{"type":"VARIABLE","variableName":"m-row-index"}}]}]},{"uid":"91160868-e151-4c5a-aa28-aa9f7a69fe23","commandName":"assign","packageName":"String","attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$Rest-Response-Assignment{Body}$"}}],"returnTo":{"type":"VARIABLE","variableName":"Prompt-Assignment"}},{"uid":"57f08b21-7d62-490d-8a0c-8cf0d4350ff8","commandName":"assign","packageName":"String","attributes":[{"name":"sourceString","value":{"type":"STRING","string":"Servicio: https://backendprod.bancard.intertic.com.ar/api/adjuntoDomus\nFunción: Enlazar PK con OCid"}}],"returnTo":{"type":"VARIABLE","variableName":"vServicioRest"}},{"uid":"8d15ce1e-be2c-4244-b1f9-004d3a1441ed","commandName":"assign","packageName":"String","attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$vServicioRest.LegacyAutomation:parseVariableOperation$"}}],"returnTo":{"type":"VARIABLE","variableName":"vServicioRest"}}]}]},{"uid":"203c406b-f791-4a8c-bf05-abb2ceac2dab","commandName":"assign","packageName":"String","attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$vHeader[0][1]$"}}],"returnTo":{"type":"VARIABLE","variableName":"M-TableCellValue"}},{"uid":"14979986-343a-43b4-b60c-1150f217a6fd","commandName":"assign","packageName":"String","attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$M-TableCellValue.LegacyAutomation:parseVariableOperation$"}}],"returnTo":{"type":"VARIABLE","variableName":"M-TableCellValue"}},{"uid":"f9887eb9-23b5-4859-ade8-6ebfa82e1af5","commandName":"setCellValue","packageName":"DataTable","attributes":[{"name":"table","value":{"type":"VARIABLE","variableName":"vRespuestaRest"}},{"name":"value","value":{"type":"STRING","expression":"$M-TableCellValue$"}},{"name":"rowPosition","value":{"type":"NUMBER","number":"0"}},{"name":"columnType","value":{"type":"STRING","string":"colIndex"}},{"name":"columnIndex","value":{"type":"NUMBER","number":"1"}}]},{"uid":"235d6d83-1443-416c-98d3-a5806a38956d","commandName":"messageBox","packageName":"MessageBox","disabled":true,"attributes":[{"name":"title","value":{"type":"STRING","string":"Automation Anywhere Enterprise Client"}},{"name":"content","value":{"type":"STRING","expression":"$vRespuestaRest[0][1]$"}},{"name":"scrollLines","value":{"type":"NUMBER","number":"30"}},{"name":"closeMsgBox","value":{"type":"BOOLEAN","boolean":true}},{"name":"timeOut","value":{"type":"NUMBER","number":"1"}}]},{"uid":"a896397c-acc2-4531-a499-44c808af2731","commandName":"runTask","packageName":"TaskBot","attributes":[{"name":"taskbot","value":{"type":"TASKBOT","taskbotFile":{"type":"FILE","string":"repository:///Automation%20Anywhere/Bots/My%20Tasks/CFBOPC/DOMUS/Manejo_respuestas_rest"},"taskbotInput":{"type":"DICTIONARY","dictionary":[{"key":"vRespuestaRest","value":{"type":"ANY","expression":"$vRespuestaRest$"}},{"key":"vStatus","value":{"type":"STRING","expression":"$vStatus$"}},{"key":"vLogfile","value":{"type":"STRING","expression":"$vLogFile$"}},{"key":"vServicioRest","value":{"type":"STRING","expression":"$vServicioRest$"}}]},"taskbotOutput":{"type":"DICTIONARY","dictionary":[]}}},{"name":"repeatOption","value":{"type":"STRING","string":"DO_NOT_REPEAT"}},{"name":"delayNextRepetition","value":{"type":"BOOLEAN","boolean":false}},{"name":"continueOnError","value":{"type":"BOOLEAN","boolean":true}}],"returnTo":{"type":"DICTIONARY","dictionary":[{"key":"vRespuestaRest","value":{"type":"VARIABLE","variableName":"vRespuestaRest"}},{"key":"vStatus","value":{"type":"VARIABLE","variableName":"vStatus"}},{"key":"vLogfile","value":{"type":"VARIABLE","variableName":"vLogFile"}},{"key":"vServicioRest","value":{"type":"VARIABLE","variableName":"vServicioRest"}}]}},{"uid":"aee927ac-322e-41a0-bf1e-0ab383e753b8","commandName":"assign","packageName":"String","attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$vLogFile$"}}],"returnTo":{"type":"VARIABLE","variableName":"m-string-start-in-path"}},{"uid":"c468041d-2e49-469e-8ca4-1f17f4eb9e73","commandName":"logToFile","packageName":"LogToFile","attributes":[{"name":"filePath","value":{"type":"FILE","expression":"file://$m-string-start-in-path.LegacyAutomation:getAbsolutePath($@AABasePath$)$"}},{"name":"logContent","value":{"type":"STRING","expression":"C4C ASOCIAR PK vStatus $vStatus$"}},{"name":"appendTimestamp","value":{"type":"BOOLEAN","boolean":true}},{"name":"logOption","value":{"type":"STRING","string":"APPEND_FILE"}},{"name":"encodingValue","value":{"type":"STRING","string":"ANSI"}}]},{"uid":"8d874221-8a63-4462-a45d-db54378bb7f7","commandName":"if","packageName":"If","attributes":[{"name":"condition","value":{"type":"CONDITIONAL","conditionalName":"legacyConditionVariable","packageName":"LegacyAutomation"},"attributes":[{"name":"variable","value":{"type":"STRING","expression":"$vStatus$"}},{"name":"operator","value":{"type":"STRING","string":"EqualsTo"}},{"name":"value","value":{"type":"STRING","string":"ok"}}]}],"children":[{"uid":"ef638c41-5586-4142-951c-f39165a67335","commandName":"Comment","packageName":"Comment","disabled":false,"attributes":[{"name":"comment","value":{"type":"STRING","string":"Servicio sin errores"}}]},{"uid":"90443aa9-4a0b-47f5-9a6e-7ee9396a21ff","commandName":"assign","packageName":"String","attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$vLogFile$"}}],"returnTo":{"type":"VARIABLE","variableName":"m-string-start-in-path"}},{"uid":"157db2c4-6f78-4687-b549-064bd2bd5a91","commandName":"logToFile","packageName":"LogToFile","attributes":[{"name":"filePath","value":{"type":"FILE","expression":"file://$m-string-start-in-path.LegacyAutomation:getAbsolutePath($@AABasePath$)$"}},{"name":"logContent","value":{"type":"STRING","expression":"(Intento: $vIntentosRest$) Enlazó correcta el PK: $vPK_Envio$ con el OC ID: $vOCid$"}},{"name":"appendTimestamp","value":{"type":"BOOLEAN","boolean":true}},{"name":"logOption","value":{"type":"STRING","string":"APPEND_FILE"}},{"name":"encodingValue","value":{"type":"STRING","string":"ANSI"}}]}],"branches":[{"uid":"d18d973c-5927-4206-89b4-5131b8d21e06","commandName":"elseIf","packageName":"If","attributes":[{"name":"operator","value":{"type":"STRING","string":"AND"}},{"name":"condition","value":{"type":"CONDITIONAL","conditionalName":"legacyConditionVariable","packageName":"LegacyAutomation"},"attributes":[{"name":"variable","value":{"type":"STRING","expression":"$vStatus$"}},{"name":"operator","value":{"type":"STRING","string":"EqualsTo"}},{"name":"value","value":{"type":"STRING","string":"error"}}],"operatorAttribute":{"operator":"AND","value":{"type":"CONDITIONAL","conditionalName":"legacyConditionVariable","packageName":"LegacyAutomation"},"attributes":[{"name":"variable","value":{"type":"STRING","expression":"$vIntentosRest$"}},{"name":"operator","value":{"type":"STRING","string":"LessThanOrEqualTo"}},{"name":"value","value":{"type":"STRING","string":"3"}}]}}],"children":[{"uid":"2a16781e-f186-4622-8d00-427fb289f8ba","commandName":"assign","packageName":"String","attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$vLogFile$"}}],"returnTo":{"type":"VARIABLE","variableName":"m-string-start-in-path"}},{"uid":"9e6677ba-bfdf-4c18-92cb-5dba81b28b96","commandName":"logToFile","packageName":"LogToFile","attributes":[{"name":"filePath","value":{"type":"FILE","expression":"file://$m-string-start-in-path.LegacyAutomation:getAbsolutePath($@AABasePath$)$"}},{"name":"logContent","value":{"type":"STRING","expression":"(Intento: $vIntentosRest$) No se pudo enlazar, se intentará de vuelta."}},{"name":"appendTimestamp","value":{"type":"BOOLEAN","boolean":true}},{"name":"logOption","value":{"type":"STRING","string":"APPEND_FILE"}},{"name":"encodingValue","value":{"type":"STRING","string":"ANSI"}}]},{"uid":"3350edb1-2db9-48fa-8a8f-a47549edf5a5","commandName":"assign","packageName":"String","attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$vIntentosRest$ + 1"}}],"returnTo":{"type":"VARIABLE","variableName":"vIntentosRest"}},{"uid":"406f146a-ff91-42d6-9019-b4185a5ef5a1","commandName":"assign","packageName":"String","attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$vIntentosRest.LegacyAutomation:parseVariableOperation$"}}],"returnTo":{"type":"VARIABLE","variableName":"vIntentosRest"}}]}]}]},{"uid":"4de8b71c-7d91-4614-b6c3-5a27b9d8de7c","commandName":"if","packageName":"If","attributes":[{"name":"condition","value":{"type":"CONDITIONAL","conditionalName":"legacyConditionVariable","packageName":"LegacyAutomation"},"attributes":[{"name":"variable","value":{"type":"STRING","expression":"$vStatus$"}},{"name":"operator","value":{"type":"STRING","string":"EqualsTo"}},{"name":"value","value":{"type":"STRING","string":"error"}}]}],"children":[{"uid":"095d8748-c5e1-427a-a7d1-67608545315b","commandName":"assign","packageName":"String","attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$vLogFile$"}}],"returnTo":{"type":"VARIABLE","variableName":"m-string-start-in-path"}},{"uid":"90e9a754-0e9c-4772-b00a-f55727a28286","commandName":"logToFile","packageName":"LogToFile","attributes":[{"name":"filePath","value":{"type":"FILE","expression":"file://$m-string-start-in-path.LegacyAutomation:getAbsolutePath($@AABasePath$)$"}},{"name":"logContent","value":{"type":"STRING","expression":"No se pudo enlazar.\nPK: $vPK_Envio$ con el OC ID: $vOCid$"}},{"name":"appendTimestamp","value":{"type":"BOOLEAN","boolean":true}},{"name":"logOption","value":{"type":"STRING","string":"APPEND_FILE"}},{"name":"encodingValue","value":{"type":"STRING","string":"ANSI"}}]},{"uid":"4c02555d-eeec-4b63-8e4c-71062c29f10d","commandName":"SendMailV2","packageName":"Email","disabled":true,"attributes":[{"name":"fromAddress","value":{"type":"STRING","expression":"$vMailFrom$"}},{"name":"toAddress","value":{"type":"STRING","expression":"$vMailError$"}},{"name":"cc","value":{"type":"STRING","string":""}},{"name":"bcc","value":{"type":"STRING","string":""}},{"name":"subject","value":{"type":"STRING","string":"ERROR enlace PK - OCID en Oportunidades Comerciales."}},{"name":"bodyFormat","value":{"type":"STRING","string":"PLAINTEXT"}},{"name":"message","value":{"type":"STRING","expression":"Error al enlazar PK con OCID.\n\nEl archivo logró subirse correctamente al DOMUS con un PK $vPK_Envio$ pero no pudo enlazarse a la Oportunidad Comercial de id: $vOCid$ en el Portal de Entidades.\n\nConsulte el Log de ejecución de la fecha.\n"}},{"name":"ensureAttachmentsExist","value":{"type":"BOOLEAN","boolean":false}},{"name":"serverType","value":{"type":"STRING","string":"EMAIL_SERVER"}},{"name":"goGreen","value":{"type":"BOOLEAN","boolean":false}}]}]},{"uid":"d9dc66ee-8b88-4336-94db-423b32a7aeae","commandName":"Comment","packageName":"Comment","disabled":false,"attributes":[{"name":"comment","value":{"type":"STRING","string":"================================="}}]},{"uid":"f22c7dab-9bbb-4329-88a5-7837087b05c9","commandName":"Comment","packageName":"Comment","disabled":false,"attributes":[{"name":"comment","value":{"type":"STRING","string":"(FIN)Enlaza un PK con un OCID en el Back del Portal."}}]},{"uid":"ff32da36-8f31-4e35-8436-6879d08bb7c7","commandName":"Comment","packageName":"Comment","disabled":false,"attributes":[{"name":"comment","value":{"type":"STRING","string":"================================="}}]}],"branches":[{"uid":"8b1ad97b-5a63-49ae-ab1b-82d888bf4a2b","commandName":"catch","packageName":"ErrorHandler","attributes":[{"name":"exceptionType","value":{"type":"EXCEPTION","exceptionName":"BotException","packageName":"ErrorHandler"}}],"returns":{"errorMessage":{"type":"VARIABLE","variableName":"Error-Description"},"errorLineNumber":{"type":"VARIABLE","variableName":"Error-LineNumber"}},"children":[{"uid":"5860fc2e-0e04-47a1-a3fe-f503f31f51e8","commandName":"assign","packageName":"Boolean","attributes":[{"name":"source","value":{"type":"STRING","string":"constant"}},{"name":"userDefined","value":{"type":"STRING","string":"false"}}],"returnTo":{"type":"VARIABLE","variableName":"M-IsBotExecutedSuccessfully"}},{"uid":"c6e3f131-9c73-47cb-8516-c08d59412a13","commandName":"assign","packageName":"String","attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$vLogFile$"}}],"returnTo":{"type":"VARIABLE","variableName":"m-string-start-in-path"}},{"uid":"70e37334-956a-4358-bfff-a4d661083ae4","commandName":"logToFile","packageName":"LogToFile","attributes":[{"name":"filePath","value":{"type":"FILE","expression":"file://$m-string-start-in-path.LegacyAutomation:getAbsolutePath($@AABasePath$)$"}},{"name":"logContent","value":{"type":"STRING","expression":"[$Error-LineNumber.Number:toString$] - $Error-Description$"}},{"name":"appendTimestamp","value":{"type":"BOOLEAN","boolean":false}},{"name":"logOption","value":{"type":"STRING","string":"APPEND_FILE"}},{"name":"encodingValue","value":{"type":"STRING","string":"ANSI"}}]},{"uid":"5dd1d707-cb72-418a-b077-1586e17574b6","commandName":"stopTask","packageName":"TaskBot","attributes":[]}]}]}],"branches":[{"uid":"669e97a3-2115-42b2-9a64-14267c678a0d","commandName":"finally","packageName":"ErrorHandler","attributes":[],"children":[{"uid":"1db4eb04-05cc-43b3-9fe6-996157bd79f2","commandName":"if","packageName":"If","attributes":[{"name":"condition","value":{"type":"CONDITIONAL","conditionalName":"legacyConditionVariable","packageName":"LegacyAutomation"},"attributes":[{"name":"variable","value":{"type":"STRING","expression":"$M-IsBotExecutedSuccessfully.Boolean:toString$"}},{"name":"operator","value":{"type":"STRING","string":"EqualsTo"}},{"name":"value","value":{"type":"STRING","string":"false"}}]}],"children":[{"uid":"a2a53c24-9e7c-44eb-b116-59054db0c712","commandName":"throw","packageName":"ErrorHandler","attributes":[{"name":"exceptionType","value":{"type":"EXCEPTION","exceptionName":"BotException","packageName":"ErrorHandler"}},{"name":"message","value":{"type":"STRING","expression":"$Error-Description$ Exception occurred at line number $Error-LineNumber.Number:toString$. You chose to mark the bot as 'Failed' in case of any encountered errors."}}]}]}]}]}],"variables":[{"name":"my-list-variable","description":"","type":"LIST","subtype":"STRING","input":true,"output":true,"defaultValue":{"type":"LIST","list":[{"type":"STRING","string":"my-value-1"},{"type":"STRING","string":"my-value-2"},{"type":"STRING","string":"my-value-3"},{"type":"STRING","string":"my-value-4"},{"type":"STRING","string":"my-value-5"}]}},{"name":"vHeader","description":"","type":"TABLE","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"TABLE","table":{"schema":[{"name":"","type":"STRING"},{"name":"","type":"STRING"}],"rows":[{"values":[{"type":"STRING","string":""},{"type":"STRING","string":""}]},{"values":[{"type":"STRING","string":""},{"type":"STRING","string":""}]},{"values":[{"type":"STRING","string":""},{"type":"STRING","string":""}]},{"values":[{"type":"STRING","string":""},{"type":"STRING","string":""}]},{"values":[{"type":"STRING","string":""},{"type":"STRING","string":""}]},{"values":[{"type":"STRING","string":""},{"type":"STRING","string":""}]},{"values":[{"type":"STRING","string":""},{"type":"STRING","string":""}]},{"values":[{"type":"STRING","string":""},{"type":"STRING","string":""}]},{"values":[{"type":"STRING","string":""},{"type":"STRING","string":""}]},{"values":[{"type":"STRING","string":""},{"type":"STRING","string":""}]},{"values":[{"type":"STRING","string":""},{"type":"STRING","string":""}]}]}}},{"name":"vServicioRest","description":"","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":""}},{"name":"vStatus","description":"","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":""}},{"name":"vLogFile","description":"","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":""}},{"name":"vIntentosRest","description":"","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":""}},{"name":"Prompt-Assignment","description":"","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":"Test-Value"}},{"name":"vRespuestaRest","description":"","type":"TABLE","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"TABLE","table":{"schema":[{"name":"","type":"STRING"},{"name":"","type":"STRING"}],"rows":[{"values":[{"type":"STRING","string":""},{"type":"STRING","string":""}]}]}}},{"name":"vFlagEjecucion","description":"","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":""}},{"name":"vResponseBearerToken","description":"","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":""}},{"name":"vExtensionAdjunto","description":"","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":""}},{"name":"vTituloAdjunto","description":"","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":""}},{"name":"vPK_Envio","description":"","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":""}},{"name":"vOCid","description":"","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":""}},{"name":"vTipoAdjuntoID","description":"","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":""}},{"name":"vMailTo","description":"","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":""}},{"name":"vMailError","description":"","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":""}},{"name":"vMailFrom","description":"","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":""}},{"name":"vEntorno","description":"","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":""}},{"name":"M-IsBotExecutedSuccessfully","description":"","type":"BOOLEAN","subtype":"UNDEFINED","input":false,"output":false,"defaultValue":{"type":"BOOLEAN","boolean":"true"}},{"name":"Loop-Counter-1","description":"","type":"STRING","subtype":"UNDEFINED","input":false,"output":false},{"name":"Error-Description","description":"","type":"STRING","subtype":"UNDEFINED","input":false,"output":false},{"name":"Error-LineNumber","description":"","type":"NUMBER","subtype":"UNDEFINED","input":false,"output":false},{"name":"M-TableCellValue","description":"","type":"STRING","subtype":"UNDEFINED","input":false,"output":false},{"name":"Rest-Response-Assignment","description":"","type":"DICTIONARY","subtype":"STRING","input":false,"output":false,"defaultValue":{"type":"DICTIONARY","dictionary":[]}},{"name":"m-dictionary-size","description":"","type":"NUMBER","subtype":"UNDEFINED","input":false,"output":false},{"name":"m-row-index","description":"","type":"NUMBER","subtype":"UNDEFINED","input":false,"output":false},{"name":"m-dictionary-key","description":"","type":"STRING","subtype":"UNDEFINED","input":false,"output":false},{"name":"m-string-start-in-path","description":"","type":"STRING","subtype":"UNDEFINED","input":true,"output":true}],"breakpoints":[],"packages":[{"name":"ErrorHandler","version":"2.10.0-20220929-040735"},{"name":"Number","version":"3.6.0-20220928-104414"},{"name":"Comment","version":"2.12.0"},{"name":"String","version":"5.5.2-20221006-094641"},{"name":"LogToFile","version":"3.5.0-20220416-233918"},{"name":"LegacyAutomation","version":"5.6.1-20221027-080331"},{"name":"Loop","version":"3.6.0-20220928-191723"},{"name":"If","version":"3.5.0-20220928-201537"},{"name":"Rest","version":"3.12.0-20220926-070217"},{"name":"Dictionary","version":"3.10.0-20220929-153817"},{"name":"DataTable","version":"4.6.0-20220920-155212"},{"name":"MessageBox","version":"3.4.0-20220416-233919"},{"name":"TaskBot","version":"2.5.0-20221020-114450"},{"name":"Email","version":"3.15.2-20221006-075826"},{"name":"Boolean","version":"2.6.4-20220919-050851"}],"properties":{"improvedNumberSupport":true,"automationPriority":"PRIORITY_MEDIUM","timeout":"0s"}}