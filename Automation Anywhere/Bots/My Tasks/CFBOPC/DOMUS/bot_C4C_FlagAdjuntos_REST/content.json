{"nodes":[{"uid":"8d85bf80-260d-4991-8412-2577311550e4","commandName":"try","packageName":"ErrorHandler","attributes":[],"children":[{"uid":"57f825fe-a963-4eee-95f4-f161967d7053","commandName":"try","packageName":"ErrorHandler","attributes":[],"children":[{"uid":"012f93d9-ace4-4486-a537-bb582daf915b","commandName":"Comment","packageName":"Comment","disabled":false,"attributes":[{"name":"comment","value":{"type":"STRING","string":"Please enter the commands to handle errors."}}]},{"uid":"5b86bf0d-f3e7-44df-ad6f-9d8a45027de4","commandName":"Comment","packageName":"Comment","disabled":false,"attributes":[{"name":"comment","value":{"type":"STRING","string":"================================="}}]},{"uid":"8b4aa006-78f0-47f2-a1bb-0bbf91b2eaea","commandName":"Comment","packageName":"Comment","disabled":false,"attributes":[{"name":"comment","value":{"type":"STRING","string":"(INICIA) Obtiene el código para cada tipo de Adjunto. (OFAC, MATCH, INFORMCONF)"}}]},{"uid":"2f765831-cb9d-4a7f-8242-542348217552","commandName":"Comment","packageName":"Comment","disabled":false,"attributes":[{"name":"comment","value":{"type":"STRING","string":"================================="}}]},{"uid":"d728acf6-3f57-43dd-b80b-18d2a146053a","commandName":"assign","packageName":"String","attributes":[{"name":"sourceString","value":{"type":"STRING","string":"1"}}],"returnTo":{"type":"VARIABLE","variableName":"vIntentosRest"}},{"uid":"ad61283c-a369-4968-9e59-ec49ca234326","commandName":"assign","packageName":"String","attributes":[{"name":"sourceString","value":{"type":"STRING","string":"0"}}],"returnTo":{"type":"VARIABLE","variableName":"Loop-Counter-1"}},{"uid":"5c41d149-47a6-4c60-83d6-22c6e4926a92","commandName":"loop.commands.start","packageName":"Loop","attributes":[{"name":"operator","value":{"type":"STRING","string":"AND"}},{"name":"checkConditionAtEnd","value":{"type":"BOOLEAN","boolean":false}},{"name":"condition","value":{"type":"CONDITIONAL","conditionalName":"legacyConditionVariable","packageName":"LegacyAutomation"},"attributes":[{"name":"variable","value":{"type":"STRING","expression":"$vStatus$"}},{"name":"operator","value":{"type":"STRING","string":"DoesNotEqualTo"}},{"name":"value","value":{"type":"STRING","string":"ok"}}],"operatorAttribute":{"operator":"AND","value":{"type":"CONDITIONAL","conditionalName":"legacyConditionVariable","packageName":"LegacyAutomation"},"attributes":[{"name":"variable","value":{"type":"STRING","expression":"$vIntentosRest$"}},{"name":"operator","value":{"type":"STRING","string":"LessThanOrEqualTo"}},{"name":"value","value":{"type":"STRING","string":"3"}}]}},{"name":"loopType","value":{"type":"STRING","string":"WHILE"}}],"children":[{"uid":"ae73057d-b87f-4ea4-8fc2-f28383b59c97","commandName":"assign","packageName":"String","attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$Loop-Counter-1.LegacyAutomation:getIncrementedNumber.Number:toString$"}}],"returnTo":{"type":"VARIABLE","variableName":"Loop-Counter-1"}},{"uid":"897f27c3-e1cf-44de-a91f-71f59cdfd690","commandName":"Comment","packageName":"Comment","disabled":false,"attributes":[{"name":"comment","value":{"type":"STRING","string":"Realizará el ciclo en 3 Intentos o hasta que el Status sea ok y se obtenga el Bearer Token."}}]},{"uid":"71f83475-51a0-46fc-aee6-654034258b4b","commandName":"if","packageName":"If","attributes":[{"name":"condition","value":{"type":"CONDITIONAL","conditionalName":"legacyConditionVariable","packageName":"LegacyAutomation"},"attributes":[{"name":"variable","value":{"type":"STRING","expression":"$vEntorno$"}},{"name":"operator","value":{"type":"STRING","string":"EqualsTo"}},{"name":"value","value":{"type":"STRING","string":"DEV"}}]}],"children":[{"uid":"93cb1082-406b-4178-b770-2133d0637b1e","commandName":"restPost","packageName":"Rest","attributes":[{"name":"uriOption","value":{"type":"STRING","string":"text"}},{"name":"uri","value":{"type":"STRING","string":"https://bancardqasneo.it-cpi008-rt.cfapps.br10.hana.ondemand.com/http/c4cbridgeaccount1"}},{"name":"authenticationMode","value":{"type":"STRING","string":"Basic"}},{"name":"basicUserName","value":{"type":"STRING","string":"sb-eb6a9daa-2cb7-47a7-84fb-5b79bf34ae5e!b372|it-rt-bancardqasneo!b106"}},{"name":"basicPassword","value":{"type":"STRING","string":"8e3141d4-ed09-425b-85bb-2f20fbc8b1c5$EXo6uPz961ukAXZwc4DyzeU-sVsoZPRFy_jOe2bZ0Eo="}},{"name":"customHeaders","value":{"type":"LIST","list":[{"type":"DICTIONARY","dictionary":[{"key":"enabled","value":{"type":"BOOLEAN","boolean":true}},{"key":"name","value":{"type":"STRING","string":"Accept"}},{"key":"value","value":{"type":"STRING","string":"*/*"}}]},{"type":"DICTIONARY","dictionary":[{"key":"enabled","value":{"type":"BOOLEAN","boolean":true}},{"key":"name","value":{"type":"STRING","string":"address"}},{"key":"value","value":{"type":"STRING","expression":"('$vObjectID$')"}}]}]}},{"name":"headerContentType","value":{"type":"STRING","string":"application/json"}},{"name":"parameterOption","value":{"type":"STRING","string":"text"}},{"name":"jsonPostParameters","value":{"type":"STRING","expression":"{\n    \"$vCampoTipoAdjunto$\": $vFlagTipoAdjunto$\n}"}},{"name":"proxyType","value":{"type":"STRING","string":"SYSTEM"}},{"name":"captureFailureResponse","value":{"type":"BOOLEAN","boolean":true}},{"name":"timeOut","value":{"type":"NUMBER","expression":"$@AARestTimeOut$"}}],"returnTo":{"type":"VARIABLE","variableName":"Rest-Response-Assignment"}},{"uid":"35e960f5-87ad-4353-87e0-2597ead5ed56","commandName":"size","packageName":"Dictionary","attributes":[{"name":"sourceMap","value":{"type":"VARIABLE","variableName":"Rest-Response-Assignment"}}],"returnTo":{"type":"VARIABLE","variableName":"m-dictionary-size"}},{"uid":"ca1cbdf8-c05b-4537-b87d-fc42a1695949","commandName":"decrement","packageName":"Number","attributes":[{"name":"source","value":{"type":"NUMBER","expression":"$m-dictionary-size$"}},{"name":"by","value":{"type":"NUMBER","number":"1"}}],"returnTo":{"type":"VARIABLE","variableName":"m-dictionary-size"}},{"uid":"ceee009f-e4ae-4e39-928d-a7b456bafa08","commandName":"assign","packageName":"DataTable","attributes":[{"name":"option","value":{"type":"STRING","string":"resize"}},{"name":"rowSize","value":{"type":"NUMBER","expression":"$m-dictionary-size$"}},{"name":"columnSize","value":{"type":"NUMBER","number":"2"}}],"returnTo":{"type":"VARIABLE","variableName":"vHeader"}},{"uid":"f729e851-2df7-49a8-aed3-77aa12793cb0","commandName":"assignToNumber","packageName":"Number","attributes":[{"name":"input","value":{"type":"NUMBER","number":"0"}}],"returnTo":{"type":"VARIABLE","variableName":"m-row-index"}},{"uid":"31471f34-13d1-4a16-abc7-3edc81d2f3f0","commandName":"loop.commands.start","packageName":"Loop","attributes":[{"name":"iterator","value":{"type":"ITERATOR","iteratorName":"dictionary.iterators.keys","packageName":"Dictionary"},"returnTo":{"type":"VARIABLE","variableName":"m-dictionary-key"},"attributes":[{"name":"sourceMap","value":{"type":"VARIABLE","variableName":"Rest-Response-Assignment"}}]},{"name":"loopType","value":{"type":"STRING","string":"ITERATOR"}}],"children":[{"uid":"8cbe0ec8-ac66-410e-b140-ac17f6b1e642","commandName":"if","packageName":"If","attributes":[{"name":"condition","value":{"type":"CONDITIONAL","conditionalName":"legacyConditionVariable","packageName":"LegacyAutomation"},"attributes":[{"name":"variable","value":{"type":"STRING","expression":"$m-dictionary-key$"}},{"name":"operator","value":{"type":"STRING","string":"DoesNotEqualTo"}},{"name":"value","value":{"type":"STRING","string":"Body"}}]}],"children":[{"uid":"3210f00f-d170-4212-8871-13f9bb08d565","commandName":"setCellValue","packageName":"DataTable","attributes":[{"name":"table","value":{"type":"VARIABLE","variableName":"vHeader"}},{"name":"rowPosition","value":{"type":"NUMBER","expression":"$m-row-index$"}},{"name":"columnType","value":{"type":"STRING","string":"colIndex"}},{"name":"columnIndex","value":{"type":"NUMBER","number":"0"}},{"name":"value","value":{"type":"STRING","expression":"$m-dictionary-key$"}}]},{"uid":"f0df4051-bd8c-453a-8d2e-b26b91b49814","commandName":"setCellValue","packageName":"DataTable","attributes":[{"name":"table","value":{"type":"VARIABLE","variableName":"vHeader"}},{"name":"rowPosition","value":{"type":"NUMBER","expression":"$m-row-index$"}},{"name":"columnType","value":{"type":"STRING","string":"colIndex"}},{"name":"columnIndex","value":{"type":"NUMBER","number":"1"}},{"name":"value","value":{"type":"STRING","expression":"$Rest-Response-Assignment{$m-dictionary-key$}$"}}]},{"uid":"30c9ce9c-442d-404a-829f-f55693053441","commandName":"increment","packageName":"Number","attributes":[{"name":"source","value":{"type":"NUMBER","expression":"$m-row-index$"}},{"name":"by","value":{"type":"NUMBER","number":"1"}}],"returnTo":{"type":"VARIABLE","variableName":"m-row-index"}}]}]},{"uid":"76142728-2729-4c2c-b3c4-00839b7e576e","commandName":"assign","packageName":"String","attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$Rest-Response-Assignment{Body}$"}}],"returnTo":{"type":"VARIABLE","variableName":"Prompt-Assignment"}},{"uid":"4e533371-13eb-4224-aff8-a61c30002bf3","commandName":"assign","packageName":"String","attributes":[{"name":"sourceString","value":{"type":"STRING","string":"Servicio:https://bancardqasneo.it-cpi008-rt.cfapps.br10.hana.ondemand.com/http/c4cbridgeaccount1\nFunción: Establecer en true/false las banderas de tipos de adjuntos en el C4C."}}],"returnTo":{"type":"VARIABLE","variableName":"vServicioRest"}},{"uid":"a92248aa-c82a-4a69-ae7f-af1fe371e95f","commandName":"assign","packageName":"String","attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$vServicioRest.LegacyAutomation:parseVariableOperation$"}}],"returnTo":{"type":"VARIABLE","variableName":"vServicioRest"}}],"branches":[{"uid":"63ee3c01-76e3-4e90-96ee-ce512f71ec2b","commandName":"elseIf","packageName":"If","attributes":[{"name":"condition","value":{"type":"CONDITIONAL","conditionalName":"legacyConditionVariable","packageName":"LegacyAutomation"},"attributes":[{"name":"variable","value":{"type":"STRING","expression":"$vEntorno$"}},{"name":"operator","value":{"type":"STRING","string":"EqualsTo"}},{"name":"value","value":{"type":"STRING","string":"PRD"}}]}],"children":[{"uid":"6093c1f9-f983-4649-a61e-194a42616f1c","commandName":"restPost","packageName":"Rest","attributes":[{"name":"uriOption","value":{"type":"STRING","string":"text"}},{"name":"uri","value":{"type":"STRING","string":"https://bancard-prd.it-cpi008-rt.cfapps.br10.hana.ondemand.com/http/c4cbridgeaccount1"}},{"name":"authenticationMode","value":{"type":"STRING","string":"Basic"}},{"name":"basicUserName","value":{"type":"STRING","string":"sb-06b4c183-1294-40e2-9b11-70f37354b0c8!b709|it-rt-bancard-prd!b106"}},{"name":"basicPassword","value":{"type":"STRING","string":"e19e234e-a350-4f16-87f1-bbe5af1b63f4$q6zgqVsyQ2iZdz241fx79jOtuks87NgLgeDu0OFU-Bs="}},{"name":"customHeaders","value":{"type":"LIST","list":[{"type":"DICTIONARY","dictionary":[{"key":"enabled","value":{"type":"BOOLEAN","boolean":true}},{"key":"name","value":{"type":"STRING","string":"Accept"}},{"key":"value","value":{"type":"STRING","string":"*/*"}}]},{"type":"DICTIONARY","dictionary":[{"key":"enabled","value":{"type":"BOOLEAN","boolean":true}},{"key":"name","value":{"type":"STRING","string":"address"}},{"key":"value","value":{"type":"STRING","expression":"('$vObjectID$')"}}]}]}},{"name":"headerContentType","value":{"type":"STRING","string":"application/json"}},{"name":"parameterOption","value":{"type":"STRING","string":"text"}},{"name":"jsonPostParameters","value":{"type":"STRING","expression":"{\n    \"$vCampoTipoAdjunto$\": $vFlagTipoAdjunto$\n}"}},{"name":"proxyType","value":{"type":"STRING","string":"SYSTEM"}},{"name":"captureFailureResponse","value":{"type":"BOOLEAN","boolean":true}},{"name":"timeOut","value":{"type":"NUMBER","expression":"$@AARestTimeOut$"}}],"returnTo":{"type":"VARIABLE","variableName":"Rest-Response-Assignment"}},{"uid":"feb51855-9905-4360-bd52-a834d0f00a56","commandName":"size","packageName":"Dictionary","attributes":[{"name":"sourceMap","value":{"type":"VARIABLE","variableName":"Rest-Response-Assignment"}}],"returnTo":{"type":"VARIABLE","variableName":"m-dictionary-size"}},{"uid":"c481c37f-3c2f-43ee-9046-2098154af618","commandName":"decrement","packageName":"Number","attributes":[{"name":"source","value":{"type":"NUMBER","expression":"$m-dictionary-size$"}},{"name":"by","value":{"type":"NUMBER","number":"1"}}],"returnTo":{"type":"VARIABLE","variableName":"m-dictionary-size"}},{"uid":"1cf86d08-0800-4484-bce4-4341adf7bec8","commandName":"assign","packageName":"DataTable","attributes":[{"name":"option","value":{"type":"STRING","string":"resize"}},{"name":"rowSize","value":{"type":"NUMBER","expression":"$m-dictionary-size$"}},{"name":"columnSize","value":{"type":"NUMBER","number":"2"}}],"returnTo":{"type":"VARIABLE","variableName":"vHeader"}},{"uid":"df403001-00e1-43da-9bcc-b231a4c7ca6e","commandName":"assignToNumber","packageName":"Number","attributes":[{"name":"input","value":{"type":"NUMBER","number":"0"}}],"returnTo":{"type":"VARIABLE","variableName":"m-row-index"}},{"uid":"b3812619-8e38-4ed9-b78d-b81f982e5ddc","commandName":"loop.commands.start","packageName":"Loop","attributes":[{"name":"iterator","value":{"type":"ITERATOR","iteratorName":"dictionary.iterators.keys","packageName":"Dictionary"},"returnTo":{"type":"VARIABLE","variableName":"m-dictionary-key"},"attributes":[{"name":"sourceMap","value":{"type":"VARIABLE","variableName":"Rest-Response-Assignment"}}]},{"name":"loopType","value":{"type":"STRING","string":"ITERATOR"}}],"children":[{"uid":"38f05e15-03ca-4972-bb35-b1f71c534f66","commandName":"if","packageName":"If","attributes":[{"name":"condition","value":{"type":"CONDITIONAL","conditionalName":"legacyConditionVariable","packageName":"LegacyAutomation"},"attributes":[{"name":"variable","value":{"type":"STRING","expression":"$m-dictionary-key$"}},{"name":"operator","value":{"type":"STRING","string":"DoesNotEqualTo"}},{"name":"value","value":{"type":"STRING","string":"Body"}}]}],"children":[{"uid":"2858f98e-d128-4bf8-b7c3-9ef9bbb67d24","commandName":"setCellValue","packageName":"DataTable","attributes":[{"name":"table","value":{"type":"VARIABLE","variableName":"vHeader"}},{"name":"rowPosition","value":{"type":"NUMBER","expression":"$m-row-index$"}},{"name":"columnType","value":{"type":"STRING","string":"colIndex"}},{"name":"columnIndex","value":{"type":"NUMBER","number":"0"}},{"name":"value","value":{"type":"STRING","expression":"$m-dictionary-key$"}}]},{"uid":"f1317348-a51b-49b1-b992-c28b2faec66a","commandName":"setCellValue","packageName":"DataTable","attributes":[{"name":"table","value":{"type":"VARIABLE","variableName":"vHeader"}},{"name":"rowPosition","value":{"type":"NUMBER","expression":"$m-row-index$"}},{"name":"columnType","value":{"type":"STRING","string":"colIndex"}},{"name":"columnIndex","value":{"type":"NUMBER","number":"1"}},{"name":"value","value":{"type":"STRING","expression":"$Rest-Response-Assignment{$m-dictionary-key$}$"}}]},{"uid":"68fcadba-bd6f-4bf7-a2e8-b4fdfdd43121","commandName":"increment","packageName":"Number","attributes":[{"name":"source","value":{"type":"NUMBER","expression":"$m-row-index$"}},{"name":"by","value":{"type":"NUMBER","number":"1"}}],"returnTo":{"type":"VARIABLE","variableName":"m-row-index"}}]}]},{"uid":"6f6bef6b-bf22-4583-abea-cce1b3bbd579","commandName":"assign","packageName":"String","attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$Rest-Response-Assignment{Body}$"}}],"returnTo":{"type":"VARIABLE","variableName":"Prompt-Assignment"}},{"uid":"635ab9b6-c4c3-4a13-81dd-9dfbef7a1b1a","commandName":"assign","packageName":"String","attributes":[{"name":"sourceString","value":{"type":"STRING","string":"Servicio: https://bancard-prd.it-cpi008-rt.cfapps.br10.hana.ondemand.com/http/c4cbridgeaccount1\nFunción: Establecer en true/false las banderas de tipos de adjuntos en el C4C."}}],"returnTo":{"type":"VARIABLE","variableName":"vServicioRest"}},{"uid":"31a45933-4ddd-4518-b256-6f885ddf1259","commandName":"assign","packageName":"String","attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$vServicioRest.LegacyAutomation:parseVariableOperation$"}}],"returnTo":{"type":"VARIABLE","variableName":"vServicioRest"}}]}]},{"uid":"6af9a15b-78d1-42e2-bb17-6cba5870c091","commandName":"assign","packageName":"String","attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$vHeader[0][1]$"}}],"returnTo":{"type":"VARIABLE","variableName":"M-TableCellValue"}},{"uid":"d0154a64-4692-4ccc-b2ef-67c208887f84","commandName":"assign","packageName":"String","attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$M-TableCellValue.LegacyAutomation:parseVariableOperation$"}}],"returnTo":{"type":"VARIABLE","variableName":"M-TableCellValue"}},{"uid":"1f7b19ad-d9c1-45fe-880e-8b8e49d9c034","commandName":"setCellValue","packageName":"DataTable","attributes":[{"name":"table","value":{"type":"VARIABLE","variableName":"vRespuestaRest"}},{"name":"value","value":{"type":"STRING","expression":"$M-TableCellValue$"}},{"name":"rowPosition","value":{"type":"NUMBER","number":"0"}},{"name":"columnType","value":{"type":"STRING","string":"colIndex"}},{"name":"columnIndex","value":{"type":"NUMBER","number":"1"}}]},{"uid":"32f4efa2-6c1f-495a-9ae4-6ad6f07683c1","commandName":"messageBox","packageName":"MessageBox","disabled":true,"attributes":[{"name":"title","value":{"type":"STRING","string":"Automation Anywhere Enterprise Client"}},{"name":"content","value":{"type":"STRING","expression":"$vRespuestaRest[0][1]$"}},{"name":"scrollLines","value":{"type":"NUMBER","number":"30"}},{"name":"closeMsgBox","value":{"type":"BOOLEAN","boolean":true}},{"name":"timeOut","value":{"type":"NUMBER","number":"1"}}]},{"uid":"a44b9ce2-304f-42bc-9ed6-06d9a9e2954a","commandName":"runTask","packageName":"TaskBot","attributes":[{"name":"taskbot","value":{"type":"TASKBOT","taskbotFile":{"type":"FILE","string":"repository:///Automation%20Anywhere/Bots/My%20Tasks/CFBOPC/DOMUS/Manejo_respuestas_rest"},"taskbotInput":{"type":"DICTIONARY","dictionary":[{"key":"vRespuestaRest","value":{"type":"ANY","expression":"$vRespuestaRest$"}},{"key":"vStatus","value":{"type":"STRING","expression":"$vStatus$"}},{"key":"vLogfile","value":{"type":"STRING","expression":"$vLogFile$"}},{"key":"vServicioRest","value":{"type":"STRING","expression":"$vServicioRest$"}}]},"taskbotOutput":{"type":"DICTIONARY","dictionary":[]}}},{"name":"repeatOption","value":{"type":"STRING","string":"DO_NOT_REPEAT"}},{"name":"delayNextRepetition","value":{"type":"BOOLEAN","boolean":false}},{"name":"continueOnError","value":{"type":"BOOLEAN","boolean":true}}],"returnTo":{"type":"DICTIONARY","dictionary":[{"key":"vRespuestaRest","value":{"type":"VARIABLE","variableName":"vRespuestaRest"}},{"key":"vStatus","value":{"type":"VARIABLE","variableName":"vStatus"}},{"key":"vLogfile","value":{"type":"VARIABLE","variableName":"vLogFile"}},{"key":"vServicioRest","value":{"type":"VARIABLE","variableName":"vServicioRest"}}]}},{"uid":"47494bea-a44b-41c9-a03f-66641fb00555","commandName":"if","packageName":"If","attributes":[{"name":"condition","value":{"type":"CONDITIONAL","conditionalName":"legacyConditionVariable","packageName":"LegacyAutomation"},"attributes":[{"name":"variable","value":{"type":"STRING","expression":"$vStatus$"}},{"name":"operator","value":{"type":"STRING","string":"EqualsTo"}},{"name":"value","value":{"type":"STRING","string":"ok"}}]}],"children":[{"uid":"c5ebf89e-ffcc-4161-8b9b-19dc0f3fb81b","commandName":"Comment","packageName":"Comment","disabled":false,"attributes":[{"name":"comment","value":{"type":"STRING","string":"Servicio sin errores"}}]},{"uid":"53f6e14d-fce7-466c-8c3f-292e5a20a481","commandName":"assign","packageName":"String","attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$vLogFile$"}}],"returnTo":{"type":"VARIABLE","variableName":"m-string-start-in-path"}},{"uid":"5ff3c9a2-1f64-46b3-a62b-939b44dddc1d","commandName":"logToFile","packageName":"LogToFile","attributes":[{"name":"filePath","value":{"type":"FILE","expression":"file://$m-string-start-in-path.LegacyAutomation:getAbsolutePath($@AABasePath$)$"}},{"name":"logContent","value":{"type":"STRING","expression":"(Intento: $vIntentosRest$) Se actualizó correctamente el flag del tipo de Adjunto en $vCampoTipoAdjunto$ = $vFlagTipoAdjunto$ para el Cliente-sucursal: $vCodClienteSuc$"}},{"name":"appendTimestamp","value":{"type":"BOOLEAN","boolean":true}},{"name":"logOption","value":{"type":"STRING","string":"APPEND_FILE"}},{"name":"encodingValue","value":{"type":"STRING","string":"ANSI"}}]}],"branches":[{"uid":"f4d2871e-5479-483a-90ea-979a3fb82947","commandName":"elseIf","packageName":"If","attributes":[{"name":"operator","value":{"type":"STRING","string":"AND"}},{"name":"condition","value":{"type":"CONDITIONAL","conditionalName":"legacyConditionVariable","packageName":"LegacyAutomation"},"attributes":[{"name":"variable","value":{"type":"STRING","expression":"$vStatus$"}},{"name":"operator","value":{"type":"STRING","string":"EqualsTo"}},{"name":"value","value":{"type":"STRING","string":"error"}}],"operatorAttribute":{"operator":"AND","value":{"type":"CONDITIONAL","conditionalName":"legacyConditionVariable","packageName":"LegacyAutomation"},"attributes":[{"name":"variable","value":{"type":"STRING","expression":"$vIntentosRest$"}},{"name":"operator","value":{"type":"STRING","string":"LessThanOrEqualTo"}},{"name":"value","value":{"type":"STRING","string":"3"}}]}}],"children":[{"uid":"9afc6982-d96f-49c4-8265-e87b5012b97d","commandName":"assign","packageName":"String","attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$vLogFile$"}}],"returnTo":{"type":"VARIABLE","variableName":"m-string-start-in-path"}},{"uid":"90eba8d2-eb61-499c-9641-987c932a4590","commandName":"logToFile","packageName":"LogToFile","attributes":[{"name":"filePath","value":{"type":"FILE","expression":"file://$m-string-start-in-path.LegacyAutomation:getAbsolutePath($@AABasePath$)$"}},{"name":"logContent","value":{"type":"STRING","expression":"(Intento: $vIntentosRest$) No se pudo actualizar el flag del tipo de adjunto."}},{"name":"appendTimestamp","value":{"type":"BOOLEAN","boolean":true}},{"name":"logOption","value":{"type":"STRING","string":"APPEND_FILE"}},{"name":"encodingValue","value":{"type":"STRING","string":"ANSI"}}]},{"uid":"bfea1c80-f370-40a6-9217-8a0157e4b8b3","commandName":"assign","packageName":"String","attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$vIntentosRest$ + 1"}}],"returnTo":{"type":"VARIABLE","variableName":"vIntentosRest"}},{"uid":"9b79b286-5f8b-45cd-8034-a1a9114fe53b","commandName":"assign","packageName":"String","attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$vIntentosRest.LegacyAutomation:parseVariableOperation$"}}],"returnTo":{"type":"VARIABLE","variableName":"vIntentosRest"}},{"uid":"a29d3802-0200-452f-844c-c12f8b46c383","commandName":"delay","packageName":"Delay","disabled":true,"attributes":[{"name":"delayTime","value":{"type":"NUMBER","number":"3"}},{"name":"timeUnit","value":{"type":"STRING","string":"SECONDS"}},{"name":"delayType","value":{"type":"STRING","string":"REGULAR"}}]}]}]}]},{"uid":"17ad4344-fdc1-405d-9011-18bc5eeb2d81","commandName":"if","packageName":"If","attributes":[{"name":"condition","value":{"type":"CONDITIONAL","conditionalName":"legacyConditionVariable","packageName":"LegacyAutomation"},"attributes":[{"name":"variable","value":{"type":"STRING","expression":"$vStatus$"}},{"name":"operator","value":{"type":"STRING","string":"EqualsTo"}},{"name":"value","value":{"type":"STRING","string":"error"}}]}],"children":[{"uid":"d65cea39-3260-4e57-9a66-6cd1ab1b05fc","commandName":"Comment","packageName":"Comment","disabled":false,"attributes":[{"name":"comment","value":{"type":"STRING","string":"Después de todos los intentos, no pudo actualizar el flag. Se procede a enviar correos."}}]},{"uid":"3ff3b85b-6f32-4abc-b464-e7972255af44","commandName":"assign","packageName":"String","attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$vLogFile$"}}],"returnTo":{"type":"VARIABLE","variableName":"m-string-start-in-path"}},{"uid":"cf6dbc88-ab40-4444-978b-040351989a8f","commandName":"logToFile","packageName":"LogToFile","attributes":[{"name":"filePath","value":{"type":"FILE","expression":"file://$m-string-start-in-path.LegacyAutomation:getAbsolutePath($@AABasePath$)$"}},{"name":"logContent","value":{"type":"STRING","expression":"El adjunto $vCampoTipoAdjunto$ con valor de flag: $vFlagTipoAdjunto$ no pudo ser actualizado en el C4C.\n\nEl código de ClienteSucursal es: $vCodClienteSuc$"}},{"name":"appendTimestamp","value":{"type":"BOOLEAN","boolean":true}},{"name":"logOption","value":{"type":"STRING","string":"APPEND_FILE"}},{"name":"encodingValue","value":{"type":"STRING","string":"ANSI"}}]},{"uid":"61c75d3f-a1cc-40aa-9fc6-7ec5972bee1a","commandName":"SendMailV2","packageName":"Email","disabled":true,"attributes":[{"name":"fromAddress","value":{"type":"STRING","expression":"$vMailFrom$"}},{"name":"toAddress","value":{"type":"STRING","expression":"$vMailTo$"}},{"name":"cc","value":{"type":"STRING","string":""}},{"name":"bcc","value":{"type":"STRING","string":""}},{"name":"subject","value":{"type":"STRING","string":"ERROR - Oportunidades Comerciales."}},{"name":"bodyFormat","value":{"type":"STRING","string":"PLAINTEXT"}},{"name":"message","value":{"type":"STRING","expression":"ACTUALIZACIÓN DE FLAGS EN EL C4C:\n\nEl adjunto $vCampoTipoAdjunto$ con valor de flag: $vFlagTipoAdjunto$ no pudo ser actualizado en el C4C.\n\nEl código de ClienteSucursal es: $vCodClienteSuc$\n\nVerifique el log de ejecución de la fecha."}},{"name":"ensureAttachmentsExist","value":{"type":"BOOLEAN","boolean":false}},{"name":"serverType","value":{"type":"STRING","string":"EMAIL_SERVER"}},{"name":"goGreen","value":{"type":"BOOLEAN","boolean":false}}]}]},{"uid":"d15db991-7971-4642-840e-06cceabd3a79","commandName":"Comment","packageName":"Comment","disabled":false,"attributes":[{"name":"comment","value":{"type":"STRING","string":"================================="}}]},{"uid":"29130340-f8d0-499d-a96e-c929d7198896","commandName":"Comment","packageName":"Comment","disabled":false,"attributes":[{"name":"comment","value":{"type":"STRING","string":"(FIN) Obtiene el código para cada tipo de Adjunto. (OFAC, MATCH, INFORMCONF)"}}]},{"uid":"a0efed4c-d890-4243-9241-4e386df3f98d","commandName":"Comment","packageName":"Comment","disabled":false,"attributes":[{"name":"comment","value":{"type":"STRING","string":"================================="}}]}],"branches":[{"uid":"251a0cb7-b492-4442-a129-40a632459499","commandName":"catch","packageName":"ErrorHandler","attributes":[{"name":"exceptionType","value":{"type":"EXCEPTION","exceptionName":"BotException","packageName":"ErrorHandler"}}],"returns":{"errorMessage":{"type":"VARIABLE","variableName":"Error-Description"},"errorLineNumber":{"type":"VARIABLE","variableName":"Error-LineNumber"}},"children":[{"uid":"8fcb12ab-d00d-4105-8756-52cb29687790","commandName":"assign","packageName":"Boolean","attributes":[{"name":"source","value":{"type":"STRING","string":"constant"}},{"name":"userDefined","value":{"type":"STRING","string":"false"}}],"returnTo":{"type":"VARIABLE","variableName":"M-IsBotExecutedSuccessfully"}},{"uid":"7cf7e650-8190-4f54-9bf5-c7ec671727d3","commandName":"assign","packageName":"String","attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$vLogFile$"}}],"returnTo":{"type":"VARIABLE","variableName":"m-string-start-in-path"}},{"uid":"5f588b42-2382-4c3f-9d51-99f71b733556","commandName":"logToFile","packageName":"LogToFile","attributes":[{"name":"filePath","value":{"type":"FILE","expression":"file://$m-string-start-in-path.LegacyAutomation:getAbsolutePath($@AABasePath$)$"}},{"name":"logContent","value":{"type":"STRING","expression":"[$Error-LineNumber.Number:toString$] - $Error-Description$"}},{"name":"appendTimestamp","value":{"type":"BOOLEAN","boolean":false}},{"name":"logOption","value":{"type":"STRING","string":"APPEND_FILE"}},{"name":"encodingValue","value":{"type":"STRING","string":"ANSI"}}]},{"uid":"4e95d0ba-ff69-47c4-80ce-7bb75b14b21f","commandName":"stopTask","packageName":"TaskBot","attributes":[]}]}]}],"branches":[{"uid":"2c0a40c1-6fc6-4e00-8cbd-5f400e48627c","commandName":"finally","packageName":"ErrorHandler","attributes":[],"children":[{"uid":"d28f1004-a2a3-4979-b7a1-a61b3514bfb0","commandName":"if","packageName":"If","attributes":[{"name":"condition","value":{"type":"CONDITIONAL","conditionalName":"legacyConditionVariable","packageName":"LegacyAutomation"},"attributes":[{"name":"variable","value":{"type":"STRING","expression":"$M-IsBotExecutedSuccessfully.Boolean:toString$"}},{"name":"operator","value":{"type":"STRING","string":"EqualsTo"}},{"name":"value","value":{"type":"STRING","string":"false"}}]}],"children":[{"uid":"64fc2d5e-82e1-4e5f-9f64-d066fd477d5b","commandName":"throw","packageName":"ErrorHandler","attributes":[{"name":"exceptionType","value":{"type":"EXCEPTION","exceptionName":"BotException","packageName":"ErrorHandler"}},{"name":"message","value":{"type":"STRING","expression":"$Error-Description$ Exception occurred at line number $Error-LineNumber.Number:toString$. You chose to mark the bot as 'Failed' in case of any encountered errors."}}]}]}]}]}],"variables":[{"name":"my-list-variable","description":"","type":"LIST","subtype":"STRING","input":true,"output":true,"defaultValue":{"type":"LIST","list":[{"type":"STRING","string":"my-value-1"},{"type":"STRING","string":"my-value-2"},{"type":"STRING","string":"my-value-3"},{"type":"STRING","string":"my-value-4"},{"type":"STRING","string":"my-value-5"}]}},{"name":"vHeader","description":"","type":"TABLE","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"TABLE","table":{"schema":[{"name":"","type":"STRING"},{"name":"","type":"STRING"}],"rows":[{"values":[{"type":"STRING","string":""},{"type":"STRING","string":""}]},{"values":[{"type":"STRING","string":""},{"type":"STRING","string":""}]},{"values":[{"type":"STRING","string":""},{"type":"STRING","string":""}]},{"values":[{"type":"STRING","string":""},{"type":"STRING","string":""}]},{"values":[{"type":"STRING","string":""},{"type":"STRING","string":""}]},{"values":[{"type":"STRING","string":""},{"type":"STRING","string":""}]},{"values":[{"type":"STRING","string":""},{"type":"STRING","string":""}]},{"values":[{"type":"STRING","string":""},{"type":"STRING","string":""}]},{"values":[{"type":"STRING","string":""},{"type":"STRING","string":""}]},{"values":[{"type":"STRING","string":""},{"type":"STRING","string":""}]},{"values":[{"type":"STRING","string":""},{"type":"STRING","string":""}]}]}}},{"name":"vServicioRest","description":"","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":""}},{"name":"vLogFile","description":"","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":""}},{"name":"vIntentosRest","description":"","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":""}},{"name":"Prompt-Assignment","description":"","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":"Test-Value"}},{"name":"vRespuestaRest","description":"","type":"TABLE","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"TABLE","table":{"schema":[{"name":"","type":"STRING"},{"name":"","type":"STRING"}],"rows":[{"values":[{"type":"STRING","string":""},{"type":"STRING","string":""}]}]}}},{"name":"vStatus","description":"","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":""}},{"name":"vCampoTipoAdjunto","description":"","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":""}},{"name":"vFlagTipoAdjunto","description":"","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":""}},{"name":"vObjectID","description":"","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":""}},{"name":"vCodClienteSuc","description":"","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":""}},{"name":"vMailError","description":"","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":""}},{"name":"vMailFrom","description":"","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":""}},{"name":"vMailTo","description":"","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":""}},{"name":"vEntorno","description":"","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":""}},{"name":"cTemplateId","description":"","type":"STRING","subtype":"UNDEFINED","input":true,"output":true},{"name":"M-IsBotExecutedSuccessfully","description":"","type":"BOOLEAN","subtype":"UNDEFINED","input":false,"output":false,"defaultValue":{"type":"BOOLEAN","boolean":"true"}},{"name":"Loop-Counter-1","description":"","type":"STRING","subtype":"UNDEFINED","input":false,"output":false},{"name":"Error-Description","description":"","type":"STRING","subtype":"UNDEFINED","input":false,"output":false},{"name":"Error-LineNumber","description":"","type":"NUMBER","subtype":"UNDEFINED","input":false,"output":false},{"name":"M-TableCellValue","description":"","type":"STRING","subtype":"UNDEFINED","input":false,"output":false},{"name":"Rest-Response-Assignment","description":"","type":"DICTIONARY","subtype":"STRING","input":false,"output":false,"defaultValue":{"type":"DICTIONARY","dictionary":[]}},{"name":"m-dictionary-size","description":"","type":"NUMBER","subtype":"UNDEFINED","input":false,"output":false},{"name":"m-row-index","description":"","type":"NUMBER","subtype":"UNDEFINED","input":false,"output":false},{"name":"m-dictionary-key","description":"","type":"STRING","subtype":"UNDEFINED","input":false,"output":false},{"name":"m-string-start-in-path","description":"","type":"STRING","subtype":"UNDEFINED","input":true,"output":true}],"breakpoints":[],"packages":[{"name":"ErrorHandler","version":"2.10.0-20220929-040735"},{"name":"Number","version":"3.6.0-20220928-104414"},{"name":"Comment","version":"2.12.0"},{"name":"String","version":"5.5.2-20221006-094641"},{"name":"Loop","version":"3.6.0-20220928-191723"},{"name":"LegacyAutomation","version":"5.6.1-20221027-080331"},{"name":"If","version":"3.5.0-20220928-201537"},{"name":"Rest","version":"3.12.0-20220926-070217"},{"name":"Dictionary","version":"3.10.0-20220929-153817"},{"name":"DataTable","version":"4.6.0-20220920-155212"},{"name":"MessageBox","version":"3.4.0-20220416-233919"},{"name":"TaskBot","version":"2.5.0-20221020-114450"},{"name":"LogToFile","version":"3.5.0-20220416-233918"},{"name":"Delay","version":"3.6.0-20220926-132853"},{"name":"Email","version":"3.15.2-20221006-075826"},{"name":"Boolean","version":"2.6.4-20220919-050851"}],"properties":{"improvedNumberSupport":true,"automationPriority":"PRIORITY_MEDIUM","timeout":"0s"}}