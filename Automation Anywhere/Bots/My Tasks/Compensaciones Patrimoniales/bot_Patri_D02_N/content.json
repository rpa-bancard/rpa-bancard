{"triggers":[],"nodes":[{"uid":"d8ea090a-93ff-4d18-8e9c-a89b2bd758c3","commandName":"try","packageName":"ErrorHandler","disabled":false,"children":[{"uid":"829977de-b319-4ab3-a3d1-50acf9b776b8","commandName":"connect","packageName":"Database","disabled":false,"attributes":[{"name":"connectionMode","value":{"type":"STRING","string":"DEFAULT"}},{"name":"connectionOption","value":{"type":"STRING","string":"text"}},{"name":"connectionURL","value":{"type":"STRING","string":"Provider=MSDASQL.1;Persist Security Info=False;Extended Properties=\"DSN=PostgreSQL35W;DATABASE=rpa-desa;SERVER=10.100.14.49;PORT=5432;UID=postgres;SSLmode=disable;ReadOnly=0;Protocol=7.4;FakeOidIndex=0;ShowOidColumn=0;RowVersioning=0;ShowSystemTables=0;Fetch=100;UnknownSizes=0;MaxVarcharSize=255;MaxLongVarcharSize=8190;Debug=0;CommLog=0;UseDeclareFetch=0;TextAsLongVarchar=1;UnknownsAsLongVarchar=0;BoolsAsChar=1;Parse=0;ExtraSysTablePrefixes=;LFConversion=1;UpdatableCursors=1;TrueIsMinus1=0;BI=0;ByteaAsLongVarBinary=1;UseServerSidePrepare=1;LowerCaseIdentifier=0;D6=-101;XaOpt=1\""}},{"name":"use64BitDriver","value":{"type":"BOOLEAN","boolean":false}},{"name":"isUserDefinedDriver","value":{"type":"BOOLEAN","boolean":false}}],"returnTo":{"type":"SESSION","sessionName":{"type":"STRING","string":"reglasPatrimoniales"},"sessionTarget":"GLOBAL"}},{"uid":"5bc454e1-f231-43d4-a147-f0d3ee36f15c","commandName":"connect","packageName":"Database","disabled":false,"attributes":[{"name":"connectionMode","value":{"type":"STRING","string":"DEFAULT"}},{"name":"connectionOption","value":{"type":"STRING","string":"text"}},{"name":"connectionURL","value":{"type":"STRING","string":"Provider=MSDASQL.1;Persist Security Info=False;Extended Properties=\"DSN=PostgreSQL35W;DATABASE=rpa-desa;SERVER=10.100.14.49;PORT=5432;UID=postgres;SSLmode=disable;ReadOnly=0;Protocol=7.4;FakeOidIndex=0;ShowOidColumn=0;RowVersioning=0;ShowSystemTables=0;Fetch=100;UnknownSizes=0;MaxVarcharSize=255;MaxLongVarcharSize=8190;Debug=0;CommLog=0;UseDeclareFetch=0;TextAsLongVarchar=1;UnknownsAsLongVarchar=0;BoolsAsChar=1;Parse=0;ExtraSysTablePrefixes=;LFConversion=1;UpdatableCursors=1;TrueIsMinus1=0;BI=0;ByteaAsLongVarBinary=1;UseServerSidePrepare=1;LowerCaseIdentifier=0;D6=-101;XaOpt=1\""}},{"name":"use64BitDriver","value":{"type":"BOOLEAN","boolean":false}},{"name":"isUserDefinedDriver","value":{"type":"BOOLEAN","boolean":false}}],"returnTo":{"type":"SESSION","sessionName":{"type":"STRING","string":"CompensacionQuery"},"sessionTarget":"GLOBAL"}},{"uid":"5dfa78d7-d4bb-41ce-b9b9-31783ce0f3c7","commandName":"connect","packageName":"Database","disabled":false,"attributes":[{"name":"connectionMode","value":{"type":"STRING","string":"DEFAULT"}},{"name":"connectionOption","value":{"type":"STRING","string":"text"}},{"name":"connectionURL","value":{"type":"STRING","string":"Provider=MSDASQL.1;Persist Security Info=False;Extended Properties=\"DSN=PostgreSQL35W;DATABASE=rpa-desa;SERVER=10.100.14.49;PORT=5432;UID=postgres;SSLmode=disable;ReadOnly=0;Protocol=7.4;FakeOidIndex=0;ShowOidColumn=0;RowVersioning=0;ShowSystemTables=0;Fetch=100;UnknownSizes=0;MaxVarcharSize=255;MaxLongVarcharSize=8190;Debug=0;CommLog=0;UseDeclareFetch=0;TextAsLongVarchar=1;UnknownsAsLongVarchar=0;BoolsAsChar=1;Parse=0;ExtraSysTablePrefixes=;LFConversion=1;UpdatableCursors=1;TrueIsMinus1=0;BI=0;ByteaAsLongVarBinary=1;UseServerSidePrepare=1;LowerCaseIdentifier=0;D6=-101;XaOpt=1\""}},{"name":"use64BitDriver","value":{"type":"BOOLEAN","boolean":false}},{"name":"isUserDefinedDriver","value":{"type":"BOOLEAN","boolean":false}}],"returnTo":{"type":"SESSION","sessionName":{"type":"STRING","string":"partidasAbiertas"},"sessionTarget":"GLOBAL"}},{"uid":"be799df7-5542-4e10-be48-da5ecc76531e","commandName":"connect","packageName":"Database","disabled":false,"attributes":[{"name":"connectionMode","value":{"type":"STRING","string":"DEFAULT"}},{"name":"connectionOption","value":{"type":"STRING","string":"text"}},{"name":"connectionURL","value":{"type":"STRING","string":"Provider=MSDASQL.1;Persist Security Info=False;Extended Properties=\"DSN=PostgreSQL35W;DATABASE=rpa-desa;SERVER=10.100.14.49;PORT=5432;UID=postgres;SSLmode=disable;ReadOnly=0;Protocol=7.4;FakeOidIndex=0;ShowOidColumn=0;RowVersioning=0;ShowSystemTables=0;Fetch=100;UnknownSizes=0;MaxVarcharSize=255;MaxLongVarcharSize=8190;Debug=0;CommLog=0;UseDeclareFetch=0;TextAsLongVarchar=1;UnknownsAsLongVarchar=0;BoolsAsChar=1;Parse=0;ExtraSysTablePrefixes=;LFConversion=1;UpdatableCursors=1;TrueIsMinus1=0;BI=0;ByteaAsLongVarBinary=1;UseServerSidePrepare=1;LowerCaseIdentifier=0;D6=-101;XaOpt=1\""}},{"name":"use64BitDriver","value":{"type":"BOOLEAN","boolean":false}},{"name":"isUserDefinedDriver","value":{"type":"BOOLEAN","boolean":false}}],"returnTo":{"type":"SESSION","sessionName":{"type":"STRING","string":"EstructurarJsonPatri"},"sessionTarget":"GLOBAL"}},{"uid":"358d3628-5fb3-43e2-b6a9-26394ca2c108","commandName":"connect","packageName":"Database","disabled":false,"attributes":[{"name":"connectionMode","value":{"type":"STRING","string":"DEFAULT"}},{"name":"connectionOption","value":{"type":"STRING","string":"text"}},{"name":"connectionURL","value":{"type":"STRING","string":"Provider=MSDASQL.1;Persist Security Info=False;Extended Properties=\"DSN=PostgreSQL35W;DATABASE=rpa-desa;SERVER=10.100.14.49;PORT=5432;UID=postgres;SSLmode=disable;ReadOnly=0;Protocol=7.4;FakeOidIndex=0;ShowOidColumn=0;RowVersioning=0;ShowSystemTables=0;Fetch=100;UnknownSizes=0;MaxVarcharSize=255;MaxLongVarcharSize=8190;Debug=0;CommLog=0;UseDeclareFetch=0;TextAsLongVarchar=1;UnknownsAsLongVarchar=0;BoolsAsChar=1;Parse=0;ExtraSysTablePrefixes=;LFConversion=1;UpdatableCursors=1;TrueIsMinus1=0;BI=0;ByteaAsLongVarBinary=1;UseServerSidePrepare=1;LowerCaseIdentifier=0;D6=-101;XaOpt=1\""}},{"name":"use64BitDriver","value":{"type":"BOOLEAN","boolean":false}},{"name":"isUserDefinedDriver","value":{"type":"BOOLEAN","boolean":false}}],"returnTo":{"type":"SESSION","sessionName":{"type":"STRING","string":"sumaPatri"},"sessionTarget":"GLOBAL"}},{"uid":"f086b131-f31e-40d8-a933-0c8a9ff8fddc","commandName":"connect","packageName":"Database","disabled":false,"attributes":[{"name":"connectionMode","value":{"type":"STRING","string":"DEFAULT"}},{"name":"connectionOption","value":{"type":"STRING","string":"text"}},{"name":"connectionURL","value":{"type":"STRING","string":"Provider=MSDASQL.1;Persist Security Info=False;Extended Properties=\"DSN=PostgreSQL35W;DATABASE=rpa-desa;SERVER=10.100.14.49;PORT=5432;UID=postgres;SSLmode=disable;ReadOnly=0;Protocol=7.4;FakeOidIndex=0;ShowOidColumn=0;RowVersioning=0;ShowSystemTables=0;Fetch=100;UnknownSizes=0;MaxVarcharSize=255;MaxLongVarcharSize=8190;Debug=0;CommLog=0;UseDeclareFetch=0;TextAsLongVarchar=1;UnknownsAsLongVarchar=0;BoolsAsChar=1;Parse=0;ExtraSysTablePrefixes=;LFConversion=1;UpdatableCursors=1;TrueIsMinus1=0;BI=0;ByteaAsLongVarBinary=1;UseServerSidePrepare=1;LowerCaseIdentifier=0;D6=-101;XaOpt=1\""}},{"name":"use64BitDriver","value":{"type":"BOOLEAN","boolean":false}},{"name":"isUserDefinedDriver","value":{"type":"BOOLEAN","boolean":false}}],"returnTo":{"type":"SESSION","sessionName":{"type":"STRING","string":"azwaePatri"},"sessionTarget":"GLOBAL"}},{"uid":"5a4a37bf-d1fe-4ff9-9164-a738da219116","commandName":"step","packageName":"Step","disabled":false,"children":[{"uid":"31bde5ee-4738-41ac-9243-b428d3fd6e8e","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$@AAApplicationPath$\\Automation Anywhere\\My Tasks\\Compensaciones Patrimoniales\\Logs\\Patri_D02_N.txt"}}],"returnTo":{"type":"VARIABLE","variableName":"logFile"}},{"uid":"5a4622c9-1de6-44fc-8ec4-768351d0fd72","commandName":"assign","packageName":"String","disabled":true,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$@AAApplicationPath$\\Automation Anywhere\\My Tasks\\Compensaciones Bancarias\\Config\\FBL3N\\"}}],"returnTo":{"type":"VARIABLE","variableName":"rutaFBL3N"}},{"uid":"7beb747c-f1dd-4beb-acdc-c43a913de8ae","commandName":"assign","packageName":"String","disabled":true,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$@AAApplicationPath$\\Automation Anywhere\\My Tasks\\Compensaciones Bancarias\\Config\\Reglas\\"}}],"returnTo":{"type":"VARIABLE","variableName":"rutaReglas"}},{"uid":"c79f752e-1f1b-4f0b-a702-3fccbfc03eda","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$@AAApplicationPath$\\Calendario\\tabladecierres.csv"}}],"returnTo":{"type":"VARIABLE","variableName":"rutaTablaDeCierres"}},{"uid":"a815aed0-f768-4511-8019-ce94d76403cc","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$@AAApplicationPath$\\Automation Anywhere\\My Tasks\\Compensaciones Patrimoniales\\Temp\\"}}],"returnTo":{"type":"VARIABLE","variableName":"rutaTemp"}},{"uid":"f6f83254-1791-4daa-a286-dc995480aff0","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","string":"PRD"}}],"returnTo":{"type":"VARIABLE","variableName":"entorno"}},{"uid":"7d944877-c2a7-443d-9c14-952a6d4dfeec","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","string":"rpa@bancard.com.py"}}],"returnTo":{"type":"VARIABLE","variableName":"correoRPA"}},{"uid":"1c7f7e45-0bd2-4238-ab91-6167a7bd688d","commandName":"if","packageName":"If","disabled":false,"children":[{"uid":"22b7ecc8-1bfc-4871-b86f-29264e51eab4","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","string":"conciliaciones@bancard.com.py"}}],"returnTo":{"type":"VARIABLE","variableName":"correoUsuarios"}},{"uid":"ab7746c0-6c82-4b3c-a072-f98d7b3eee3c","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","string":"400"}}],"returnTo":{"type":"VARIABLE","variableName":"mandante"}},{"uid":"b64f5cb7-0238-4064-922b-ecf9f6914abc","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","string":"\\\\nas\\Tecnologia\\RPA_360\\Automation Anywhere\\My Tasks\\ConBanc\\Config\\empty.txt"}}],"returnTo":{"type":"VARIABLE","variableName":"emptyFile"}}],"branches":[{"uid":"a0dfa049-acbf-43c6-8dae-c1223e49479c","commandName":"else","packageName":"If","disabled":false,"children":[{"uid":"907db72d-2684-46f9-ae77-66a0ede6e1d0","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","string":"bruno.ruiz@bancard.com.py"}}],"returnTo":{"type":"VARIABLE","variableName":"correoUsuarios"}},{"uid":"df3d4d47-d3d9-47c9-b2e9-c32ab65870b8","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","string":"150"}}],"returnTo":{"type":"VARIABLE","variableName":"mandante"}}]}],"attributes":[{"attributes":[{"name":"variable","value":{"type":"STRING","expression":"$entorno$"}},{"name":"operator","value":{"type":"STRING","string":"EQ"}},{"name":"value","value":{"type":"STRING","string":"PRD"}},{"name":"matchCase","value":{"type":"BOOLEAN","boolean":true}},{"name":"isIgnoreCarriage","value":{"type":"BOOLEAN","boolean":false}}],"name":"condition","value":{"type":"CONDITIONAL","conditionalName":"stringVariable","packageName":"String"}}]}],"attributes":[{"name":"title","value":{"type":"STRING","string":"Definición de rutas y Entorno"}}]},{"uid":"07d19c94-24fe-4fcc-9ea7-3823c846ea29","commandName":"step","packageName":"Step","disabled":false,"children":[{"uid":"fe265493-cf4b-4244-813a-1f98e36b04f8","commandName":"loop.commands.start","packageName":"Loop","disabled":false,"children":[{"uid":"2dde04d3-fcad-4d91-9a73-9fdaa4f89654","commandName":"deleteFiles","packageName":"File","disabled":false,"attributes":[{"name":"filePath","value":{"type":"FILE","expression":"file://$rutaTemp$/$nombreArchivoTemp$.$extensionArchivoTemp$"}},{"name":"isSize","value":{"type":"BOOLEAN","boolean":false}},{"name":"isDate","value":{"type":"BOOLEAN","boolean":false}}]}],"attributes":[{"name":"loopType","value":{"type":"STRING","string":"ITERATOR"}},{"name":"iterator","returnTo":{"type":"DICTIONARY","dictionary":[{"key":"name","value":{"type":"VARIABLE","variableName":"nombreArchivoTemp"}},{"key":"extension","value":{"type":"VARIABLE","variableName":"extensionArchivoTemp"}}]},"attributes":[{"name":"folderPath","value":{"type":"STRING","expression":"$rutaTemp$"}}],"value":{"type":"ITERATOR","iteratorName":"loop.iterators.files","packageName":"File"}}]},{"uid":"5f4925f1-6e21-482e-bf8a-04f6ea0f7f34","commandName":"deleteFiles","packageName":"File","disabled":true,"attributes":[{"name":"filePath","value":{"type":"FILE","expression":"file://$logFile$"}},{"name":"isSize","value":{"type":"BOOLEAN","boolean":false}},{"name":"isDate","value":{"type":"BOOLEAN","boolean":false}}]}],"attributes":[{"name":"title","value":{"type":"STRING","string":"Preparación de archivos - Vaciado de Carpetas"}}]},{"uid":"96a36944-ce3e-484a-90ed-49eea783c94e","commandName":"step","packageName":"Step","disabled":false,"children":[{"uid":"05409f5f-7b2e-49d0-9273-fae150d308d3","commandName":"logToFile","packageName":"LogToFile","disabled":false,"attributes":[{"name":"filePath","value":{"type":"FILE","expression":"file://$logFile$"}},{"name":"logContent","value":{"type":"STRING","string":"Conexión a la BD"}},{"name":"appendTimestamp","value":{"type":"BOOLEAN","boolean":true}},{"name":"logOption","value":{"type":"STRING","string":"APPEND_FILE"}},{"name":"encodingValue","value":{"type":"STRING","string":"ANSI"}}]},{"uid":"cc5ed392-2530-4884-a069-efe496c81267","commandName":"connect","packageName":"Database","disabled":false,"attributes":[{"name":"connectionMode","value":{"type":"STRING","string":"DEFAULT"}},{"name":"connectionOption","value":{"type":"STRING","string":"text"}},{"name":"connectionURL","value":{"type":"STRING","string":"Provider=MSDASQL.1;Persist Security Info=False;Extended Properties=\"DSN=PostgreSQL35W;DATABASE=rpa-desa;SERVER=10.100.14.49;PORT=5432;UID=postgres;SSLmode=disable;ReadOnly=0;Protocol=7.4;FakeOidIndex=0;ShowOidColumn=0;RowVersioning=0;ShowSystemTables=0;Fetch=100;UnknownSizes=0;MaxVarcharSize=255;MaxLongVarcharSize=8190;Debug=0;CommLog=0;UseDeclareFetch=0;TextAsLongVarchar=1;UnknownsAsLongVarchar=0;BoolsAsChar=1;Parse=0;ExtraSysTablePrefixes=;LFConversion=1;UpdatableCursors=1;TrueIsMinus1=0;BI=0;ByteaAsLongVarBinary=1;UseServerSidePrepare=1;LowerCaseIdentifier=0;D6=-101;XaOpt=1\""}},{"name":"use64BitDriver","value":{"type":"BOOLEAN","boolean":false}},{"name":"isUserDefinedDriver","value":{"type":"BOOLEAN","boolean":false}}],"returnTo":{"type":"SESSION","sessionName":{"type":"STRING","string":"D02_N"},"sessionTarget":"GLOBAL"}}],"attributes":[{"name":"title","value":{"type":"STRING","string":"Conexión con BD"}}]},{"uid":"090b1f7a-6516-44c2-8704-44ea6dfdaa24","commandName":"step","packageName":"Step","disabled":false,"children":[{"uid":"342592d5-3b6d-44b8-86c7-962e728a0a92","commandName":"sqlQuery","packageName":"Database","disabled":false,"attributes":[{"name":"query","value":{"type":"STRING","string":"SELECT *\nFROM fbl3n_patrimoniales\nJOIN llaves_de_compensacion ON fbl3n_patrimoniales.sociedad = llaves_de_compensacion.sociedad_num\nWHERE llaves_de_compensacion.estado = 'TRUE' and grupo = 'Patri_D02_N' and fbl3n_patrimoniales.estado = 'ACTIVADO';"}},{"name":"doExport","value":{"type":"BOOLEAN","boolean":false}},{"name":"session","value":{"type":"SESSION","sessionName":{"type":"STRING","string":"partidasAbiertas"}}}]},{"uid":"a076732a-6e21-4efa-9377-a195e11f8314","commandName":"loop.commands.start","packageName":"Loop","disabled":false,"children":[{"uid":"787c92f6-7d04-4e49-b7d7-19595ddf308c","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$filaFBL3N[1]$"}}],"returnTo":{"type":"VARIABLE","variableName":"cuentaPatrimonial"}},{"uid":"0ff1e793-0e12-461a-b340-77cc6556c36f","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$filaFBL3N[2]$"}}],"returnTo":{"type":"VARIABLE","variableName":"fbl3nSociedad"}},{"uid":"d1232f3d-5549-4024-9fd5-a9790855743a","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$filaFBL3N[0]$"}}],"returnTo":{"type":"VARIABLE","variableName":"fbl3nGrupo"}},{"uid":"08fe088e-651a-45b3-809f-83d7d5434ab5","commandName":"logToFile","packageName":"LogToFile","disabled":false,"attributes":[{"name":"filePath","value":{"type":"FILE","expression":"file://$logFile$"}},{"name":"logContent","value":{"type":"STRING","expression":"FBL3N: Pagadora: $cuentaPatrimonial$ -Sociedad: $fbl3nSociedad$"}},{"name":"appendTimestamp","value":{"type":"BOOLEAN","boolean":true}},{"name":"logOption","value":{"type":"STRING","string":"APPEND_FILE"}},{"name":"encodingValue","value":{"type":"STRING","string":"ANSI"}}]},{"uid":"fdd9ad2a-2dc7-42bd-9355-8a1d884f0310","commandName":"step","packageName":"Step","disabled":false,"children":[{"uid":"f311e915-6a65-421e-b5bb-2e13e6b7d44c","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$System:Year.Number:toString$-01-01"}}],"returnTo":{"type":"VARIABLE","variableName":"begda"}},{"uid":"6351f956-dbc8-45fe-b0f9-a1ec249e7507","commandName":"if","packageName":"If","disabled":false,"children":[{"uid":"6e9c3e9f-9089-4b85-b31a-a665a085d031","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"0$System:Day.Number:toString$"}}],"returnTo":{"type":"VARIABLE","variableName":"dia"}}],"branches":[{"uid":"4a4c4cec-a54d-420a-99c0-b0c4a1b94699","commandName":"else","packageName":"If","disabled":false,"children":[{"uid":"2779b024-eaef-4408-be34-a6fcb06b6a69","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$System:Day.Number:toString$"}}],"returnTo":{"type":"VARIABLE","variableName":"dia"}}]}],"attributes":[{"attributes":[{"name":"variable","value":{"type":"NUMBER","expression":"$System:Day$"}},{"name":"operator","value":{"type":"STRING","string":"LTE"}},{"name":"value","value":{"type":"NUMBER","number":"9"}}],"name":"condition","value":{"type":"CONDITIONAL","conditionalName":"numberVariable","packageName":"Number"}}]},{"uid":"1a730cdb-2461-4dcb-827b-b14ff2243154","commandName":"if","packageName":"If","disabled":false,"children":[{"uid":"56530bdc-4fd5-462b-bf11-0996c432ba1a","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"0$System:Month.Number:toString$"}}],"returnTo":{"type":"VARIABLE","variableName":"mes"}}],"branches":[{"uid":"37831d57-2500-4202-bd15-f56d3b464c93","commandName":"else","packageName":"If","disabled":false,"children":[{"uid":"4ecf3c8e-38bf-4a0a-95ce-3bf0a3c2fc66","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$System:Month.Number:toString$"}}],"returnTo":{"type":"VARIABLE","variableName":"mes"}}]}],"attributes":[{"attributes":[{"name":"variable","value":{"type":"NUMBER","expression":"$System:Month$"}},{"name":"operator","value":{"type":"STRING","string":"LTE"}},{"name":"value","value":{"type":"NUMBER","number":"9"}}],"name":"condition","value":{"type":"CONDITIONAL","conditionalName":"numberVariable","packageName":"Number"}}]},{"uid":"2d2b4351-3047-4568-88f6-8ccdb6605a79","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$System:Year.Number:toString$-$mes$-$dia$"}}],"returnTo":{"type":"VARIABLE","variableName":"endda"}},{"uid":"3e4e1ff0-08d8-452d-9510-d6dbe041718b","commandName":"if","packageName":"If","disabled":false,"children":[{"uid":"65dbe811-0871-42cf-b5e6-86f15bf0645d","commandName":"restGet","packageName":"Rest","disabled":false,"attributes":[{"name":"uriOption","value":{"type":"STRING","string":"text"}},{"name":"uri","value":{"type":"STRING","expression":"https://sap-erp-prd-1.bancardnet.dom:44300/sap/bc/zopenitemsptr?sap-client=400&entrada={\"gEsCabecera\":{\"mandt\":\"400\",\"bukrs\":\"$fbl3nSociedad$\",\"begda\":\"$begda$\",\"endda\":\"$endda$\"},\"gTiDetalle\":[{\"saknr\":\"$cuentaPatrimonial$\"}]}"}},{"name":"proxyType","value":{"type":"STRING","string":"SYSTEM"}},{"name":"authenticationMode","value":{"type":"STRING","string":"Basic"}},{"name":"basicUserName","value":{"type":"CREDENTIAL","credential":{"name":"RPA 4","lockerName":"SAP PASS","attributeName":"RPA4 ID"}}},{"name":"basicPassword","value":{"type":"CREDENTIAL","credential":{"name":"RPA 4","lockerName":"SAP PASS","attributeName":"RPA4 PASS"}}},{"name":"captureFailureResponse","value":{"type":"BOOLEAN","boolean":true}},{"name":"allowInsecureConnection","value":{"type":"BOOLEAN","boolean":false}},{"name":"timeOut","value":{"type":"NUMBER","expression":"$@AARestTimeOut$"}}],"returnTo":{"type":"VARIABLE","variableName":"Rest-Response-Assignment"}},{"uid":"3126298d-7954-4570-aad7-5addcc9e544f","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$Rest-Response-Assignment{Body}$"}}],"returnTo":{"type":"VARIABLE","variableName":"responseSAP"}}],"branches":[{"uid":"fe343533-b3df-4b3a-b7fb-f29d0c2c5905","commandName":"else","packageName":"If","disabled":false,"children":[{"uid":"9d8e0e50-9386-4cd5-87db-8c25ebf91d7a","commandName":"restGet","packageName":"Rest","disabled":false,"attributes":[{"name":"uriOption","value":{"type":"STRING","string":"text"}},{"name":"uri","value":{"type":"STRING","expression":"https://sap-qas-des-1.bancardnet.dom:44300/sap/bc/zopenitems?sap-client=150&entrada={\"gEsCabecera\":{\"mandt\":\"150\",\"bukrs\":\"$fbl3nSociedad$\",\"begda\":\"$begda$\",\"endda\":\"$endda$\"},\"gTiDetalle\":[{\"saknr\":\"$cuentaPatrimonial$\"}]}"}},{"name":"proxyType","value":{"type":"STRING","string":"SYSTEM"}},{"name":"authenticationMode","value":{"type":"STRING","string":"Basic"}},{"name":"basicUserName","value":{"type":"CREDENTIAL","credential":{"name":"RPA 4","lockerName":"SAP PASS","attributeName":"RPA4 ID"}}},{"name":"basicPassword","value":{"type":"CREDENTIAL","credential":{"name":"RPA 4","lockerName":"SAP PASS","attributeName":"RPA4 PASS"}}},{"name":"captureFailureResponse","value":{"type":"BOOLEAN","boolean":true}},{"name":"allowInsecureConnection","value":{"type":"BOOLEAN","boolean":false}},{"name":"timeOut","value":{"type":"NUMBER","expression":"$@AARestTimeOut$"}}],"returnTo":{"type":"VARIABLE","variableName":"Rest-Response-Assignment"}},{"uid":"b42246b8-aaff-43ef-8bfe-442c28297eb9","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$Rest-Response-Assignment{Body}$"}}],"returnTo":{"type":"VARIABLE","variableName":"responseSAP"}}]}],"attributes":[{"attributes":[{"name":"variable","value":{"type":"STRING","expression":"$entorno$"}},{"name":"operator","value":{"type":"STRING","string":"EQ"}},{"name":"value","value":{"type":"STRING","string":"PRD"}},{"name":"matchCase","value":{"type":"BOOLEAN","boolean":true}},{"name":"isIgnoreCarriage","value":{"type":"BOOLEAN","boolean":false}}],"name":"condition","value":{"type":"CONDITIONAL","conditionalName":"stringVariable","packageName":"String"}}]},{"uid":"e48ef490-b0fc-44ef-8f93-5aa6a2d9d4a1","commandName":"step","packageName":"Step","disabled":false,"children":[{"uid":"839c8ae6-f16b-4884-b8ed-919dacab5dde","commandName":"runTask","packageName":"TaskBot","disabled":false,"attributes":[{"name":"taskbot","value":{"type":"TASKBOT","taskbotInput":{"type":"DICTIONARY","dictionary":[{"key":"jsonPartidasAbiertas","value":{"type":"STRING","expression":"$responseSAP$"}},{"key":"logFile","value":{"type":"STRING","expression":"$logFile$"}},{"key":"cuentaPagadora","value":{"type":"STRING","expression":"$cuentaPatrimonial$"}},{"key":"fbl3nSoc","value":{"type":"STRING","expression":"$fbl3nSociedad$"}},{"key":"fbl3nGrupo","value":{"type":"STRING","expression":"$fbl3nGrupo$"}}]},"taskbotFile":{"type":"FILE","string":"repository:///Automation%20Anywhere/Bots/My%20Tasks/Compensaciones%20Patrimoniales/JSONtoBD%20Patrimoniales"}}},{"name":"repeatOption","value":{"type":"STRING","string":"DO_NOT_REPEAT"}},{"name":"delayNextRepetition","value":{"type":"BOOLEAN","boolean":false}},{"name":"continueOnError","value":{"type":"BOOLEAN","boolean":false}}]},{"uid":"ec7454cc-87df-464a-9297-4e7d917bb90a","commandName":"pauseTask","packageName":"TaskBot","disabled":true}],"attributes":[{"name":"title","value":{"type":"STRING","string":"Cargar partidas a la BD"}}]}],"attributes":[{"name":"title","value":{"type":"STRING","string":"Partidas abiertas de SAP"}}]},{"uid":"b97bdab7-c499-4915-a1b6-f9a3e56655bd","commandName":"step","packageName":"Step","disabled":false,"children":[{"uid":"cef47928-4baa-4977-b869-d19d2987aa2b","commandName":"sqlQuery","packageName":"Database","disabled":false,"attributes":[{"name":"query","value":{"type":"STRING","expression":"SELECT * \nFROM reglas_patrimoniales\nWHERE \"CuentaPatrimonial\" = '$cuentaPatrimonial$' \n    AND Soc = '$fbl3nSociedad$' \n    AND Grupo = 'Patri_D02_N' \n    AND \"ESTADO\" = 'ACTIVADO';"}},{"name":"timeOut","value":{"type":"NUMBER","number":"6000"}},{"name":"doExport","value":{"type":"BOOLEAN","boolean":false}},{"name":"session","value":{"type":"SESSION","sessionName":{"type":"STRING","string":"reglasPatrimoniales"}}}]},{"uid":"365bdcf9-6137-4dda-8ac0-d7f40d2193ed","commandName":"loop.commands.start","packageName":"Loop","disabled":false,"children":[{"uid":"b43ff446-29a6-4b7a-9a18-96edd6b024e4","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","string":""}}],"returnTo":{"type":"VARIABLE","variableName":"detailString"}},{"uid":"1784dc76-274c-4522-a57d-41ef1ba3452c","commandName":"logToFile","packageName":"LogToFile","disabled":false,"attributes":[{"name":"filePath","value":{"type":"FILE","expression":"file://$logFile$"}},{"name":"logContent","value":{"type":"STRING","string":"Vacía la tabla de compensados."}},{"name":"appendTimestamp","value":{"type":"BOOLEAN","boolean":true}},{"name":"logOption","value":{"type":"STRING","string":"APPEND_FILE"}},{"name":"encodingValue","value":{"type":"STRING","string":"ANSI"}}]},{"uid":"8f63ccf9-7477-4ac6-b0f0-78255b072bcc","commandName":"insertUpdateDelete","packageName":"Database","disabled":false,"attributes":[{"name":"query","value":{"type":"STRING","string":"truncate table compensadosPatrimoniales;"}},{"name":"session","value":{"type":"SESSION","sessionName":{"type":"STRING","string":"reglasPatrimoniales"}}}]},{"uid":"898db3c2-640b-4a20-9243-9079dda8ce6d","commandName":"messageBox","packageName":"MessageBox","disabled":true,"attributes":[{"name":"title","value":{"type":"STRING","string":"Automation Anywhere Enterprise Client"}},{"name":"content","value":{"type":"STRING","expression":"$filaReglasBancarias[1]$"}},{"name":"scrollLines","value":{"type":"NUMBER","number":"30"}},{"name":"closeMsgBox","value":{"type":"BOOLEAN","boolean":false}}]},{"uid":"26522a12-057b-4fbf-a290-62e5e295265f","commandName":"assign","packageName":"String","disabled":true,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$filaReglasBancarias[1]$"}}],"returnTo":{"type":"VARIABLE","variableName":"entidad"}},{"uid":"f62c3f1c-e4ca-4e67-9506-7137a7559dfa","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$filaReglasBancarias[3]$"}}],"returnTo":{"type":"VARIABLE","variableName":"tipoDoc_A"}},{"uid":"09037699-2192-4d37-9b45-a2746150ed70","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$filaReglasBancarias[4]$"}}],"returnTo":{"type":"VARIABLE","variableName":"tipoDoc_B"}},{"uid":"b345db6f-cdb8-4ec2-ab65-1b50af1539e8","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$filaReglasBancarias[5]$"}}],"returnTo":{"type":"VARIABLE","variableName":"tipoDoc_C"}},{"uid":"6c8d5485-2ecd-46cc-aa82-691d749ec238","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$filaReglasBancarias[6]$"}}],"returnTo":{"type":"VARIABLE","variableName":"tipoDoc_D"}},{"uid":"8bf21e29-f0ba-4320-a8c1-d2255debeda3","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$filaReglasBancarias[7]$"}}],"returnTo":{"type":"VARIABLE","variableName":"textoTipoDoc_A"}},{"uid":"fff0378f-43fe-4414-a374-cce0d26575b0","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$filaReglasBancarias[8]$"}}],"returnTo":{"type":"VARIABLE","variableName":"textoTipoDoc_B"}},{"uid":"6c560587-fb7e-475b-9530-4e633fc77b95","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$filaReglasBancarias[9]$"}}],"returnTo":{"type":"VARIABLE","variableName":"textoTipoDoc_C"}},{"uid":"61659147-be34-4c52-b29e-0451546810b9","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$filaReglasBancarias[10]$"}}],"returnTo":{"type":"VARIABLE","variableName":"textoTipoDoc_D"}},{"uid":"0eba08b5-559c-4db9-bfa4-94bcfb41f4b8","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$filaReglasBancarias[11]$"}}],"returnTo":{"type":"VARIABLE","variableName":"claseDocGenerar"}},{"uid":"345bf940-bd70-447e-bd89-3e84e24d3349","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$filaReglasBancarias[12]$"}}],"returnTo":{"type":"VARIABLE","variableName":"limRedondeo"}},{"uid":"cbbf56ba-e319-4a8f-97bc-88604a3c22bc","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$filaReglasBancarias[13]$"}}],"returnTo":{"type":"VARIABLE","variableName":"dejarSaldo"}},{"uid":"fe96eecb-fd14-4510-8e7c-17b9bbf40cf1","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$filaReglasBancarias[14]$"}}],"returnTo":{"type":"VARIABLE","variableName":"retardoTipoDoc_A"}},{"uid":"a9a3218b-bcef-4f7e-82ba-a98796f2cca1","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$filaReglasBancarias[15]$"}}],"returnTo":{"type":"VARIABLE","variableName":"retardoTipoDoc_B"}},{"uid":"0a591d18-1330-4845-8954-dca5ed03a6f5","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$filaReglasBancarias[16]$"}}],"returnTo":{"type":"VARIABLE","variableName":"retardoTipoDoc_C"}},{"uid":"562f0e3f-a4f2-4504-bb3d-a4c2b9bffcfb","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$filaReglasBancarias[17]$"}}],"returnTo":{"type":"VARIABLE","variableName":"retardoTipoDoc_D"}},{"uid":"5f417806-efad-4c1d-96e5-e4b1b70af7fd","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$filaReglasBancarias[18]$"}}],"returnTo":{"type":"VARIABLE","variableName":"textoSaldo"}},{"uid":"f8e093b3-f488-4975-80cb-a73524bc414a","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$filaReglasBancarias[19]$"}}],"returnTo":{"type":"VARIABLE","variableName":"retardoHabil"}},{"uid":"729ade65-3410-4cc1-97b3-1a6ff9dec522","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$filaReglasBancarias[20]$"}}],"returnTo":{"type":"VARIABLE","variableName":"moneda"}},{"uid":"7c36b6fd-177d-4015-8f40-fae8486a1246","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$filaReglasBancarias[21]$"}}],"returnTo":{"type":"VARIABLE","variableName":"limiteDifCamb"}},{"uid":"3c711817-2af4-44d0-98d5-77092e219b16","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$filaReglasBancarias[22]$"}}],"returnTo":{"type":"VARIABLE","variableName":"flaglogic"}},{"uid":"134e8028-aca5-4c0f-9da0-d2587aed20e3","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$filaReglasBancarias[23]$"}}],"returnTo":{"type":"VARIABLE","variableName":"textoCabecera"}},{"uid":"584d65ca-9359-4659-92ab-0f7f54e506e8","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$filaReglasBancarias[24]$"}}],"returnTo":{"type":"VARIABLE","variableName":"nombreRegla"}},{"uid":"f84807d1-d64c-43c7-8e41-0dccf1312a2a","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$filaReglasBancarias[26]$"}}],"returnTo":{"type":"VARIABLE","variableName":"refRegla"}},{"uid":"e9cf092e-6ec1-4712-b9de-92aaae28005d","commandName":"logToFile","packageName":"LogToFile","disabled":false,"attributes":[{"name":"filePath","value":{"type":"FILE","expression":"file://$logFile$"}},{"name":"logContent","value":{"type":"STRING","expression":"ID REGLA: $flaglogic$\nRetardo i: $retardoTipoDoc_A$\nRetardo j: $retardoTipoDoc_B$"}},{"name":"appendTimestamp","value":{"type":"BOOLEAN","boolean":true}},{"name":"logOption","value":{"type":"STRING","string":"APPEND_FILE"}},{"name":"encodingValue","value":{"type":"STRING","string":"ANSI"}}]},{"uid":"8f08cc25-b3ff-44ae-83be-621ff983d0f7","commandName":"step","packageName":"Step","disabled":false,"children":[{"uid":"54a8bd05-68bc-4b96-8c08-d0d5c1317637","commandName":"if","packageName":"If","disabled":false,"children":[{"uid":"d5749312-3416-48ff-9afa-2e39af678c05","commandName":"runTask","packageName":"TaskBot","disabled":false,"attributes":[{"name":"taskbot","value":{"type":"TASKBOT","taskbotInput":{"type":"DICTIONARY","dictionary":[{"key":"cantDiasRetardo","value":{"type":"STRING","expression":"$retardoTipoDoc_A$"}},{"key":"retardoHabil","value":{"type":"STRING","expression":"$retardoHabil$"}},{"key":"tipoDoc","value":{"type":"STRING","expression":"$tipoDoc_A$"}},{"key":"claseDoc","value":{"type":"STRING","string":"\"_Clase_i_\""}}]},"taskbotFile":{"type":"FILE","string":"repository:///Automation%20Anywhere/Bots/My%20Tasks/Compensaciones%20Patrimoniales/Metabots/Retardo"}}},{"name":"repeatOption","value":{"type":"STRING","string":"DO_NOT_REPEAT"}},{"name":"delayNextRepetition","value":{"type":"BOOLEAN","boolean":false}},{"name":"continueOnError","value":{"type":"BOOLEAN","boolean":false}}]}],"branches":[],"attributes":[{"attributes":[{"name":"variable","value":{"type":"STRING","expression":"$retardoTipoDoc_A$"}},{"name":"operator","value":{"type":"STRING","string":"GreaterThan"}},{"name":"value","value":{"type":"STRING","string":"0"}}],"name":"condition","value":{"type":"CONDITIONAL","conditionalName":"legacyConditionVariable","packageName":"LegacyAutomation"}}]},{"uid":"b2a2ec95-371d-438c-bce2-5e01978b8e69","commandName":"if","packageName":"If","disabled":false,"children":[{"uid":"ad38c2b1-1df1-4dd8-98d0-0849f8675429","commandName":"runTask","packageName":"TaskBot","disabled":false,"attributes":[{"name":"taskbot","value":{"type":"TASKBOT","taskbotInput":{"type":"DICTIONARY","dictionary":[{"key":"cantDiasRetardo","value":{"type":"STRING","expression":"$retardoTipoDoc_B$"}},{"key":"retardoHabil","value":{"type":"STRING","expression":"$retardoHabil$"}},{"key":"tipoDoc","value":{"type":"STRING","expression":"$tipoDoc_B$"}},{"key":"claseDoc","value":{"type":"STRING","string":"\"_Clase_j_\""}}]},"taskbotFile":{"type":"FILE","string":"repository:///Automation%20Anywhere/Bots/My%20Tasks/Compensaciones%20Patrimoniales/Metabots/Retardo"}}},{"name":"repeatOption","value":{"type":"STRING","string":"DO_NOT_REPEAT"}},{"name":"delayNextRepetition","value":{"type":"BOOLEAN","boolean":false}},{"name":"continueOnError","value":{"type":"BOOLEAN","boolean":false}}]}],"branches":[],"attributes":[{"attributes":[{"name":"variable","value":{"type":"STRING","expression":"$retardoTipoDoc_B$"}},{"name":"operator","value":{"type":"STRING","string":"GreaterThan"}},{"name":"value","value":{"type":"STRING","string":"0"}}],"name":"condition","value":{"type":"CONDITIONAL","conditionalName":"legacyConditionVariable","packageName":"LegacyAutomation"}}]},{"uid":"37882de6-4da5-497d-ac98-d8676d5e8ff2","commandName":"if","packageName":"If","disabled":false,"children":[{"uid":"39c019f9-046f-4713-99cb-afa415497847","commandName":"runTask","packageName":"TaskBot","disabled":false,"attributes":[{"name":"taskbot","value":{"type":"TASKBOT","taskbotInput":{"type":"DICTIONARY","dictionary":[{"key":"cantDiasRetardo","value":{"type":"STRING","expression":"$retardoTipoDoc_C$"}},{"key":"retardoHabil","value":{"type":"STRING","expression":"$retardoHabil$"}},{"key":"tipoDoc","value":{"type":"STRING","expression":"$tipoDoc_C$"}},{"key":"claseDoc","value":{"type":"STRING","string":"\"_Clase_k_\""}}]},"taskbotFile":{"type":"FILE","string":"repository:///Automation%20Anywhere/Bots/My%20Tasks/Compensaciones%20Patrimoniales/Metabots/Retardo"}}},{"name":"repeatOption","value":{"type":"STRING","string":"DO_NOT_REPEAT"}},{"name":"delayNextRepetition","value":{"type":"BOOLEAN","boolean":false}},{"name":"continueOnError","value":{"type":"BOOLEAN","boolean":false}}]}],"branches":[],"attributes":[{"attributes":[{"name":"variable","value":{"type":"STRING","expression":"$retardoTipoDoc_C$"}},{"name":"operator","value":{"type":"STRING","string":"GreaterThan"}},{"name":"value","value":{"type":"STRING","string":"0"}}],"name":"condition","value":{"type":"CONDITIONAL","conditionalName":"legacyConditionVariable","packageName":"LegacyAutomation"}}]},{"uid":"c1381f73-071a-4324-8e7b-d8e2024d64c5","commandName":"if","packageName":"If","disabled":false,"children":[{"uid":"acbc0ba4-6afb-4c1b-8988-e88881cea690","commandName":"runTask","packageName":"TaskBot","disabled":false,"attributes":[{"name":"taskbot","value":{"type":"TASKBOT","taskbotInput":{"type":"DICTIONARY","dictionary":[{"key":"cantDiasRetardo","value":{"type":"STRING","expression":"$retardoTipoDoc_D$"}},{"key":"retardoHabil","value":{"type":"STRING","expression":"$retardoHabil$"}},{"key":"tipoDoc","value":{"type":"STRING","expression":"$tipoDoc_D$"}},{"key":"claseDoc","value":{"type":"STRING","string":"\"_Clase_l_\""}}]},"taskbotFile":{"type":"FILE","string":"repository:///Automation%20Anywhere/Bots/My%20Tasks/Compensaciones%20Patrimoniales/Metabots/Retardo"}}},{"name":"repeatOption","value":{"type":"STRING","string":"DO_NOT_REPEAT"}},{"name":"delayNextRepetition","value":{"type":"BOOLEAN","boolean":false}},{"name":"continueOnError","value":{"type":"BOOLEAN","boolean":false}}]}],"branches":[],"attributes":[{"attributes":[{"name":"variable","value":{"type":"STRING","expression":"$retardoTipoDoc_D$"}},{"name":"operator","value":{"type":"STRING","string":"GreaterThan"}},{"name":"value","value":{"type":"STRING","string":"0"}}],"name":"condition","value":{"type":"CONDITIONAL","conditionalName":"legacyConditionVariable","packageName":"LegacyAutomation"}}]}],"attributes":[{"name":"title","value":{"type":"STRING","string":"Retardos"}}]},{"uid":"4260f117-bac2-4151-bf2a-b170e6cb2640","commandName":"step","packageName":"Step","disabled":false,"children":[{"uid":"6a34e69a-db54-4321-9569-6a9c5192c9b2","commandName":"if","packageName":"If","disabled":true,"children":[{"uid":"0c05d4ff-fe38-40f5-b7b4-c4e534de573e","commandName":"insertUpdateDelete","packageName":"Database","disabled":true,"attributes":[{"name":"query","value":{"type":"STRING","expression":"INSERT INTO compensadosPatrimoniales\nSELECT saknr, kunnr, lifnr, blart, bldat, budat, azbet, dmbtr, sgtxt, belnr, azwae, hwaer, buzei, gjahr, shkzg, record_id, signo, compensado\nFROM (\n    SELECT\n        A.*,\n        ROW_NUMBER() OVER (PARTITION BY A.kunnr ORDER BY A.dmbtr, A.blart) AS row_num\n    FROM\n        pa_patrimoniales A\n    JOIN pa_patrimoniales B ON\n        ((A.blart = '$tipoDoc_A$' AND B.blart = '$tipoDoc_B$') OR (A.blart = '$tipoDoc_B$' AND B.blart = '$tipoDoc_A$'))\n    WHERE\n        A.kunnr = B.kunnr\n    \tand A.record_id <> B.record_id\n        AND A.signo <> B.signo\n        AND A.dmbtr - B.dmbtr = 0\n        AND A.compensado = false\n        AND B.compensado = false\n) AS CompensacionesA\nWHERE row_num = 1\nUNION\nSELECT saknr, kunnr, lifnr, blart, bldat, budat, azbet, dmbtr, sgtxt, belnr, azwae, hwaer, buzei, gjahr, shkzg, record_id, signo, compensado\nFROM (\n    SELECT\n        B.*,\n        ROW_NUMBER() OVER (PARTITION BY A.kunnr ORDER BY A.dmbtr, A.blart) AS row_num\n    FROM\n        pa_patrimoniales B\n    JOIN pa_patrimoniales A ON\n       ((A.blart = '$tipoDoc_A$' AND B.blart = '$tipoDoc_B$') OR (A.blart = '$tipoDoc_B$' AND B.blart = '$tipoDoc_A$'))\n    WHERE\n        A.kunnr = B.kunnr\n    \tand A.record_id <> B.record_id\n        AND A.signo <> B.signo\n        AND A.dmbtr - B.dmbtr = 0\n        AND A.compensado = false\n        AND B.compensado = false\n) AS CompensacionesB\nWHERE row_num = 1"}},{"name":"session","value":{"type":"SESSION","sessionName":{"type":"STRING","string":"CompensacionQuery"}}}]},{"uid":"5d80a0bb-7f42-4d43-893c-1b1962e6bca2","commandName":"runTask","packageName":"TaskBot","disabled":true,"attributes":[{"name":"taskbot","value":{"type":"TASKBOT","taskbotInput":{"type":"DICTIONARY","dictionary":[{"key":"dejarSaldo","value":{"type":"STRING","expression":"$dejarSaldo$"}},{"key":"limRedondeo","value":{"type":"STRING","expression":"$limRedondeo$"}},{"key":"claseDocGenerar","value":{"type":"STRING","expression":"$claseDocGenerar$"}},{"key":"textoSaldo","value":{"type":"STRING","expression":"$textoSaldo$"}},{"key":"monedaRegla","value":{"type":"STRING","expression":"$moneda$"}},{"key":"refRegla","value":{"type":"STRING","expression":"$refRegla$"}},{"key":"textoCabecera","value":{"type":"STRING","expression":"$textoCabecera$"}},{"key":"tipoDocA","value":{"type":"STRING","expression":"$tipoDoc_A$"}},{"key":"tipoDocB","value":{"type":"STRING","expression":"$tipoDoc_B$"}}]},"taskbotFile":{"type":"FILE","string":"repository:///Automation%20Anywhere/Bots/My%20Tasks/Compensaciones%20Patrimoniales/Metabots/patriClientes"}}},{"name":"repeatOption","value":{"type":"STRING","string":"DO_NOT_REPEAT"}},{"name":"delayNextRepetition","value":{"type":"BOOLEAN","boolean":false}},{"name":"continueOnError","value":{"type":"BOOLEAN","boolean":false}}],"returnTo":{"type":"DICTIONARY","dictionary":[{"key":"detailString","value":{"type":"VARIABLE","variableName":"detailString"}}]}}],"branches":[],"attributes":[{"attributes":[{"name":"variable","value":{"type":"STRING","expression":"$flaglogic$"}},{"name":"operator","value":{"type":"STRING","string":"EQ"}},{"name":"value","value":{"type":"STRING","string":"CLIENTE"}},{"name":"matchCase","value":{"type":"BOOLEAN","boolean":false}},{"name":"isIgnoreCarriage","value":{"type":"BOOLEAN","boolean":false}}],"name":"condition","value":{"type":"CONDITIONAL","conditionalName":"stringVariable","packageName":"String"}}]},{"uid":"e21e1ecd-ec90-4be6-be1c-4d08ca56bd3b","commandName":"if","packageName":"If","disabled":false,"children":[{"uid":"38752c85-5521-4045-b5bf-e5a650ead975","commandName":"insertUpdateDelete","packageName":"Database","disabled":false,"attributes":[{"name":"query","value":{"type":"STRING","expression":"insert\n\tinto\n\tcompensadosPatrimoniales\nselect\n\tsaknr,\n\tkunnr,\n\tlifnr,\n\tblart,\n\tbldat,\n\tbudat,\n\tazbet,\n\tdmbtr,\n\tsgtxt,\n\tbelnr,\n\tazwae,\n\thwaer,\n\tbuzei,\n\tgjahr,\n\tshkzg,\n\trecord_id,\n\tsigno,\n\tcompensado\nfrom\n\t(\n\tselect\n\t\tsaknr,\n\t\tkunnr,\n\t\tlifnr,\n\t\tblart,\n\t\tbldat,\n\t\tbudat,\n\t\tazbet,\n\t\tdmbtr,\n\t\tsgtxt,\n\t\tbelnr,\n\t\tazwae,\n\t\thwaer,\n\t\tbuzei,\n\t\tgjahr,\n\t\tshkzg,\n\t\trecord_id,\n\t\tsigno,\n\t\tcompensado,\n\t\tSUM(case when blart = '$tipoDoc_A$' then dmbtr else 0 end) over (partition by bldat) as suma_ex,\n\t\tSUM(case when blart = '$tipoDoc_B$' then dmbtr else 0 end) over (partition by bldat) as suma_ab,\n\t\tSUM(dmbtr) over (partition by bldat) as suma_total\n\tfrom\n\t\tpa_patrimoniales\n\twhere\n\t\t(blart = '$tipoDoc_A$'\n\t\t\tand (sgtxt ilike '%$textoTipoDoc_A$%'\n\t\t\t\tor sgtxt ilike '%$textoTipoDoc_A$%'))\n\t\tor (blart = '$tipoDoc_B$'\n\t\t\tand (sgtxt ilike '%$textoTipoDoc_B$%'\n\t\t\t\tor sgtxt ilike '%$textoTipoDoc_B$%'))\n) as subquery\njoin (\n\tselect\n\t\tbldat as bldat_count,\n\t\tCOUNT(distinct blart) as num_tipos_documento\n\tfrom\n\t\tpa_patrimoniales\n\tgroup by\n\t\tbldat\n) as tipo_documento_counts\non\n\tsubquery.bldat = tipo_documento_counts.bldat_count\nwhere\n\t--ABS(suma_ex - suma_ab) <= $limRedondeo$\n\ttipo_documento_counts.num_tipos_documento = 2\norder by\n\tsubquery.bldat,\n\tsubquery.blart;\n\n\n"}},{"name":"timeOut","value":{"type":"NUMBER","number":"9999"}},{"name":"session","value":{"type":"SESSION","sessionName":{"type":"STRING","string":"CompensacionQuery"}}}]},{"uid":"e85ec7fc-7d6a-4cb8-be8e-70622161d64c","commandName":"messageBox","packageName":"MessageBox","disabled":true,"attributes":[{"name":"title","value":{"type":"STRING","string":"Automation Anywhere Enterprise Client"}},{"name":"content","value":{"type":"STRING","expression":"insert\n\tinto\n\tcompensadosPatrimoniales\nselect\n\tsaknr,\n\tkunnr,\n\tlifnr,\n\tblart,\n\tbldat,\n\tbudat,\n\tazbet,\n\tdmbtr,\n\tsgtxt,\n\tbelnr,\n\tazwae,\n\thwaer,\n\tbuzei,\n\tgjahr,\n\tshkzg,\n\trecord_id,\n\tsigno,\n\tcompensado\nfrom\n\t(\n\tselect\n\t\tsaknr,\n\t\tkunnr,\n\t\tlifnr,\n\t\tblart,\n\t\tbldat,\n\t\tbudat,\n\t\tazbet,\n\t\tdmbtr,\n\t\tsgtxt,\n\t\tbelnr,\n\t\tazwae,\n\t\thwaer,\n\t\tbuzei,\n\t\tgjahr,\n\t\tshkzg,\n\t\trecord_id,\n\t\tsigno,\n\t\tcompensado,\n\t\tSUM(case when blart = '$tipoDoc_A$' then dmbtr else 0 end) over (partition by bldat) as suma_ex,\n\t\tSUM(case when blart = '$tipoDoc_B$' then dmbtr else 0 end) over (partition by bldat) as suma_ab,\n\t\tSUM(dmbtr) over (partition by bldat) as suma_total\n\tfrom\n\t\tpa_patrimoniales\n\twhere\n\t\t(blart = '$tipoDoc_A$'\n\t\t\tand (sgtxt like '%$textoTipoDoc_A$%'\n\t\t\t\tor sgtxt like '%$textoTipoDoc_A$%'))\n\t\tor (blart = '$tipoDoc_B$'\n\t\t\tand (sgtxt like '%$textoTipoDoc_B$%'\n\t\t\t\tor sgtxt like '%$textoTipoDoc_B$%'))\n) as subquery\njoin (\n\tselect\n\t\tbldat as bldat_count,\n\t\tCOUNT(distinct blart) as num_tipos_documento\n\tfrom\n\t\tpa_patrimoniales\n\tgroup by\n\t\tbldat\n) as tipo_documento_counts\non\n\tsubquery.bldat = tipo_documento_counts.bldat_count\nwhere\n\t--ABS(suma_ex - suma_ab) <= $limRedondeo$\n\ttipo_documento_counts.num_tipos_documento = 2\norder by\n\tsubquery.bldat,\n\tsubquery.blart;"}},{"name":"scrollLines","value":{"type":"NUMBER","number":"30"}},{"name":"closeMsgBox","value":{"type":"BOOLEAN","boolean":false}}]},{"uid":"1dc24f97-4b2d-40fa-afd5-8f987b7d607a","commandName":"runTask","packageName":"TaskBot","disabled":false,"attributes":[{"name":"taskbot","value":{"type":"TASKBOT","taskbotInput":{"type":"DICTIONARY","dictionary":[{"key":"dejarSaldo","value":{"type":"STRING","expression":"$dejarSaldo$"}},{"key":"limRedondeo","value":{"type":"STRING","expression":"$limRedondeo$"}},{"key":"claseDocGenerar","value":{"type":"STRING","expression":"$claseDocGenerar$"}},{"key":"trasladarCompensar","value":{"type":"STRING","string":"FALSE"}},{"key":"textoSaldo","value":{"type":"STRING","expression":"$textoSaldo$"}},{"key":"monedaRegla","value":{"type":"STRING","expression":"$moneda$"}},{"key":"refRegla","value":{"type":"STRING","expression":"$refRegla$"}},{"key":"textoCabecera","value":{"type":"STRING","expression":"$textoCabecera$"}},{"key":"limiteDifCamb","value":{"type":"STRING","expression":"$limiteDifCamb$"}},{"key":"flagLogic","value":{"type":"STRING","expression":"$flaglogic$"}}]},"taskbotFile":{"type":"FILE","string":"repository:///Automation%20Anywhere/Bots/My%20Tasks/Compensaciones%20Patrimoniales/Metabots/Patri_FECHA%2BTEXTO_D02N"}}},{"name":"repeatOption","value":{"type":"STRING","string":"DO_NOT_REPEAT"}},{"name":"delayNextRepetition","value":{"type":"BOOLEAN","boolean":false}},{"name":"continueOnError","value":{"type":"BOOLEAN","boolean":false}}],"returnTo":{"type":"DICTIONARY","dictionary":[{"key":"detailString","value":{"type":"VARIABLE","variableName":"detailString"}}]}}],"branches":[],"attributes":[{"attributes":[{"name":"variable","value":{"type":"STRING","expression":"$flaglogic$"}},{"name":"operator","value":{"type":"STRING","string":"INCLUDE"}},{"name":"value","value":{"type":"STRING","string":"FECHA+TEXTO"}},{"name":"matchCase","value":{"type":"BOOLEAN","boolean":false}},{"name":"isIgnoreCarriage","value":{"type":"BOOLEAN","boolean":false}}],"name":"condition","value":{"type":"CONDITIONAL","conditionalName":"stringVariable","packageName":"String"}}]},{"uid":"f988d0c3-738b-4b0f-b9e1-c6b61ca62414","commandName":"if","packageName":"If","disabled":true,"children":[{"uid":"e6193b7e-e4fa-4c66-8f63-042bc3e79f7b","commandName":"insertUpdateDelete","packageName":"Database","disabled":true,"attributes":[{"name":"query","value":{"type":"STRING","expression":"INSERT INTO compensadosPatrimoniales\nselect\n\tA.*\nfrom\n\tpa_patrimoniales A\njoin pa_patrimoniales B \non\n\t(A.sgtxt LIKE '%$textoTipoDoc_A$%' OR A.sgtxt LIKE '%$textoTipoDoc_A$%')\n\tand (B.sgtxt LIKE '%$textoTipoDoc_B$%' OR B.sgtxt LIKE '%$textoTipoDoc_B$%')\n\tand ((A.blart = '$tipoDoc_A$' and B.blart = '$tipoDoc_B$') or (A.blart = '$tipoDoc_B$' and B.blart = '$tipoDoc_A$'))\nwhere\n\tA.record_id <> B.record_id\n\tAND A.signo <> B.signo\n\tAND ABS(A.azbet - B.azbet) <= $limRedondeo$ \n\tand A.compensado = false \n\tand B.compensado = false\nUNION\nselect\n\tB.*\nfrom\n\tpa_patrimoniales B\njoin pa_patrimoniales A \non\n\t(A.sgtxt LIKE '%$textoTipoDoc_A$%' OR A.sgtxt LIKE '%$textoTipoDoc_A$%')\n\tand (B.sgtxt LIKE '%$textoTipoDoc_B$%' OR B.sgtxt LIKE '%$textoTipoDoc_B$%')\n\tand ((A.blart = '$tipoDoc_B$' and B.blart = '$tipoDoc_A$') or (A.blart = '$tipoDoc_A$' and B.blart = '$tipoDoc_B$'))\nwhere\n\tA.record_id <> B.record_id\n\tAND A.signo <> B.signo\n\tAND ABS(A.azbet - B.azbet) <= $limRedondeo$ \n\tand A.compensado = false \n\tand B.compensado = false\norder by azbet,blart"}},{"name":"timeOut","value":{"type":"NUMBER","number":"9999"}},{"name":"session","value":{"type":"SESSION","sessionName":{"type":"STRING","string":"CompensacionQuery"}}}]},{"uid":"c1bf3032-e8bd-4b8a-b600-de413e23ba32","commandName":"runTask","packageName":"TaskBot","disabled":true,"attributes":[{"name":"taskbot","value":{"type":"TASKBOT","taskbotInput":{"type":"DICTIONARY","dictionary":[{"key":"dejarSaldo","value":{"type":"STRING","expression":"$dejarSaldo$"}},{"key":"limRedondeo","value":{"type":"STRING","expression":"$limRedondeo$"}},{"key":"claseDocGenerar","value":{"type":"STRING","expression":"$claseDocGenerar$"}},{"key":"textoSaldo","value":{"type":"STRING","expression":"$textoSaldo$"}},{"key":"monedaRegla","value":{"type":"STRING","expression":"$moneda$"}},{"key":"refRegla","value":{"type":"STRING","expression":"$refRegla$"}},{"key":"textoCabecera","value":{"type":"STRING","expression":"$textoCabecera$"}}]},"taskbotFile":{"type":"FILE","string":"repository:///Automation%20Anywhere/Bots/My%20Tasks/Compensaciones%20Patrimoniales/Metabots/patriFECHA%2BTEXTO_D02U"}}},{"name":"repeatOption","value":{"type":"STRING","string":"DO_NOT_REPEAT"}},{"name":"delayNextRepetition","value":{"type":"BOOLEAN","boolean":false}},{"name":"continueOnError","value":{"type":"BOOLEAN","boolean":false}}],"returnTo":{"type":"DICTIONARY","dictionary":[{"key":"detailString","value":{"type":"VARIABLE","variableName":"detailString"}}]}}],"branches":[],"attributes":[{"attributes":[{"name":"variable","value":{"type":"STRING","expression":"$flaglogic$"}},{"name":"operator","value":{"type":"STRING","string":"EQ"}},{"name":"value","value":{"type":"STRING","string":"sumacero"}},{"name":"matchCase","value":{"type":"BOOLEAN","boolean":false}},{"name":"isIgnoreCarriage","value":{"type":"BOOLEAN","boolean":false}}],"name":"condition","value":{"type":"CONDITIONAL","conditionalName":"stringVariable","packageName":"String"}}]},{"uid":"db35287e-8b9c-4551-84e8-255fad70ccfe","commandName":"if","packageName":"If","disabled":true,"children":[{"uid":"8c35cf6a-62b0-40fa-bd74-0e673e3650cc","commandName":"insertUpdateDelete","packageName":"Database","disabled":true,"attributes":[{"name":"query","value":{"type":"STRING","expression":"INSERT INTO compensadosPatrimoniales\nselect\n\tA.*\nfrom\n\tpa_patrimoniales A\njoin pa_patrimoniales B \non\n\t(A.sgtxt LIKE '%$textoTipoDoc_A$%' OR A.sgtxt LIKE '%$textoTipoDoc_A$%')\n\tand (B.sgtxt LIKE '%$textoTipoDoc_B$%' OR B.sgtxt LIKE '%$textoTipoDoc_B$%')\n\tand ((A.blart = '$tipoDoc_A$' and B.blart = '$tipoDoc_B$') or (A.blart = '$tipoDoc_B$' and B.blart = '$tipoDoc_A$'))\nwhere\n\tA.record_id <> B.record_id\n\tAND A.signo <> B.signo\n\t--AND ABS(A.azbet - B.azbet) <= $limRedondeo$ \n\tand A.compensado = false \n\tand B.compensado = false\nUNION\nselect\n\tB.*\nfrom\n\tpa_patrimoniales B\njoin pa_patrimoniales A \non\n\t(A.sgtxt LIKE '%$textoTipoDoc_A$%' OR A.sgtxt LIKE '%$textoTipoDoc_A$%')\n\tand (B.sgtxt LIKE '%$textoTipoDoc_B$%' OR B.sgtxt LIKE '%$textoTipoDoc_B$%')\n\tand ((A.blart = '$tipoDoc_B$' and B.blart = '$tipoDoc_A$') or (A.blart = '$tipoDoc_A$' and B.blart = '$tipoDoc_B$'))\nwhere\n\tA.record_id <> B.record_id\n\tAND A.signo <> B.signo\n\t--AND ABS(A.azbet - B.azbet) <= $limRedondeo$ \n\tand A.compensado = false \n\tand B.compensado = false\norder by azbet,blart"}},{"name":"timeOut","value":{"type":"NUMBER","number":"9999"}},{"name":"session","value":{"type":"SESSION","sessionName":{"type":"STRING","string":"CompensacionQuery"}}}]},{"uid":"a40b0b03-2b69-424b-a101-6f2606512393","commandName":"runTask","packageName":"TaskBot","disabled":true,"attributes":[{"name":"taskbot","value":{"type":"TASKBOT","taskbotInput":{"type":"DICTIONARY","dictionary":[{"key":"dejarSaldo","value":{"type":"STRING","expression":"$dejarSaldo$"}},{"key":"limRedondeo","value":{"type":"STRING","expression":"$limRedondeo$"}},{"key":"claseDocGenerar","value":{"type":"STRING","expression":"$claseDocGenerar$"}},{"key":"textoSaldo","value":{"type":"STRING","expression":"$textoSaldo$"}},{"key":"monedaRegla","value":{"type":"STRING","expression":"$moneda$"}},{"key":"refRegla","value":{"type":"STRING","expression":"$refRegla$"}},{"key":"textoCabecera","value":{"type":"STRING","expression":"$textoCabecera$"}}]},"taskbotFile":{"type":"FILE","string":"repository:///Automation%20Anywhere/Bots/My%20Tasks/Compensaciones%20Patrimoniales/Metabots/patriFECHA%2BTEXTO_D02U"}}},{"name":"repeatOption","value":{"type":"STRING","string":"DO_NOT_REPEAT"}},{"name":"delayNextRepetition","value":{"type":"BOOLEAN","boolean":false}},{"name":"continueOnError","value":{"type":"BOOLEAN","boolean":false}}],"returnTo":{"type":"DICTIONARY","dictionary":[{"key":"detailString","value":{"type":"VARIABLE","variableName":"detailString"}}]}}],"branches":[],"attributes":[{"attributes":[{"name":"variable","value":{"type":"STRING","expression":"$flaglogic$"}},{"name":"operator","value":{"type":"STRING","string":"EQ"}},{"name":"value","value":{"type":"STRING","string":"mismotexto"}},{"name":"matchCase","value":{"type":"BOOLEAN","boolean":false}},{"name":"isIgnoreCarriage","value":{"type":"BOOLEAN","boolean":false}}],"name":"condition","value":{"type":"CONDITIONAL","conditionalName":"stringVariable","packageName":"String"}}]}],"attributes":[{"name":"title","value":{"type":"STRING","string":"Compensar partidas según regla"}}]},{"uid":"b18db9d3-2307-46a5-8925-faf548d034e2","commandName":"step","packageName":"Step","disabled":false,"children":[{"uid":"b29b5d4f-d492-48f8-a4ab-3b5c103b6fc8","commandName":"if","packageName":"If","disabled":false,"children":[{"uid":"2b72ca5b-c889-4287-b08c-932d73a56bb2","commandName":"Comment","packageName":"Comment","disabled":false,"attributes":[{"name":"comment","value":{"type":"STRING","string":"Partidas abiertas"}}]},{"uid":"1e85b82c-7878-47f1-b187-2ba1e6dfd48d","commandName":"runTask","packageName":"TaskBot","disabled":false,"attributes":[{"name":"taskbot","value":{"type":"TASKBOT","taskbotInput":{"type":"DICTIONARY","dictionary":[{"key":"cantDiasRetardo","value":{"type":"STRING","expression":"$retardoTipoDoc_A$"}},{"key":"retardoHabil","value":{"type":"STRING","expression":"$retardoHabil$"}},{"key":"tipoDoc","value":{"type":"STRING","expression":"$tipoDoc_A$"}},{"key":"claseDoc","value":{"type":"STRING","string":"\"_Clase_i_\""}},{"key":"tablaQuery","value":{"type":"STRING","string":"pa_patrimoniales"}}]},"taskbotFile":{"type":"FILE","string":"repository:///Automation%20Anywhere/Bots/My%20Tasks/Compensaciones%20Patrimoniales/Metabots/Retardo%20inverso"}}},{"name":"repeatOption","value":{"type":"STRING","string":"DO_NOT_REPEAT"}},{"name":"delayNextRepetition","value":{"type":"BOOLEAN","boolean":false}},{"name":"continueOnError","value":{"type":"BOOLEAN","boolean":false}}]}],"branches":[],"attributes":[{"attributes":[{"name":"variable","value":{"type":"STRING","expression":"$retardoTipoDoc_A$"}},{"name":"operator","value":{"type":"STRING","string":"GreaterThan"}},{"name":"value","value":{"type":"STRING","string":"0"}}],"name":"condition","value":{"type":"CONDITIONAL","conditionalName":"legacyConditionVariable","packageName":"LegacyAutomation"}}]},{"uid":"4ec004da-77fc-44c5-b19c-5ba1e290f421","commandName":"if","packageName":"If","disabled":false,"children":[{"uid":"6151f54c-db26-4997-9cf5-0d6bea5e0478","commandName":"Comment","packageName":"Comment","disabled":false,"attributes":[{"name":"comment","value":{"type":"STRING","string":"Partidas abiertas"}}]},{"uid":"ff079120-bae9-46f5-ad11-9b19f7919216","commandName":"runTask","packageName":"TaskBot","disabled":false,"attributes":[{"name":"taskbot","value":{"type":"TASKBOT","taskbotInput":{"type":"DICTIONARY","dictionary":[{"key":"cantDiasRetardo","value":{"type":"STRING","expression":"$retardoTipoDoc_B$"}},{"key":"retardoHabil","value":{"type":"STRING","expression":"$retardoHabil$"}},{"key":"tipoDoc","value":{"type":"STRING","expression":"$tipoDoc_B$"}},{"key":"claseDoc","value":{"type":"STRING","string":"\"_Clase_j_\""}},{"key":"tablaQuery","value":{"type":"STRING","string":"pa_patrimoniales"}}]},"taskbotFile":{"type":"FILE","string":"repository:///Automation%20Anywhere/Bots/My%20Tasks/Compensaciones%20Patrimoniales/Metabots/Retardo%20inverso"}}},{"name":"repeatOption","value":{"type":"STRING","string":"DO_NOT_REPEAT"}},{"name":"delayNextRepetition","value":{"type":"BOOLEAN","boolean":false}},{"name":"continueOnError","value":{"type":"BOOLEAN","boolean":false}}]}],"branches":[],"attributes":[{"attributes":[{"name":"variable","value":{"type":"STRING","expression":"$retardoTipoDoc_B$"}},{"name":"operator","value":{"type":"STRING","string":"GreaterThan"}},{"name":"value","value":{"type":"STRING","string":"0"}}],"name":"condition","value":{"type":"CONDITIONAL","conditionalName":"legacyConditionVariable","packageName":"LegacyAutomation"}}]},{"uid":"37db3b1f-3920-4160-ab7f-3fd78403aeda","commandName":"if","packageName":"If","disabled":false,"children":[{"uid":"1e38cf8c-f725-407a-a5aa-ebbb8a7a5f6b","commandName":"Comment","packageName":"Comment","disabled":false,"attributes":[{"name":"comment","value":{"type":"STRING","string":"Partidas abiertas"}}]},{"uid":"67a1ffec-6152-4d12-b444-fcb5b194e46b","commandName":"runTask","packageName":"TaskBot","disabled":false,"attributes":[{"name":"taskbot","value":{"type":"TASKBOT","taskbotInput":{"type":"DICTIONARY","dictionary":[{"key":"cantDiasRetardo","value":{"type":"STRING","expression":"$retardoTipoDoc_C$"}},{"key":"retardoHabil","value":{"type":"STRING","expression":"$retardoHabil$"}},{"key":"tipoDoc","value":{"type":"STRING","expression":"$tipoDoc_C$"}},{"key":"claseDoc","value":{"type":"STRING","string":"\"_Clase_k_\""}},{"key":"tablaQuery","value":{"type":"STRING","string":"pa_patrimoniales"}}]},"taskbotFile":{"type":"FILE","string":"repository:///Automation%20Anywhere/Bots/My%20Tasks/Compensaciones%20Patrimoniales/Metabots/Retardo%20inverso"}}},{"name":"repeatOption","value":{"type":"STRING","string":"DO_NOT_REPEAT"}},{"name":"delayNextRepetition","value":{"type":"BOOLEAN","boolean":false}},{"name":"continueOnError","value":{"type":"BOOLEAN","boolean":false}}]}],"branches":[],"attributes":[{"attributes":[{"name":"variable","value":{"type":"STRING","expression":"$retardoTipoDoc_C$"}},{"name":"operator","value":{"type":"STRING","string":"GreaterThan"}},{"name":"value","value":{"type":"STRING","string":"0"}}],"name":"condition","value":{"type":"CONDITIONAL","conditionalName":"legacyConditionVariable","packageName":"LegacyAutomation"}}]},{"uid":"c947c9ba-72d8-4328-a240-e46c1a0ca1bc","commandName":"Comment","packageName":"Comment","disabled":false,"attributes":[{"name":"comment","value":{"type":"STRING","string":"Compensados"}}]},{"uid":"9ede58ff-92f6-4ce1-8744-2497f7d99d8c","commandName":"if","packageName":"If","disabled":false,"children":[{"uid":"169e2723-e7b7-47dc-a750-23721c2bf39c","commandName":"Comment","packageName":"Comment","disabled":false,"attributes":[{"name":"comment","value":{"type":"STRING","string":"Partidas abiertas"}}]},{"uid":"dfabe3fc-3c2d-44fc-916d-743cec39aeb9","commandName":"runTask","packageName":"TaskBot","disabled":false,"attributes":[{"name":"taskbot","value":{"type":"TASKBOT","taskbotInput":{"type":"DICTIONARY","dictionary":[{"key":"cantDiasRetardo","value":{"type":"STRING","expression":"$retardoTipoDoc_D$"}},{"key":"retardoHabil","value":{"type":"STRING","expression":"$retardoHabil$"}},{"key":"tipoDoc","value":{"type":"STRING","expression":"$tipoDoc_D$"}},{"key":"claseDoc","value":{"type":"STRING","string":"\"_Clase_l_\""}},{"key":"tablaQuery","value":{"type":"STRING","string":"pa_patrimoniales"}}]},"taskbotFile":{"type":"FILE","string":"repository:///Automation%20Anywhere/Bots/My%20Tasks/Compensaciones%20Patrimoniales/Metabots/Retardo%20inverso"}}},{"name":"repeatOption","value":{"type":"STRING","string":"DO_NOT_REPEAT"}},{"name":"delayNextRepetition","value":{"type":"BOOLEAN","boolean":false}},{"name":"continueOnError","value":{"type":"BOOLEAN","boolean":false}}]}],"branches":[],"attributes":[{"attributes":[{"name":"variable","value":{"type":"STRING","expression":"$retardoTipoDoc_D$"}},{"name":"operator","value":{"type":"STRING","string":"GreaterThan"}},{"name":"value","value":{"type":"STRING","string":"0"}}],"name":"condition","value":{"type":"CONDITIONAL","conditionalName":"legacyConditionVariable","packageName":"LegacyAutomation"}}]}],"attributes":[{"name":"title","value":{"type":"STRING","string":"Corrige fechas de Partidas Abiertas y Compensados"}}]},{"uid":"6897986a-ab73-4d99-913f-a3b53c0076ae","commandName":"step","packageName":"Step","disabled":false,"children":[{"uid":"64d2fb8b-4f19-440f-bb37-c01dbf38892c","commandName":"if","packageName":"If","disabled":false,"children":[{"uid":"fd92409b-d9a4-49ee-a140-be4f2c5e868a","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"{\"bukrs\":\"$fbl3nSociedad$\",\"mandt\":\"$mandante$\"}"}}],"returnTo":{"type":"VARIABLE","variableName":"headerString"}},{"uid":"f6b5eb90-9e77-4217-bde3-f0554456c77c","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"[$detailString$]"}}],"returnTo":{"type":"VARIABLE","variableName":"detailString"}},{"uid":"03485a7c-54cd-4efe-b56e-e7b500ff594b","commandName":"replace","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$detailString$"}},{"name":"find","value":{"type":"STRING","string":",]"}},{"name":"isCaseSensitive","value":{"type":"STRING","string":"false"}},{"name":"isRegularExpression","value":{"type":"STRING","string":"false"}},{"name":"startIndex","value":{"type":"NUMBER","number":"1"}},{"name":"count","value":{"type":"NUMBER","number":"-1"}},{"name":"replaceWith","value":{"type":"STRING","string":"]"}}],"returnTo":{"type":"VARIABLE","variableName":"detailString"}},{"uid":"9d62387d-b1b5-4c46-adc6-43c9527af63e","commandName":"runTask","packageName":"TaskBot","disabled":false,"attributes":[{"name":"taskbot","value":{"type":"TASKBOT","taskbotInput":{"type":"DICTIONARY","dictionary":[{"key":"vDetailString","value":{"type":"STRING","expression":"$detailString$"}},{"key":"sociedad","value":{"type":"STRING","expression":"$fbl3nSociedad$"}}]},"taskbotFile":{"type":"FILE","string":"repository:///Automation%20Anywhere/Bots/My%20Metabots/DateTime/CorregirFechasCompensacion_v2"}}},{"name":"repeatOption","value":{"type":"STRING","string":"DO_NOT_REPEAT"}},{"name":"delayNextRepetition","value":{"type":"BOOLEAN","boolean":false}},{"name":"continueOnError","value":{"type":"BOOLEAN","boolean":false}}],"returnTo":{"type":"VARIABLE","variableName":"respuestaCorregirFechaCompensacion"}},{"uid":"3c95a90a-c57a-494f-a603-8af14cc51a81","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$respuestaCorregirFechaCompensacion{\"vDetailString\"}$"}}],"returnTo":{"type":"VARIABLE","variableName":"detailString"}},{"uid":"2acf8e8c-bb0c-4a6b-90f4-378feb798c74","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"{\"gEsCabecera\":$headerString$,\"gTiDetalle\":$detailString$}"}}],"returnTo":{"type":"VARIABLE","variableName":"outputString"}},{"uid":"18ba06af-557d-4b02-953d-2ea171b04681","commandName":"if","packageName":"If","disabled":false,"children":[{"uid":"e602cd7e-1288-476b-b966-8af7a8a4b87e","commandName":"replace","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$nombreRegla$"}},{"name":"find","value":{"type":"STRING","string":"/"}},{"name":"isCaseSensitive","value":{"type":"STRING","string":"false"}},{"name":"isRegularExpression","value":{"type":"STRING","string":"false"}},{"name":"startIndex","value":{"type":"NUMBER","number":"1"}},{"name":"count","value":{"type":"NUMBER","number":"-1"}},{"name":"replaceWith","value":{"type":"STRING","string":""}}],"returnTo":{"type":"VARIABLE","variableName":"nombreRegla"}},{"uid":"d6ec5d75-e188-4707-9240-86beea0b8e1a","commandName":"replace","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$nombreRegla$"}},{"name":"find","value":{"type":"STRING","string":"\\"}},{"name":"isCaseSensitive","value":{"type":"STRING","string":"false"}},{"name":"isRegularExpression","value":{"type":"STRING","string":"false"}},{"name":"startIndex","value":{"type":"NUMBER","number":"1"}},{"name":"count","value":{"type":"NUMBER","number":"-1"}},{"name":"replaceWith","value":{"type":"STRING","string":""}}],"returnTo":{"type":"VARIABLE","variableName":"nombreRegla"}},{"uid":"03138e2a-ba86-4017-91e8-2e7d87fd4dc7","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"\\\\nas\\Tecnologia\\RPA_prd\\SAP\\patrimoniales\\pedidocompensacionsap_$cuentaPatrimonial$_$fbl3nSociedad$_$entidad$_$System:Day.Number:toString$$System:Month.Number:toString$$System:Year.Number:toString$_PatriD02_N_$nombreRegla$.txt"}}],"returnTo":{"type":"VARIABLE","variableName":"archivoSAP"}}],"branches":[],"attributes":[{"attributes":[{"name":"variable","value":{"type":"STRING","expression":"$entorno$"}},{"name":"operator","value":{"type":"STRING","string":"EQ"}},{"name":"value","value":{"type":"STRING","string":"PRD"}},{"name":"matchCase","value":{"type":"BOOLEAN","boolean":false}},{"name":"isIgnoreCarriage","value":{"type":"BOOLEAN","boolean":false}}],"name":"condition","value":{"type":"CONDITIONAL","conditionalName":"stringVariable","packageName":"String"}}]},{"uid":"2560d353-faa8-4bf5-a35f-fb1757ac45d4","commandName":"if","packageName":"If","disabled":false,"children":[{"uid":"8ec4bcf6-31ee-46cf-ac17-5c153b064437","commandName":"createFile","packageName":"File","disabled":false,"attributes":[{"name":"filePath","value":{"type":"FILE","expression":"file://$archivoSAP$"}},{"name":"isOverwrite","value":{"type":"BOOLEAN","boolean":false}}]}],"branches":[],"attributes":[{"attributes":[{"name":"sourceFilePath","value":{"type":"FILE","expression":"file://$archivoSAP$"}},{"name":"waitTimeout","value":{"type":"NUMBER","number":"0"}}],"name":"condition","value":{"type":"CONDITIONAL","conditionalName":"fileNotExists","packageName":"File"}}]},{"uid":"8f5e871b-a2a7-4230-b0f5-22265c18347d","commandName":"copyFiles","packageName":"File","disabled":false,"attributes":[{"name":"sourceFilePath","value":{"type":"FILE","expression":"file://$emptyFile$"}},{"name":"destinationPath","value":{"type":"STRING","expression":"$archivoSAP$"}},{"name":"isOverwrite","value":{"type":"BOOLEAN","boolean":true}},{"name":"isParallel","value":{"type":"BOOLEAN","boolean":false}},{"name":"isSize","value":{"type":"BOOLEAN","boolean":false}},{"name":"isDate","value":{"type":"BOOLEAN","boolean":false}}]},{"uid":"76222c13-6d86-4d69-83aa-321a49eafe31","commandName":"logToFile","packageName":"LogToFile","disabled":false,"attributes":[{"name":"filePath","value":{"type":"FILE","expression":"file://$archivoSAP$"}},{"name":"logContent","value":{"type":"STRING","expression":"$outputString$"}},{"name":"appendTimestamp","value":{"type":"BOOLEAN","boolean":false}},{"name":"logOption","value":{"type":"STRING","string":"OVERWRITE_FILE"}},{"name":"encodingValue","value":{"type":"STRING","string":"ANSI"}}]},{"uid":"283e5fa8-0211-433f-bb95-d01816b9a53e","commandName":"if","packageName":"If","disabled":false,"children":[{"uid":"fa3fca4f-bd61-4d33-ae46-ade93b4a8090","commandName":"if","packageName":"If","disabled":false,"children":[{"uid":"4fae2e8c-489a-41bc-af92-1f4a4adf28ff","commandName":"restGet","packageName":"Rest","disabled":false,"attributes":[{"name":"uriOption","value":{"type":"STRING","string":"text"}},{"name":"uri","value":{"type":"STRING","expression":"https://sap-erp-prd-1.bancardnet.dom:44300/sap/bc/zbankclearing?sap-client=400&entrada=$archivoSAP$"}},{"name":"proxyType","value":{"type":"STRING","string":"SYSTEM"}},{"name":"authenticationMode","value":{"type":"STRING","string":"Basic"}},{"name":"basicUserName","value":{"type":"CREDENTIAL","credential":{"name":"RPA 1","lockerName":"SAP PASS","attributeName":"RPA 1 ID"}}},{"name":"basicPassword","value":{"type":"CREDENTIAL","credential":{"name":"RPA 1","lockerName":"SAP PASS","attributeName":"RPA 1 PASS"}}},{"name":"captureFailureResponse","value":{"type":"BOOLEAN","boolean":true}},{"name":"allowInsecureConnection","value":{"type":"BOOLEAN","boolean":false}},{"name":"timeOut","value":{"type":"NUMBER","expression":"$@AARestTimeOut$"}}],"returnTo":{"type":"VARIABLE","variableName":"respuestaServicio"}}],"branches":[{"uid":"94c25960-681b-4b02-8f65-d5ce0d274901","commandName":"elseIf","packageName":"If","disabled":false,"children":[{"uid":"96bba4d8-2bd9-48d0-a534-2598d893093e","commandName":"restGet","packageName":"Rest","disabled":false,"attributes":[{"name":"uriOption","value":{"type":"STRING","string":"text"}},{"name":"uri","value":{"type":"STRING","expression":"https://sap-erp-prd-1.bancardnet.dom:44300/sap/bc/zglclearing?sap-client=400&entrada=$archivoSAP$"}},{"name":"proxyType","value":{"type":"STRING","string":"SYSTEM"}},{"name":"authenticationMode","value":{"type":"STRING","string":"Basic"}},{"name":"basicUserName","value":{"type":"CREDENTIAL","credential":{"name":"RPA 1","lockerName":"SAP PASS","attributeName":"RPA 1 ID"}}},{"name":"basicPassword","value":{"type":"CREDENTIAL","credential":{"name":"RPA 1","lockerName":"SAP PASS","attributeName":"RPA 1 PASS"}}},{"name":"captureFailureResponse","value":{"type":"BOOLEAN","boolean":true}},{"name":"allowInsecureConnection","value":{"type":"BOOLEAN","boolean":false}},{"name":"timeOut","value":{"type":"NUMBER","expression":"$@AARestTimeOut$"}}],"returnTo":{"type":"VARIABLE","variableName":"respuestaServicio"}}],"attributes":[{"attributes":[{"name":"variable","value":{"type":"STRING","expression":"$flaglogic$"}},{"name":"operator","value":{"type":"STRING","string":"EQ"}},{"name":"value","value":{"type":"STRING","string":"FECHA+TEXTO_patri"}},{"name":"matchCase","value":{"type":"BOOLEAN","boolean":false}},{"name":"isIgnoreCarriage","value":{"type":"BOOLEAN","boolean":false}}],"name":"condition","value":{"type":"CONDITIONAL","conditionalName":"stringVariable","packageName":"String"}}]}],"attributes":[{"attributes":[{"name":"variable","value":{"type":"STRING","expression":"$flaglogic$"}},{"name":"operator","value":{"type":"STRING","string":"EQ"}},{"name":"value","value":{"type":"STRING","string":"FECHA+TEXTO_bancaria"}},{"name":"matchCase","value":{"type":"BOOLEAN","boolean":false}},{"name":"isIgnoreCarriage","value":{"type":"BOOLEAN","boolean":false}}],"name":"condition","value":{"type":"CONDITIONAL","conditionalName":"stringVariable","packageName":"String"}}]}],"branches":[],"attributes":[{"attributes":[{"name":"variable","value":{"type":"STRING","expression":"$entorno$"}},{"name":"operator","value":{"type":"STRING","string":"EQ"}},{"name":"value","value":{"type":"STRING","string":"PRD"}},{"name":"matchCase","value":{"type":"BOOLEAN","boolean":true}},{"name":"isIgnoreCarriage","value":{"type":"BOOLEAN","boolean":false}}],"name":"condition","value":{"type":"CONDITIONAL","conditionalName":"stringVariable","packageName":"String"}}]},{"uid":"7d625739-2222-4237-b2a7-18917a125359","commandName":"if","packageName":"If","disabled":false,"children":[{"uid":"0537cbbc-7068-4c5c-a055-b66a412ad441","commandName":"logToFile","packageName":"LogToFile","disabled":false,"attributes":[{"name":"filePath","value":{"type":"FILE","expression":"file://$logFile$"}},{"name":"logContent","value":{"type":"STRING","string":"Envio exitoso a SAP."}},{"name":"appendTimestamp","value":{"type":"BOOLEAN","boolean":true}},{"name":"logOption","value":{"type":"STRING","string":"APPEND_FILE"}},{"name":"encodingValue","value":{"type":"STRING","string":"ANSI"}}]},{"uid":"6ad38e88-b893-4f26-8f65-d99eac292786","commandName":"logToFile","packageName":"LogToFile","disabled":false,"attributes":[{"name":"filePath","value":{"type":"FILE","expression":"file://$logFile$"}},{"name":"logContent","value":{"type":"STRING","string":"Agrega al historico de compensados"}},{"name":"appendTimestamp","value":{"type":"BOOLEAN","boolean":true}},{"name":"logOption","value":{"type":"STRING","string":"APPEND_FILE"}},{"name":"encodingValue","value":{"type":"STRING","string":"ANSI"}}]}],"branches":[{"uid":"2e09c59b-ac72-465d-bbc7-cade0dd7d424","commandName":"else","packageName":"If","disabled":false,"children":[{"uid":"3ecb4a34-9acb-4b24-9c20-7cb608687e50","commandName":"logToFile","packageName":"LogToFile","disabled":false,"attributes":[{"name":"filePath","value":{"type":"FILE","expression":"file://$logFile$"}},{"name":"logContent","value":{"type":"STRING","string":"No se pudo enviar a SAP."}},{"name":"appendTimestamp","value":{"type":"BOOLEAN","boolean":true}},{"name":"logOption","value":{"type":"STRING","string":"APPEND_FILE"}},{"name":"encodingValue","value":{"type":"STRING","string":"ANSI"}}]},{"uid":"af073d7f-a52c-4b53-b094-12f4dcd41938","commandName":"logToFile","packageName":"LogToFile","disabled":false,"attributes":[{"name":"filePath","value":{"type":"FILE","expression":"file://$logFile$"}},{"name":"logContent","value":{"type":"STRING","string":"Compenso pero no llego a SAP. No se agrega al historico."}},{"name":"appendTimestamp","value":{"type":"BOOLEAN","boolean":true}},{"name":"logOption","value":{"type":"STRING","string":"APPEND_FILE"}},{"name":"encodingValue","value":{"type":"STRING","string":"ANSI"}}]}]}],"attributes":[{"attributes":[{"name":"variable","value":{"type":"STRING","expression":"$respuestaServicio{Body}$"}},{"name":"operator","value":{"type":"STRING","string":"INCLUDE"}},{"name":"value","value":{"type":"STRING","string":"EXITOSO"}},{"name":"matchCase","value":{"type":"BOOLEAN","boolean":false}},{"name":"isIgnoreCarriage","value":{"type":"BOOLEAN","boolean":false}}],"name":"condition","value":{"type":"CONDITIONAL","conditionalName":"stringVariable","packageName":"String"}}]}],"branches":[],"attributes":[{"attributes":[{"name":"variable","value":{"type":"STRING","expression":"$detailString$"}},{"name":"operator","value":{"type":"STRING","string":"NEQ"}},{"name":"value","value":{"type":"STRING","string":""}},{"name":"matchCase","value":{"type":"BOOLEAN","boolean":false}},{"name":"isIgnoreCarriage","value":{"type":"BOOLEAN","boolean":false}}],"name":"condition","value":{"type":"CONDITIONAL","conditionalName":"stringVariable","packageName":"String"}}]}],"attributes":[{"name":"title","value":{"type":"STRING","string":"Envío a SAP"}}]},{"uid":"e96afb91-0c8d-4f2a-9cf3-8ab1a5d379b1","commandName":"step","packageName":"Step","disabled":false,"children":[{"uid":"321b4a21-1608-4550-8ae2-679e26efe042","commandName":"sqlQuery","packageName":"Database","disabled":false,"attributes":[{"name":"query","value":{"type":"STRING","string":"select belnr from compensadosPatrimoniales c"}},{"name":"doExport","value":{"type":"BOOLEAN","boolean":false}},{"name":"session","value":{"type":"SESSION","sessionName":{"type":"STRING","string":"CompensacionQuery"}}}]},{"uid":"ab2c13e9-a13d-4e49-8b7d-c5898309500b","commandName":"loop.commands.start","packageName":"Loop","disabled":false,"children":[{"uid":"d5ac35bc-6e8a-4950-aae4-2b730646b502","commandName":"insertUpdateDelete","packageName":"Database","disabled":false,"attributes":[{"name":"query","value":{"type":"STRING","expression":"UPDATE pa_patrimoniales\nSET compensado = true \nWHERE belnr='$filaCompensaciones[0]$'; "}},{"name":"timeOut","value":{"type":"NUMBER","number":"9999"}},{"name":"session","value":{"type":"SESSION","sessionName":{"type":"STRING","string":"CompensacionQuery"}}}]}],"attributes":[{"name":"loopType","value":{"type":"STRING","string":"ITERATOR"}},{"name":"iterator","returnTo":{"type":"VARIABLE","variableName":"filaCompensaciones"},"attributes":[{"name":"session","value":{"type":"SESSION","sessionName":{"type":"STRING","string":"CompensacionQuery"}}}],"value":{"type":"ITERATOR","iteratorName":"iterators.resultset","packageName":"Database"}}]}],"attributes":[{"name":"title","value":{"type":"STRING","string":"Actualiza la tabla PA_patrimoniales con los compensados"}}]}],"attributes":[{"name":"loopType","value":{"type":"STRING","string":"ITERATOR"}},{"name":"iterator","returnTo":{"type":"VARIABLE","variableName":"filaReglasBancarias"},"attributes":[{"name":"session","value":{"type":"SESSION","sessionName":{"type":"STRING","string":"reglasPatrimoniales"}}}],"value":{"type":"ITERATOR","iteratorName":"iterators.resultset","packageName":"Database"}}]}],"attributes":[{"name":"title","value":{"type":"STRING","string":"Reglas Bancarias"}}]}],"attributes":[{"name":"loopType","value":{"type":"STRING","string":"ITERATOR"}},{"name":"iterator","returnTo":{"type":"VARIABLE","variableName":"filaFBL3N"},"attributes":[{"name":"session","value":{"type":"SESSION","sessionName":{"type":"STRING","string":"partidasAbiertas"}}}],"value":{"type":"ITERATOR","iteratorName":"iterators.resultset","packageName":"Database"}}]}],"attributes":[{"name":"title","value":{"type":"STRING","string":"FLB3N de la BD"}}]}],"branches":[{"uid":"7b26faa4-c422-4c90-9d71-1b3bb9efb4ac","commandName":"catch","packageName":"ErrorHandler","disabled":false,"children":[{"uid":"7844eb72-0bf5-45fd-b94c-5579a68ad0e7","commandName":"messageBox","packageName":"MessageBox","disabled":true,"attributes":[{"name":"title","value":{"type":"STRING","string":"Automation Anywhere Enterprise Client"}},{"name":"content","value":{"type":"STRING","expression":"$ErrorLineNumber.Number:toString$ - $ErrorMessage$"}},{"name":"scrollLines","value":{"type":"NUMBER","number":"30"}},{"name":"closeMsgBox","value":{"type":"BOOLEAN","boolean":true}},{"name":"timeOut","value":{"type":"NUMBER","number":"5"}}]},{"uid":"1d1dbde7-8ed3-48ef-9f97-b3c00ba9321c","commandName":"logToFile","packageName":"LogToFile","disabled":false,"attributes":[{"name":"filePath","value":{"type":"FILE","expression":"file://$logFile$"}},{"name":"logContent","value":{"type":"STRING","expression":"$ErrorLineNumber.Number:toString$ - $ErrorMessage$"}},{"name":"appendTimestamp","value":{"type":"BOOLEAN","boolean":true}},{"name":"logOption","value":{"type":"STRING","string":"APPEND_FILE"}},{"name":"encodingValue","value":{"type":"STRING","string":"ANSI"}}]},{"uid":"b7980c5e-381a-4802-82b5-f75d199d9787","commandName":"logToFile","packageName":"LogToFile","disabled":false,"attributes":[{"name":"filePath","value":{"type":"FILE","string":"file:////nas/Tecnologia/RPA_360/Automation%20Anywhere/My%20Tasks/ConBanc/Logs/logCompen.txt"}},{"name":"logContent","value":{"type":"STRING","expression":"$ErrorLineNumber.Number:toString$ - $ErrorMessage$"}},{"name":"appendTimestamp","value":{"type":"BOOLEAN","boolean":true}},{"name":"logOption","value":{"type":"STRING","string":"APPEND_FILE"}},{"name":"encodingValue","value":{"type":"STRING","string":"ANSI"}}]},{"uid":"effaefdb-1e88-4ccc-85ea-3ffa7d8a91b7","commandName":"SendMailV2","packageName":"Email","disabled":false,"attributes":[{"name":"toAddress","value":{"type":"STRING","string":"rpa@bancard.com.py"}},{"name":"cc","value":{"type":"STRING","string":""}},{"name":"bcc","value":{"type":"STRING","string":""}},{"name":"invalidAddress","value":{"type":"BOOLEAN","boolean":false}},{"name":"subject","value":{"type":"STRING","string":"ERROR - PATRI_D02_N"}},{"name":"ensureAttachmentsExist","value":{"type":"BOOLEAN","boolean":false}},{"name":"bodyFormat","value":{"type":"STRING","string":"PLAINTEXT"}},{"name":"message","value":{"type":"STRING","expression":"$ErrorLineNumber.Number:toString$ - $ErrorMessage$"}},{"name":"goGreen","value":{"type":"BOOLEAN","boolean":false}},{"name":"serverType","value":{"type":"STRING","string":"EMAIL_SERVER"}},{"name":"fromAddress","value":{"type":"STRING","string":"noreply@bancard.com.py"}},{"name":"useSecureConnection","value":{"type":"BOOLEAN","boolean":false}},{"name":"emailServerHost","value":{"type":"STRING","expression":"$@AAE_EmailSettings_host$"}},{"name":"emailServerPort","value":{"type":"NUMBER","expression":"$@AAE_EmailSettings_port$"}},{"name":"requiresAuthentication","value":{"type":"BOOLEAN","boolean":false}},{"name":"emailServerAuthType","value":{"type":"STRING","string":"Basic"}}]}],"attributes":[{"name":"exceptionType","value":{"type":"EXCEPTION","exceptionName":"BotException","packageName":"ErrorHandler"}},{"name":"continueOnError","value":{"type":"BOOLEAN","boolean":true}}],"returns":{"errorMessage":{"type":"VARIABLE","variableName":"ErrorMessage"},"errorLineNumber":{"type":"VARIABLE","variableName":"ErrorLineNumber"}}}]}],"variables":[{"name":"entorno","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"logFile","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"rutaFBL3N","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"rutaReglas","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"rutaTablaDeCierres","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"rutaTemp","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"correoRPA","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"correoUsuarios","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"nombreArchivoTemp","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"extensionArchivoTemp","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"filaFBL3N","description":"Cada linea del fbl3n","type":"RECORD","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"RECORD","record":{"schema":[],"values":[]}}},{"name":"cuentaPatrimonial","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"fbl3nSociedad","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"Rest-Response-Assignment","description":"","type":"DICTIONARY","subtype":"STRING","input":false,"output":false,"defaultValue":{"type":"DICTIONARY","dictionary":[]}},{"name":"begda","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"endda","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"responseSAP","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"filaReglasBancarias","description":"","type":"RECORD","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"RECORD","record":{"schema":[],"values":[]}}},{"name":"tipoDoc_A","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"tipoDoc_B","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"textoTipoDoc_A","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"textoTipoDoc_B","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"textoTipoDoc_C","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"textoTipoDoc_D","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"dia","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"mes","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"limRedondeo","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"dejarSaldo","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"textoSaldo","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"retardoTipoDoc_A","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"retardoTipoDoc_B","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"retardoHabil","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"flaglogic","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"filaCompensaciones","description":"","type":"RECORD","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"RECORD","record":{"schema":[],"values":[]}}},{"name":"ErrorMessage","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"ErrorLineNumber","description":"","type":"NUMBER","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"NUMBER","number":"0"}},{"name":"claseDocGenerar","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"moneda","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"headerString","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"mandante","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"detailString","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"retornoCompensacion","description":"","type":"DICTIONARY","readOnly":false,"input":false,"output":false,"subtype":"STRING","defaultValue":{"type":"DICTIONARY","dictionary":[]}},{"name":"outputString","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"archivoSAP","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"entidad","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"emptyFile","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"respuestaServicio","description":"","type":"DICTIONARY","readOnly":false,"input":false,"output":false,"subtype":"STRING","defaultValue":{"type":"DICTIONARY","dictionary":[]}},{"name":"fbl3nGrupo","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"refRegla","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"textoCabecera","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"nombreRegla","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"limiteDifCamb","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"retardoTipoDoc_C","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"retardoTipoDoc_D","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"tipoDoc_C","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"tipoDoc_D","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"respuestaCorregirFechaCompensacion","description":"","type":"DICTIONARY","readOnly":false,"input":false,"output":false,"subtype":"STRING","defaultValue":{"type":"DICTIONARY","dictionary":[]}}],"packages":[{"name":"Comment","version":"2.14.0","settingsAttributes":[]},{"name":"Database","version":"5.1.0","settingsAttributes":[]},{"name":"Email","version":"3.18.2","settingsAttributes":[]},{"name":"ErrorHandler","version":"2.11.3-20230316-162433","settingsAttributes":[]},{"name":"File","version":"6.7.0","settingsAttributes":[]},{"name":"If","version":"3.6.2-20230316-161323","settingsAttributes":[]},{"name":"LegacyAutomation","version":"6.3.2","settingsAttributes":[]},{"name":"LogToFile","version":"3.8.0","settingsAttributes":[]},{"name":"Loop","version":"3.7.5-20230316-155504","settingsAttributes":[]},{"name":"MessageBox","version":"3.7.0","settingsAttributes":[]},{"name":"Number","version":"3.8.0","settingsAttributes":[]},{"name":"Rest","version":"3.12.0-20220926-070217","settingsAttributes":[]},{"name":"Step","version":"2.5.0-20230105-135537","settingsAttributes":[]},{"name":"String","version":"5.8.0","settingsAttributes":[]},{"name":"System","version":"3.12.0","settingsAttributes":[]},{"name":"TaskBot","version":"2.8.0-20230530-152744","settingsAttributes":[]}],"migrationJournalReviewIds":[],"workItemTemplateName":null,"properties":{"botCodeVersion":"4","improvedNumberSupport":true,"timeout":"0s","automationPriority":"PRIORITY_MEDIUM"}}