{"triggers":[],"nodes":[{"uid":"d8ea090a-93ff-4d18-8e9c-a89b2bd758c3","commandName":"try","packageName":"ErrorHandler","disabled":false,"children":[{"uid":"829977de-b319-4ab3-a3d1-50acf9b776b8","commandName":"connect","packageName":"Database","disabled":false,"attributes":[{"name":"connectionMode","value":{"type":"STRING","string":"DEFAULT"}},{"name":"connectionOption","value":{"type":"STRING","string":"text"}},{"name":"connectionURL","value":{"type":"STRING","string":"Provider=MSDASQL.1;Persist Security Info=False;Extended Properties=\"DSN=PostgreSQL35W;DATABASE=rpa-desa;SERVER=10.100.14.49;PORT=5432;UID=postgres;SSLmode=disable;ReadOnly=0;Protocol=7.4;FakeOidIndex=0;ShowOidColumn=0;RowVersioning=0;ShowSystemTables=0;Fetch=100;UnknownSizes=0;MaxVarcharSize=255;MaxLongVarcharSize=8190;Debug=0;CommLog=0;UseDeclareFetch=0;TextAsLongVarchar=1;UnknownsAsLongVarchar=0;BoolsAsChar=1;Parse=0;ExtraSysTablePrefixes=;LFConversion=1;UpdatableCursors=1;TrueIsMinus1=0;BI=0;ByteaAsLongVarBinary=1;UseServerSidePrepare=1;LowerCaseIdentifier=0;D6=-101;XaOpt=1\""}},{"name":"use64BitDriver","value":{"type":"BOOLEAN","boolean":false}},{"name":"isUserDefinedDriver","value":{"type":"BOOLEAN","boolean":false}}],"returnTo":{"type":"SESSION","sessionName":{"type":"STRING","string":"reglasBancarias"},"sessionTarget":"GLOBAL"}},{"uid":"5bc454e1-f231-43d4-a147-f0d3ee36f15c","commandName":"connect","packageName":"Database","disabled":false,"attributes":[{"name":"connectionMode","value":{"type":"STRING","string":"DEFAULT"}},{"name":"connectionOption","value":{"type":"STRING","string":"text"}},{"name":"connectionURL","value":{"type":"STRING","string":"Provider=MSDASQL.1;Persist Security Info=False;Extended Properties=\"DSN=PostgreSQL35W;DATABASE=rpa-desa;SERVER=10.100.14.49;PORT=5432;UID=postgres;SSLmode=disable;ReadOnly=0;Protocol=7.4;FakeOidIndex=0;ShowOidColumn=0;RowVersioning=0;ShowSystemTables=0;Fetch=100;UnknownSizes=0;MaxVarcharSize=255;MaxLongVarcharSize=8190;Debug=0;CommLog=0;UseDeclareFetch=0;TextAsLongVarchar=1;UnknownsAsLongVarchar=0;BoolsAsChar=1;Parse=0;ExtraSysTablePrefixes=;LFConversion=1;UpdatableCursors=1;TrueIsMinus1=0;BI=0;ByteaAsLongVarBinary=1;UseServerSidePrepare=1;LowerCaseIdentifier=0;D6=-101;XaOpt=1\""}},{"name":"use64BitDriver","value":{"type":"BOOLEAN","boolean":false}},{"name":"isUserDefinedDriver","value":{"type":"BOOLEAN","boolean":false}}],"returnTo":{"type":"SESSION","sessionName":{"type":"STRING","string":"CompensacionQuery"},"sessionTarget":"GLOBAL"}},{"uid":"ded681eb-8a3b-4e7c-a925-d35a7dfd6437","commandName":"connect","packageName":"Database","disabled":false,"attributes":[{"name":"connectionMode","value":{"type":"STRING","string":"DEFAULT"}},{"name":"connectionOption","value":{"type":"STRING","string":"text"}},{"name":"connectionURL","value":{"type":"STRING","string":"Provider=MSDASQL.1;Persist Security Info=False;Extended Properties=\"DSN=PostgreSQL35W;DATABASE=rpa-desa;SERVER=10.100.14.49;PORT=5432;UID=postgres;SSLmode=disable;ReadOnly=0;Protocol=7.4;FakeOidIndex=0;ShowOidColumn=0;RowVersioning=0;ShowSystemTables=0;Fetch=100;UnknownSizes=0;MaxVarcharSize=255;MaxLongVarcharSize=8190;Debug=0;CommLog=0;UseDeclareFetch=0;TextAsLongVarchar=1;UnknownsAsLongVarchar=0;BoolsAsChar=1;Parse=0;ExtraSysTablePrefixes=;LFConversion=1;UpdatableCursors=1;TrueIsMinus1=0;BI=0;ByteaAsLongVarBinary=1;UseServerSidePrepare=1;LowerCaseIdentifier=0;D6=-101;XaOpt=1\""}},{"name":"use64BitDriver","value":{"type":"BOOLEAN","boolean":false}},{"name":"isUserDefinedDriver","value":{"type":"BOOLEAN","boolean":false}}],"returnTo":{"type":"SESSION","sessionName":{"type":"STRING","string":"partidasAbiertas"},"sessionTarget":"GLOBAL"}},{"uid":"aa23bfcf-2655-4aa1-b758-f945a9862f08","commandName":"connect","packageName":"Database","disabled":false,"attributes":[{"name":"connectionMode","value":{"type":"STRING","string":"DEFAULT"}},{"name":"connectionOption","value":{"type":"STRING","string":"text"}},{"name":"connectionURL","value":{"type":"STRING","string":"Provider=MSDASQL.1;Persist Security Info=False;Extended Properties=\"DSN=PostgreSQL35W;DATABASE=rpa-desa;SERVER=10.100.14.49;PORT=5432;UID=postgres;SSLmode=disable;ReadOnly=0;Protocol=7.4;FakeOidIndex=0;ShowOidColumn=0;RowVersioning=0;ShowSystemTables=0;Fetch=100;UnknownSizes=0;MaxVarcharSize=255;MaxLongVarcharSize=8190;Debug=0;CommLog=0;UseDeclareFetch=0;TextAsLongVarchar=1;UnknownsAsLongVarchar=0;BoolsAsChar=1;Parse=0;ExtraSysTablePrefixes=;LFConversion=1;UpdatableCursors=1;TrueIsMinus1=0;BI=0;ByteaAsLongVarBinary=1;UseServerSidePrepare=1;LowerCaseIdentifier=0;D6=-101;XaOpt=1\""}},{"name":"use64BitDriver","value":{"type":"BOOLEAN","boolean":false}},{"name":"isUserDefinedDriver","value":{"type":"BOOLEAN","boolean":false}}],"returnTo":{"type":"SESSION","sessionName":{"type":"STRING","string":"fechatexto"},"sessionTarget":"GLOBAL"}},{"uid":"a4298104-798e-41c7-89aa-89b5d36ea1f3","commandName":"connect","packageName":"Database","disabled":false,"attributes":[{"name":"connectionMode","value":{"type":"STRING","string":"DEFAULT"}},{"name":"connectionOption","value":{"type":"STRING","string":"text"}},{"name":"connectionURL","value":{"type":"STRING","string":"Provider=MSDASQL.1;Persist Security Info=False;Extended Properties=\"DSN=PostgreSQL35W;DATABASE=rpa-desa;SERVER=10.100.14.49;PORT=5432;UID=postgres;SSLmode=disable;ReadOnly=0;Protocol=7.4;FakeOidIndex=0;ShowOidColumn=0;RowVersioning=0;ShowSystemTables=0;Fetch=100;UnknownSizes=0;MaxVarcharSize=255;MaxLongVarcharSize=8190;Debug=0;CommLog=0;UseDeclareFetch=0;TextAsLongVarchar=1;UnknownsAsLongVarchar=0;BoolsAsChar=1;Parse=0;ExtraSysTablePrefixes=;LFConversion=1;UpdatableCursors=1;TrueIsMinus1=0;BI=0;ByteaAsLongVarBinary=1;UseServerSidePrepare=1;LowerCaseIdentifier=0;D6=-101;XaOpt=1\""}},{"name":"use64BitDriver","value":{"type":"BOOLEAN","boolean":false}},{"name":"isUserDefinedDriver","value":{"type":"BOOLEAN","boolean":false}}],"returnTo":{"type":"SESSION","sessionName":{"type":"STRING","string":"tabladecierres"},"sessionTarget":"GLOBAL"}},{"uid":"5a4a37bf-d1fe-4ff9-9164-a738da219116","commandName":"step","packageName":"Step","disabled":false,"children":[{"uid":"31bde5ee-4738-41ac-9243-b428d3fd6e8e","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$@AAApplicationPath$\\Automation Anywhere\\My Tasks\\Compensaciones Bancarias\\Logs\\D02_U.txt"}}],"returnTo":{"type":"VARIABLE","variableName":"logFile"}},{"uid":"5a4622c9-1de6-44fc-8ec4-768351d0fd72","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$@AAApplicationPath$\\Automation Anywhere\\My Tasks\\Compensaciones Bancarias\\Config\\FBL3N\\"}}],"returnTo":{"type":"VARIABLE","variableName":"rutaFBL3N"}},{"uid":"7beb747c-f1dd-4beb-acdc-c43a913de8ae","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$@AAApplicationPath$\\Automation Anywhere\\My Tasks\\Compensaciones Bancarias\\Config\\Reglas\\"}}],"returnTo":{"type":"VARIABLE","variableName":"rutaReglas"}},{"uid":"c79f752e-1f1b-4f0b-a702-3fccbfc03eda","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$@AAApplicationPath$\\Calendario\\tabladecierres.csv"}}],"returnTo":{"type":"VARIABLE","variableName":"rutaTablaDeCierres"}},{"uid":"a815aed0-f768-4511-8019-ce94d76403cc","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$@AAApplicationPath$\\Automation Anywhere\\My Tasks\\Compensaciones Bancarias\\Temp\\"}}],"returnTo":{"type":"VARIABLE","variableName":"rutaTemp"}},{"uid":"f6f83254-1791-4daa-a286-dc995480aff0","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","string":"PRD"}}],"returnTo":{"type":"VARIABLE","variableName":"entorno"}},{"uid":"7d944877-c2a7-443d-9c14-952a6d4dfeec","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","string":"rpa@bancard.com.py"}}],"returnTo":{"type":"VARIABLE","variableName":"correoRPA"}},{"uid":"1c7f7e45-0bd2-4238-ab91-6167a7bd688d","commandName":"if","packageName":"If","disabled":false,"children":[{"uid":"22b7ecc8-1bfc-4871-b86f-29264e51eab4","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","string":"conciliaciones@bancard.com.py"}}],"returnTo":{"type":"VARIABLE","variableName":"correoUsuarios"}},{"uid":"ab7746c0-6c82-4b3c-a072-f98d7b3eee3c","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","string":"400"}}],"returnTo":{"type":"VARIABLE","variableName":"mandante"}},{"uid":"b64f5cb7-0238-4064-922b-ecf9f6914abc","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","string":"\\\\nas\\Tecnologia\\RPA_360\\Automation Anywhere\\My Tasks\\ConBanc\\Config\\empty.txt"}}],"returnTo":{"type":"VARIABLE","variableName":"emptyFile"}}],"branches":[{"uid":"a0dfa049-acbf-43c6-8dae-c1223e49479c","commandName":"else","packageName":"If","disabled":false,"children":[{"uid":"907db72d-2684-46f9-ae77-66a0ede6e1d0","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","string":"bruno.ruiz@bancard.com.py"}}],"returnTo":{"type":"VARIABLE","variableName":"correoUsuarios"}},{"uid":"df3d4d47-d3d9-47c9-b2e9-c32ab65870b8","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","string":"150"}}],"returnTo":{"type":"VARIABLE","variableName":"mandante"}}]}],"attributes":[{"attributes":[{"name":"variable","value":{"type":"STRING","expression":"$entorno$"}},{"name":"operator","value":{"type":"STRING","string":"EQ"}},{"name":"value","value":{"type":"STRING","string":"PRD"}},{"name":"matchCase","value":{"type":"BOOLEAN","boolean":true}},{"name":"isIgnoreCarriage","value":{"type":"BOOLEAN","boolean":false}}],"name":"condition","value":{"type":"CONDITIONAL","conditionalName":"stringVariable","packageName":"String"}}]}],"attributes":[{"name":"title","value":{"type":"STRING","string":"Definición de rutas y Entorno"}}]},{"uid":"07d19c94-24fe-4fcc-9ea7-3823c846ea29","commandName":"step","packageName":"Step","disabled":false,"children":[{"uid":"fe265493-cf4b-4244-813a-1f98e36b04f8","commandName":"loop.commands.start","packageName":"Loop","disabled":false,"children":[{"uid":"2dde04d3-fcad-4d91-9a73-9fdaa4f89654","commandName":"deleteFiles","packageName":"File","disabled":false,"attributes":[{"name":"filePath","value":{"type":"FILE","expression":"file://$rutaTemp$/$nombreArchivoTemp$.$extensionArchivoTemp$"}},{"name":"isSize","value":{"type":"BOOLEAN","boolean":false}},{"name":"isDate","value":{"type":"BOOLEAN","boolean":false}}]}],"attributes":[{"name":"loopType","value":{"type":"STRING","string":"ITERATOR"}},{"name":"iterator","returnTo":{"type":"DICTIONARY","dictionary":[{"key":"name","value":{"type":"VARIABLE","variableName":"nombreArchivoTemp"}},{"key":"extension","value":{"type":"VARIABLE","variableName":"extensionArchivoTemp"}}]},"attributes":[{"name":"folderPath","value":{"type":"STRING","expression":"$rutaTemp$"}}],"value":{"type":"ITERATOR","iteratorName":"loop.iterators.files","packageName":"File"}}]},{"uid":"5f4925f1-6e21-482e-bf8a-04f6ea0f7f34","commandName":"deleteFiles","packageName":"File","disabled":true,"attributes":[{"name":"filePath","value":{"type":"FILE","expression":"file://$logFile$"}},{"name":"isSize","value":{"type":"BOOLEAN","boolean":false}},{"name":"isDate","value":{"type":"BOOLEAN","boolean":false}}]}],"attributes":[{"name":"title","value":{"type":"STRING","string":"Preparación de archivos - Vaciado de Carpetas"}}]},{"uid":"96a36944-ce3e-484a-90ed-49eea783c94e","commandName":"step","packageName":"Step","disabled":false,"children":[{"uid":"05409f5f-7b2e-49d0-9273-fae150d308d3","commandName":"logToFile","packageName":"LogToFile","disabled":false,"attributes":[{"name":"filePath","value":{"type":"FILE","expression":"file://$logFile$"}},{"name":"logContent","value":{"type":"STRING","string":"Conexión a la BD"}},{"name":"appendTimestamp","value":{"type":"BOOLEAN","boolean":true}},{"name":"logOption","value":{"type":"STRING","string":"APPEND_FILE"}},{"name":"encodingValue","value":{"type":"STRING","string":"ANSI"}}]},{"uid":"cc5ed392-2530-4884-a069-efe496c81267","commandName":"connect","packageName":"Database","disabled":false,"attributes":[{"name":"connectionMode","value":{"type":"STRING","string":"DEFAULT"}},{"name":"connectionOption","value":{"type":"STRING","string":"text"}},{"name":"connectionURL","value":{"type":"STRING","string":"Provider=MSDASQL.1;Persist Security Info=False;Extended Properties=\"DSN=PostgreSQL35W;DATABASE=rpa-desa;SERVER=10.100.14.49;PORT=5432;UID=postgres;SSLmode=disable;ReadOnly=0;Protocol=7.4;FakeOidIndex=0;ShowOidColumn=0;RowVersioning=0;ShowSystemTables=0;Fetch=100;UnknownSizes=0;MaxVarcharSize=255;MaxLongVarcharSize=8190;Debug=0;CommLog=0;UseDeclareFetch=0;TextAsLongVarchar=1;UnknownsAsLongVarchar=0;BoolsAsChar=1;Parse=0;ExtraSysTablePrefixes=;LFConversion=1;UpdatableCursors=1;TrueIsMinus1=0;BI=0;ByteaAsLongVarBinary=1;UseServerSidePrepare=1;LowerCaseIdentifier=0;D6=-101;XaOpt=1\""}},{"name":"use64BitDriver","value":{"type":"BOOLEAN","boolean":false}},{"name":"isUserDefinedDriver","value":{"type":"BOOLEAN","boolean":false}}],"returnTo":{"type":"SESSION","sessionName":{"type":"STRING","string":"D02_U"},"sessionTarget":"GLOBAL"}}],"attributes":[{"name":"title","value":{"type":"STRING","string":"Conexión con BD"}}]},{"uid":"090b1f7a-6516-44c2-8704-44ea6dfdaa24","commandName":"step","packageName":"Step","disabled":false,"children":[{"uid":"342592d5-3b6d-44b8-86c7-962e728a0a92","commandName":"sqlQuery","packageName":"Database","disabled":false,"attributes":[{"name":"query","value":{"type":"STRING","string":"SELECT *\nFROM fbl3n_bancarias\nJOIN llaves_de_compensacion ON fbl3n_bancarias.sociedad = llaves_de_compensacion.sociedad_num\nWHERE llaves_de_compensacion.estado = 'TRUE' and grupo = 'D02_U' and fbl3n_bancarias.estado = 'ACTIVADO';"}},{"name":"doExport","value":{"type":"BOOLEAN","boolean":false}},{"name":"session","value":{"type":"SESSION","sessionName":{"type":"STRING","string":"D02_U"}}}]},{"uid":"a076732a-6e21-4efa-9377-a195e11f8314","commandName":"loop.commands.start","packageName":"Loop","disabled":false,"children":[{"uid":"787c92f6-7d04-4e49-b7d7-19595ddf308c","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$filaFBL3N[1]$"}}],"returnTo":{"type":"VARIABLE","variableName":"cuentaPagadora"}},{"uid":"5aa4fee7-d5cc-441c-a4a8-89f3ec30b9c9","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$filaFBL3N[2]$"}}],"returnTo":{"type":"VARIABLE","variableName":"cuentaCobradora"}},{"uid":"983549d4-4955-4444-9141-3bd4a42b198b","commandName":"if","packageName":"If","disabled":true,"children":[{"uid":"0573404d-4b0d-41b6-a69c-074c94c859a6","commandName":"loop.commands.continue","packageName":"Loop","disabled":false,"attributes":[]}],"branches":[],"attributes":[{"attributes":[{"name":"variable","value":{"type":"STRING","expression":"$cuentaCobradora$"}},{"name":"operator","value":{"type":"STRING","string":"NOTINCLUDE"}},{"name":"value","value":{"type":"STRING","string":"115462"}},{"name":"matchCase","value":{"type":"BOOLEAN","boolean":false}},{"name":"isIgnoreCarriage","value":{"type":"BOOLEAN","boolean":false}}],"name":"condition","value":{"type":"CONDITIONAL","conditionalName":"stringVariable","packageName":"String"}}]},{"uid":"94e207db-608a-44d2-81b0-946a0a04e59c","commandName":"if","packageName":"If","disabled":true,"children":[{"uid":"6bd865eb-6169-479a-8150-ef788eb062be","commandName":"loop.commands.continue","packageName":"Loop","disabled":false,"attributes":[]}],"branches":[],"attributes":[{"attributes":[{"name":"variable","value":{"type":"STRING","expression":"$cuentaPagadora$"}},{"name":"operator","value":{"type":"STRING","string":"NOTINCLUDE"}},{"name":"value","value":{"type":"STRING","string":"113241"}},{"name":"matchCase","value":{"type":"BOOLEAN","boolean":false}},{"name":"isIgnoreCarriage","value":{"type":"BOOLEAN","boolean":false}}],"operatorAttribute":{"operator":"AND","value":{"type":"CONDITIONAL","conditionalName":"stringVariable","packageName":"String"},"attributes":[{"name":"variable","value":{"type":"STRING","expression":"$cuentaCobradora$"}},{"name":"operator","value":{"type":"STRING","string":"NOTINCLUDE"}},{"name":"value","value":{"type":"STRING","string":"113242"}},{"name":"matchCase","value":{"type":"BOOLEAN","boolean":false}},{"name":"isIgnoreCarriage","value":{"type":"BOOLEAN","boolean":false}}]},"name":"condition","value":{"type":"CONDITIONAL","conditionalName":"stringVariable","packageName":"String"}}]},{"uid":"0ff1e793-0e12-461a-b340-77cc6556c36f","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$filaFBL3N[3]$"}}],"returnTo":{"type":"VARIABLE","variableName":"fbl3nSociedad"}},{"uid":"65254f2c-f0cb-4254-8ddb-5c813a2d9433","commandName":"if","packageName":"If","disabled":true,"children":[{"uid":"44df1ada-443d-4179-bb9c-9d664216fcef","commandName":"loop.commands.continue","packageName":"Loop","disabled":false,"attributes":[]}],"branches":[],"attributes":[{"attributes":[{"name":"variable","value":{"type":"STRING","expression":"$fbl3nSociedad$"}},{"name":"operator","value":{"type":"STRING","string":"NOTINCLUDE"}},{"name":"value","value":{"type":"STRING","string":"1000"}},{"name":"matchCase","value":{"type":"BOOLEAN","boolean":false}},{"name":"isIgnoreCarriage","value":{"type":"BOOLEAN","boolean":false}}],"name":"condition","value":{"type":"CONDITIONAL","conditionalName":"stringVariable","packageName":"String"}}]},{"uid":"8080e80e-3bf4-40f3-91f6-d34e44db5e1f","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$filaFBL3N[0]$"}}],"returnTo":{"type":"VARIABLE","variableName":"fbl3nGrupo"}},{"uid":"89928a57-85f5-470f-971f-9a8b7268b3dd","commandName":"if","packageName":"If","disabled":true,"children":[{"uid":"9d5e6b28-b78d-4044-a707-9885eb3c3b28","commandName":"loop.commands.continue","packageName":"Loop","disabled":false,"attributes":[]}],"branches":[],"attributes":[{"attributes":[{"name":"variable","value":{"type":"STRING","expression":"$cuentaPagadora$"}},{"name":"operator","value":{"type":"STRING","string":"NOTINCLUDE"}},{"name":"value","value":{"type":"STRING","string":"115281"}},{"name":"matchCase","value":{"type":"BOOLEAN","boolean":false}},{"name":"isIgnoreCarriage","value":{"type":"BOOLEAN","boolean":false}}],"name":"condition","value":{"type":"CONDITIONAL","conditionalName":"stringVariable","packageName":"String"}}]},{"uid":"02183334-8456-4b13-a75a-f33b032b4e25","commandName":"messageBox","packageName":"MessageBox","disabled":true,"attributes":[{"name":"title","value":{"type":"STRING","string":"Automation Anywhere Enterprise Client"}},{"name":"content","value":{"type":"STRING","expression":"pagadora: $cuentaPagadora$\ncobradora: $cuentaCobradora$\nsocciedad: $fbl3nSociedad$\ngrupo: $fbl3nGrupo$"}},{"name":"scrollLines","value":{"type":"NUMBER","number":"30"}},{"name":"closeMsgBox","value":{"type":"BOOLEAN","boolean":false}}]},{"uid":"6c47e0c9-90e8-424c-8879-8a81b10ff46c","commandName":"Comment","packageName":"Comment","disabled":false,"attributes":[{"name":"comment","value":{"type":"STRING","string":"Obtener mes contable y ejercicio por sociedad"}}]},{"uid":"7cd1e7e7-fcc0-4214-91d6-26b24e1846e2","commandName":"messageBox","packageName":"MessageBox","disabled":true,"attributes":[{"name":"title","value":{"type":"STRING","string":"Automation Anywhere Enterprise Client"}},{"name":"content","value":{"type":"STRING","expression":"select * from tabladecierres\nwhere sociedad = '$fbl3nSociedad$'\norder by mes_contable desc"}},{"name":"scrollLines","value":{"type":"NUMBER","number":"30"}},{"name":"closeMsgBox","value":{"type":"BOOLEAN","boolean":false}}]},{"uid":"a5ce13f5-1631-4741-aa06-faeffa24b65e","commandName":"sqlQuery","packageName":"Database","disabled":false,"attributes":[{"name":"query","value":{"type":"STRING","expression":"select * from tabladecierres\nwhere sociedad = '$fbl3nSociedad$'\norder by mes_contable desc"}},{"name":"doExport","value":{"type":"BOOLEAN","boolean":false}},{"name":"session","value":{"type":"SESSION","sessionName":{"type":"STRING","string":"tabladecierres"}}}]},{"uid":"95ad296b-5dbc-4b54-a4d8-e16842c1dfd2","commandName":"loop.commands.start","packageName":"Loop","disabled":false,"children":[{"uid":"9c0c041e-88bf-4315-b3c3-eba704bb2d3c","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$filasTabladeCierre[0]$"}}],"returnTo":{"type":"VARIABLE","variableName":"mesContable"}},{"uid":"0b2c8e93-f3b3-42c2-a613-aed15a5e7f1b","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$filasTabladeCierre[1]$"}}],"returnTo":{"type":"VARIABLE","variableName":"ejercicio"}},{"uid":"0a42ee17-d1d2-4854-898d-38e576154bc5","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$filasTabladeCierre[5]$"}}],"returnTo":{"type":"VARIABLE","variableName":"vUltimoDiaMes"}},{"uid":"5fd0c472-856b-4950-9879-248442c8a6b3","commandName":"loop.commands.break","packageName":"Loop","disabled":false,"attributes":[]}],"attributes":[{"name":"loopType","value":{"type":"STRING","string":"ITERATOR"}},{"name":"iterator","returnTo":{"type":"VARIABLE","variableName":"filasTabladeCierre"},"attributes":[{"name":"session","value":{"type":"SESSION","sessionName":{"type":"STRING","string":"tabladecierres"}}}],"value":{"type":"ITERATOR","iteratorName":"iterators.resultset","packageName":"Database"}}]},{"uid":"08fe088e-651a-45b3-809f-83d7d5434ab5","commandName":"logToFile","packageName":"LogToFile","disabled":false,"attributes":[{"name":"filePath","value":{"type":"FILE","expression":"file://$logFile$"}},{"name":"logContent","value":{"type":"STRING","expression":"FBL3N: Pagadora: $cuentaPagadora$ - Cobradora: $cuentaCobradora$ -Sociedad: $fbl3nSociedad$ - Mes Contable: $vMesContable$ - Ejercicio: $vEjercicio$"}},{"name":"appendTimestamp","value":{"type":"BOOLEAN","boolean":true}},{"name":"logOption","value":{"type":"STRING","string":"APPEND_FILE"}},{"name":"encodingValue","value":{"type":"STRING","string":"ANSI"}}]},{"uid":"dae7664c-1e87-4d35-94ff-e171eb2de824","commandName":"messageBox","packageName":"MessageBox","disabled":true,"attributes":[{"name":"title","value":{"type":"STRING","string":"Automation Anywhere Enterprise Client"}},{"name":"content","value":{"type":"STRING","expression":"FBL3N: Pagadora: $cuentaPagadora$ - Cobradora: $cuentaCobradora$ -Sociedad: $fbl3nSociedad$\nEjercicio: $ejercicio$\nMes Contable: $mesContable$"}},{"name":"scrollLines","value":{"type":"NUMBER","number":"30"}},{"name":"closeMsgBox","value":{"type":"BOOLEAN","boolean":false}}]},{"uid":"fdd9ad2a-2dc7-42bd-9355-8a1d884f0310","commandName":"step","packageName":"Step","disabled":false,"children":[{"uid":"f311e915-6a65-421e-b5bb-2e13e6b7d44c","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$System:Year.Number:toString$-01-01"}}],"returnTo":{"type":"VARIABLE","variableName":"begda"}},{"uid":"6351f956-dbc8-45fe-b0f9-a1ec249e7507","commandName":"if","packageName":"If","disabled":false,"children":[{"uid":"6e9c3e9f-9089-4b85-b31a-a665a085d031","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"0$System:Day.Number:toString$"}}],"returnTo":{"type":"VARIABLE","variableName":"dia"}}],"branches":[{"uid":"4a4c4cec-a54d-420a-99c0-b0c4a1b94699","commandName":"else","packageName":"If","disabled":false,"children":[{"uid":"2779b024-eaef-4408-be34-a6fcb06b6a69","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$System:Day.Number:toString$"}}],"returnTo":{"type":"VARIABLE","variableName":"dia"}}]}],"attributes":[{"attributes":[{"name":"variable","value":{"type":"NUMBER","expression":"$System:Day$"}},{"name":"operator","value":{"type":"STRING","string":"LTE"}},{"name":"value","value":{"type":"NUMBER","number":"9"}}],"name":"condition","value":{"type":"CONDITIONAL","conditionalName":"numberVariable","packageName":"Number"}}]},{"uid":"1a730cdb-2461-4dcb-827b-b14ff2243154","commandName":"if","packageName":"If","disabled":false,"children":[{"uid":"56530bdc-4fd5-462b-bf11-0996c432ba1a","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"0$System:Month.Number:toString$"}}],"returnTo":{"type":"VARIABLE","variableName":"mes"}}],"branches":[{"uid":"37831d57-2500-4202-bd15-f56d3b464c93","commandName":"else","packageName":"If","disabled":false,"children":[{"uid":"4ecf3c8e-38bf-4a0a-95ce-3bf0a3c2fc66","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$System:Month.Number:toString$"}}],"returnTo":{"type":"VARIABLE","variableName":"mes"}}]}],"attributes":[{"attributes":[{"name":"variable","value":{"type":"NUMBER","expression":"$System:Month$"}},{"name":"operator","value":{"type":"STRING","string":"LTE"}},{"name":"value","value":{"type":"NUMBER","number":"9"}}],"name":"condition","value":{"type":"CONDITIONAL","conditionalName":"numberVariable","packageName":"Number"}}]},{"uid":"2d2b4351-3047-4568-88f6-8ccdb6605a79","commandName":"assign","packageName":"String","disabled":true,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$System:Year.Number:toString$-$mes$-$dia$"}}],"returnTo":{"type":"VARIABLE","variableName":"endda"}},{"uid":"5b55e90f-25d7-4ec1-8fd5-68ac4a9a594d","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$vUltimoDiaMes$"}}],"returnTo":{"type":"VARIABLE","variableName":"endda"}},{"uid":"c7416db1-f25c-4b56-be48-777633af32ad","commandName":"messageBox","packageName":"MessageBox","disabled":false,"attributes":[{"name":"title","value":{"type":"STRING","string":"Automation Anywhere Enterprise Client"}},{"name":"content","value":{"type":"STRING","expression":"$endda$"}},{"name":"scrollLines","value":{"type":"NUMBER","number":"30"}},{"name":"closeMsgBox","value":{"type":"BOOLEAN","boolean":true}},{"name":"timeOut","value":{"type":"NUMBER","number":"1"}}]},{"uid":"3e4e1ff0-08d8-452d-9510-d6dbe041718b","commandName":"if","packageName":"If","disabled":false,"children":[{"uid":"a1a2990a-9957-4c95-8e54-5b546f9e492b","commandName":"try","packageName":"ErrorHandler","disabled":false,"children":[{"uid":"65dbe811-0871-42cf-b5e6-86f15bf0645d","commandName":"restGet","packageName":"Rest","disabled":false,"attributes":[{"name":"uriOption","value":{"type":"STRING","string":"text"}},{"name":"uri","value":{"type":"STRING","expression":"https://sap-erp-prd-1.bancardnet.dom:44300/sap/bc/zopenitems?sap-client=400&entrada={\"gEsCabecera\":{\"mandt\":\"400\",\"bukrs\":\"$fbl3nSociedad$\",\"begda\":\"$begda$\",\"endda\":\"$endda$\"},\"gTiDetalle\":[{\"saknr\":\"$cuentaPagadora$\"},{\"saknr\":\"$cuentaCobradora$\"}]}"}},{"name":"proxyType","value":{"type":"STRING","string":"SYSTEM"}},{"name":"authenticationMode","value":{"type":"STRING","string":"Basic"}},{"name":"basicUserName","value":{"type":"CREDENTIAL","credential":{"name":"RPA 4","lockerName":"SAP PASS","attributeName":"RPA4 ID"}}},{"name":"basicPassword","value":{"type":"CREDENTIAL","credential":{"name":"RPA 4","lockerName":"SAP PASS","attributeName":"RPA4 PASS"}}},{"name":"captureFailureResponse","value":{"type":"BOOLEAN","boolean":true}},{"name":"allowInsecureConnection","value":{"type":"BOOLEAN","boolean":false}},{"name":"timeOut","value":{"type":"NUMBER","number":"180000"}}],"returnTo":{"type":"VARIABLE","variableName":"Rest-Response-Assignment"}}],"branches":[{"uid":"78696e14-73ef-4a51-923d-8316f3ce3e22","commandName":"catch","packageName":"ErrorHandler","disabled":false,"children":[{"uid":"32aa05fd-55a3-4a9c-a5ba-1540aeae004e","commandName":"logToFile","packageName":"LogToFile","disabled":false,"attributes":[{"name":"filePath","value":{"type":"FILE","expression":"file://$logFile$"}},{"name":"logContent","value":{"type":"STRING","expression":"TIME OUT ----> FBL3N: Pagadora: $cuentaPagadora$ - Cobradora: $cuentaCobradora$ -Sociedad: $fbl3nSociedad$"}},{"name":"appendTimestamp","value":{"type":"BOOLEAN","boolean":true}},{"name":"logOption","value":{"type":"STRING","string":"APPEND_FILE"}},{"name":"encodingValue","value":{"type":"STRING","string":"ANSI"}}]}],"attributes":[{"name":"exceptionType","value":{"type":"EXCEPTION","exceptionName":"BotException","packageName":"ErrorHandler"}},{"name":"continueOnError","value":{"type":"BOOLEAN","boolean":true}}]}]},{"uid":"3126298d-7954-4570-aad7-5addcc9e544f","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$Rest-Response-Assignment{Body}$"}}],"returnTo":{"type":"VARIABLE","variableName":"responseSAP"}},{"uid":"83645226-cc6c-4e79-8d3f-812294f75763","commandName":"messageBox","packageName":"MessageBox","disabled":true,"attributes":[{"name":"title","value":{"type":"STRING","string":"Automation Anywhere Enterprise Client"}},{"name":"content","value":{"type":"STRING","expression":"$responseSAP$"}},{"name":"scrollLines","value":{"type":"NUMBER","number":"30"}},{"name":"closeMsgBox","value":{"type":"BOOLEAN","boolean":false}}]}],"branches":[{"uid":"fe343533-b3df-4b3a-b7fb-f29d0c2c5905","commandName":"else","packageName":"If","disabled":false,"children":[{"uid":"9d8e0e50-9386-4cd5-87db-8c25ebf91d7a","commandName":"restGet","packageName":"Rest","disabled":false,"attributes":[{"name":"uriOption","value":{"type":"STRING","string":"text"}},{"name":"uri","value":{"type":"STRING","expression":"https://sap-qas-des-1.bancardnet.dom:44300/sap/bc/zopenitems?sap-client=150&entrada={\"gEsCabecera\":{\"mandt\":\"150\",\"bukrs\":\"$fbl3nSociedad$\",\"begda\":\"$begda$\",\"endda\":\"$endda$\"},\"gTiDetalle\":[{\"saknr\":\"$cuentaPagadora$\"},{\"saknr\":\"$cuentaCobradora$\"}]}"}},{"name":"proxyType","value":{"type":"STRING","string":"SYSTEM"}},{"name":"authenticationMode","value":{"type":"STRING","string":"Basic"}},{"name":"basicUserName","value":{"type":"CREDENTIAL","credential":{"name":"RPA 4","lockerName":"SAP PASS","attributeName":"RPA4 ID"}}},{"name":"basicPassword","value":{"type":"CREDENTIAL","credential":{"name":"RPA 4","lockerName":"SAP PASS","attributeName":"RPA4 PASS"}}},{"name":"captureFailureResponse","value":{"type":"BOOLEAN","boolean":true}},{"name":"allowInsecureConnection","value":{"type":"BOOLEAN","boolean":false}},{"name":"timeOut","value":{"type":"NUMBER","expression":"$@AARestTimeOut$"}}],"returnTo":{"type":"VARIABLE","variableName":"Rest-Response-Assignment"}},{"uid":"b42246b8-aaff-43ef-8bfe-442c28297eb9","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$Rest-Response-Assignment{Body}$"}}],"returnTo":{"type":"VARIABLE","variableName":"responseSAP"}}]}],"attributes":[{"attributes":[{"name":"variable","value":{"type":"STRING","expression":"$entorno$"}},{"name":"operator","value":{"type":"STRING","string":"EQ"}},{"name":"value","value":{"type":"STRING","string":"PRD"}},{"name":"matchCase","value":{"type":"BOOLEAN","boolean":true}},{"name":"isIgnoreCarriage","value":{"type":"BOOLEAN","boolean":false}}],"name":"condition","value":{"type":"CONDITIONAL","conditionalName":"stringVariable","packageName":"String"}}]},{"uid":"e48ef490-b0fc-44ef-8f93-5aa6a2d9d4a1","commandName":"step","packageName":"Step","disabled":false,"children":[{"uid":"839c8ae6-f16b-4884-b8ed-919dacab5dde","commandName":"runTask","packageName":"TaskBot","disabled":false,"attributes":[{"name":"taskbot","value":{"type":"TASKBOT","taskbotInput":{"type":"DICTIONARY","dictionary":[{"key":"jsonPartidasAbiertas","value":{"type":"STRING","expression":"$responseSAP$"}},{"key":"logFile","value":{"type":"STRING","expression":"$logFile$"}},{"key":"cuentaCobradora","value":{"type":"STRING","expression":"$cuentaCobradora$"}},{"key":"cuentaPagadora","value":{"type":"STRING","expression":"$cuentaPagadora$"}},{"key":"fbl3nSoc","value":{"type":"STRING","expression":"$fbl3nSociedad$"}},{"key":"fbl3nGrupo","value":{"type":"STRING","expression":"$fbl3nGrupo$"}}]},"taskbotFile":{"type":"FILE","string":"repository:///Automation%20Anywhere/Bots/My%20Tasks/Compensaciones%20bancarias/JSONtoBD"}}},{"name":"repeatOption","value":{"type":"STRING","string":"DO_NOT_REPEAT"}},{"name":"delayNextRepetition","value":{"type":"BOOLEAN","boolean":false}},{"name":"continueOnError","value":{"type":"BOOLEAN","boolean":false}}]},{"uid":"4c379676-94ba-40ce-9f9e-100b58ec11e1","commandName":"pauseTask","packageName":"TaskBot","disabled":true},{"uid":"aaa8de70-6898-4b7c-a236-350ae656dbc6","commandName":"loop.commands.continue","packageName":"Loop","disabled":true,"attributes":[]}],"attributes":[{"name":"title","value":{"type":"STRING","string":"Cargar partidas a la BD"}}]}],"attributes":[{"name":"title","value":{"type":"STRING","string":"Partidas abiertas de SAP"}}]},{"uid":"b97bdab7-c499-4915-a1b6-f9a3e56655bd","commandName":"step","packageName":"Step","disabled":false,"children":[{"uid":"543b738d-b48f-44bc-93a0-fd7f1078c51d","commandName":"messageBox","packageName":"MessageBox","disabled":true,"attributes":[{"name":"title","value":{"type":"STRING","string":"Automation Anywhere Enterprise Client"}},{"name":"content","value":{"type":"STRING","expression":"SELECT * \nFROM reglas_bancarias \nWHERE \"Cuenta Pagadora\" = '$cuentaPagadora$' \n    AND \"Cuenta Cobradora\" = '$cuentaCobradora$' \n    AND Soc = '$fbl3nSociedad$' \n    AND Grupo = 'D02_U' \n    AND \"ESTADO\" = 'ACTIVADO';"}},{"name":"scrollLines","value":{"type":"NUMBER","number":"30"}},{"name":"closeMsgBox","value":{"type":"BOOLEAN","boolean":false}}]},{"uid":"cef47928-4baa-4977-b869-d19d2987aa2b","commandName":"sqlQuery","packageName":"Database","disabled":false,"attributes":[{"name":"query","value":{"type":"STRING","expression":"SELECT * \nFROM reglas_bancarias \nWHERE \"Cuenta Pagadora\" = '$cuentaPagadora$' \n    AND \"Cuenta Cobradora\" = '$cuentaCobradora$' \n    AND Soc = '$fbl3nSociedad$' \n    AND Grupo = 'D02_U' \n    AND \"ESTADO\" = 'ACTIVADO';"}},{"name":"timeOut","value":{"type":"NUMBER","number":"6000"}},{"name":"doExport","value":{"type":"BOOLEAN","boolean":false}},{"name":"session","value":{"type":"SESSION","sessionName":{"type":"STRING","string":"reglasBancarias"}}}]},{"uid":"365bdcf9-6137-4dda-8ac0-d7f40d2193ed","commandName":"loop.commands.start","packageName":"Loop","disabled":false,"children":[{"uid":"b43ff446-29a6-4b7a-9a18-96edd6b024e4","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","string":""}}],"returnTo":{"type":"VARIABLE","variableName":"detailString"}},{"uid":"1784dc76-274c-4522-a57d-41ef1ba3452c","commandName":"logToFile","packageName":"LogToFile","disabled":false,"attributes":[{"name":"filePath","value":{"type":"FILE","expression":"file://$logFile$"}},{"name":"logContent","value":{"type":"STRING","string":"Vacía la tabla de compensados."}},{"name":"appendTimestamp","value":{"type":"BOOLEAN","boolean":true}},{"name":"logOption","value":{"type":"STRING","string":"APPEND_FILE"}},{"name":"encodingValue","value":{"type":"STRING","string":"ANSI"}}]},{"uid":"8f63ccf9-7477-4ac6-b0f0-78255b072bcc","commandName":"insertUpdateDelete","packageName":"Database","disabled":false,"attributes":[{"name":"query","value":{"type":"STRING","string":"truncate table compensados;"}},{"name":"session","value":{"type":"SESSION","sessionName":{"type":"STRING","string":"reglasBancarias"}}}]},{"uid":"26522a12-057b-4fbf-a290-62e5e295265f","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$filaReglasBancarias[1]$"}}],"returnTo":{"type":"VARIABLE","variableName":"entidad"}},{"uid":"f62c3f1c-e4ca-4e67-9506-7137a7559dfa","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$filaReglasBancarias[5]$"}}],"returnTo":{"type":"VARIABLE","variableName":"tipoDoc_A"}},{"uid":"09037699-2192-4d37-9b45-a2746150ed70","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$filaReglasBancarias[6]$"}}],"returnTo":{"type":"VARIABLE","variableName":"tipoDoc_B"}},{"uid":"fdbf6bd5-ba29-493d-a053-02e99347d642","commandName":"messageBox","packageName":"MessageBox","disabled":true,"attributes":[{"name":"title","value":{"type":"STRING","string":"Automation Anywhere Enterprise Client"}},{"name":"content","value":{"type":"STRING","expression":"Entidad: $entidad$\ndoc A: $tipoDoc_A$\ndoc B: $tipoDoc_B$"}},{"name":"scrollLines","value":{"type":"NUMBER","number":"30"}},{"name":"closeMsgBox","value":{"type":"BOOLEAN","boolean":false}}]},{"uid":"824c1fcb-24e8-4df0-b288-45f56b5deab0","commandName":"if","packageName":"If","disabled":true,"children":[{"uid":"93485733-0a5c-4de1-99a3-9c0f5f275c91","commandName":"loop.commands.continue","packageName":"Loop","disabled":false,"attributes":[]}],"branches":[],"attributes":[{"attributes":[{"name":"variable","value":{"type":"STRING","expression":"$tipoDoc_B$"}},{"name":"operator","value":{"type":"STRING","string":"NOTINCLUDE"}},{"name":"value","value":{"type":"STRING","string":"TS"}},{"name":"matchCase","value":{"type":"BOOLEAN","boolean":false}},{"name":"isIgnoreCarriage","value":{"type":"BOOLEAN","boolean":false}}],"name":"condition","value":{"type":"CONDITIONAL","conditionalName":"stringVariable","packageName":"String"}}]},{"uid":"8bf21e29-f0ba-4320-a8c1-d2255debeda3","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$filaReglasBancarias[9]$"}}],"returnTo":{"type":"VARIABLE","variableName":"textoTipoDoc_A_1"}},{"uid":"fff0378f-43fe-4414-a374-cce0d26575b0","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$filaReglasBancarias[10]$"}}],"returnTo":{"type":"VARIABLE","variableName":"textoTipoDoc_A_2"}},{"uid":"6c560587-fb7e-475b-9530-4e633fc77b95","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$filaReglasBancarias[11]$"}}],"returnTo":{"type":"VARIABLE","variableName":"textoTipoDoc_B_1"}},{"uid":"61659147-be34-4c52-b29e-0451546810b9","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$filaReglasBancarias[12]$"}}],"returnTo":{"type":"VARIABLE","variableName":"textoTipoDoc_B_2"}},{"uid":"0eba08b5-559c-4db9-bfa4-94bcfb41f4b8","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$filaReglasBancarias[16]$"}}],"returnTo":{"type":"VARIABLE","variableName":"claseDocGenerar"}},{"uid":"345bf940-bd70-447e-bd89-3e84e24d3349","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$filaReglasBancarias[17]$"}}],"returnTo":{"type":"VARIABLE","variableName":"limRedondeo"}},{"uid":"cbbf56ba-e319-4a8f-97bc-88604a3c22bc","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$filaReglasBancarias[18]$"}}],"returnTo":{"type":"VARIABLE","variableName":"dejarSaldo"}},{"uid":"5f417806-efad-4c1d-96e5-e4b1b70af7fd","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$filaReglasBancarias[19]$"}}],"returnTo":{"type":"VARIABLE","variableName":"textoSaldo"}},{"uid":"fe96eecb-fd14-4510-8e7c-17b9bbf40cf1","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$filaReglasBancarias[20]$"}}],"returnTo":{"type":"VARIABLE","variableName":"retardoTipoDoc_A"}},{"uid":"a9a3218b-bcef-4f7e-82ba-a98796f2cca1","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$filaReglasBancarias[21]$"}}],"returnTo":{"type":"VARIABLE","variableName":"retardoTipoDoc_B"}},{"uid":"f8e093b3-f488-4975-80cb-a73524bc414a","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$filaReglasBancarias[24]$"}}],"returnTo":{"type":"VARIABLE","variableName":"retardoHabil"}},{"uid":"729ade65-3410-4cc1-97b3-1a6ff9dec522","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$filaReglasBancarias[25]$"}}],"returnTo":{"type":"VARIABLE","variableName":"trasladarCompensar"}},{"uid":"3c711817-2af4-44d0-98d5-77092e219b16","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$filaReglasBancarias[27]$"}}],"returnTo":{"type":"VARIABLE","variableName":"idRegla"}},{"uid":"e9cf092e-6ec1-4712-b9de-92aaae28005d","commandName":"logToFile","packageName":"LogToFile","disabled":false,"attributes":[{"name":"filePath","value":{"type":"FILE","expression":"file://$logFile$"}},{"name":"logContent","value":{"type":"STRING","expression":"ID REGLA: $idRegla$\nRetardo i: $retardoTipoDoc_A$\nRetardo j: $retardoTipoDoc_B$"}},{"name":"appendTimestamp","value":{"type":"BOOLEAN","boolean":true}},{"name":"logOption","value":{"type":"STRING","string":"APPEND_FILE"}},{"name":"encodingValue","value":{"type":"STRING","string":"ANSI"}}]},{"uid":"54a8bd05-68bc-4b96-8c08-d0d5c1317637","commandName":"if","packageName":"If","disabled":false,"children":[{"uid":"d5749312-3416-48ff-9afa-2e39af678c05","commandName":"runTask","packageName":"TaskBot","disabled":false,"attributes":[{"name":"taskbot","value":{"type":"TASKBOT","taskbotInput":{"type":"DICTIONARY","dictionary":[{"key":"cantDiasRetardo","value":{"type":"STRING","expression":"$retardoTipoDoc_A$"}},{"key":"retardoHabil","value":{"type":"STRING","expression":"$retardoHabil$"}},{"key":"tipoDoc","value":{"type":"STRING","expression":"$tipoDoc_A$"}},{"key":"claseDoc","value":{"type":"STRING","string":"\"_Clase_i_\""}}]},"taskbotFile":{"type":"FILE","string":"repository:///Automation%20Anywhere/Bots/My%20Tasks/Compensaciones%20bancarias/Metabots/Retardo"}}},{"name":"repeatOption","value":{"type":"STRING","string":"DO_NOT_REPEAT"}},{"name":"delayNextRepetition","value":{"type":"BOOLEAN","boolean":false}},{"name":"continueOnError","value":{"type":"BOOLEAN","boolean":false}}]}],"branches":[],"attributes":[{"attributes":[{"name":"variable","value":{"type":"STRING","expression":"$retardoTipoDoc_A$"}},{"name":"operator","value":{"type":"STRING","string":"GreaterThan"}},{"name":"value","value":{"type":"STRING","string":"0"}}],"name":"condition","value":{"type":"CONDITIONAL","conditionalName":"legacyConditionVariable","packageName":"LegacyAutomation"}}]},{"uid":"b2a2ec95-371d-438c-bce2-5e01978b8e69","commandName":"if","packageName":"If","disabled":false,"children":[{"uid":"ad38c2b1-1df1-4dd8-98d0-0849f8675429","commandName":"runTask","packageName":"TaskBot","disabled":false,"attributes":[{"name":"taskbot","value":{"type":"TASKBOT","taskbotInput":{"type":"DICTIONARY","dictionary":[{"key":"cantDiasRetardo","value":{"type":"STRING","expression":"$retardoTipoDoc_B$"}},{"key":"retardoHabil","value":{"type":"STRING","expression":"$retardoHabil$"}},{"key":"tipoDoc","value":{"type":"STRING","expression":"$tipoDoc_B$"}},{"key":"claseDoc","value":{"type":"STRING","string":"\"_Clase_j_\""}}]},"taskbotFile":{"type":"FILE","string":"repository:///Automation%20Anywhere/Bots/My%20Tasks/Compensaciones%20bancarias/Metabots/Retardo"}}},{"name":"repeatOption","value":{"type":"STRING","string":"DO_NOT_REPEAT"}},{"name":"delayNextRepetition","value":{"type":"BOOLEAN","boolean":false}},{"name":"continueOnError","value":{"type":"BOOLEAN","boolean":false}}]}],"branches":[],"attributes":[{"attributes":[{"name":"variable","value":{"type":"STRING","expression":"$retardoTipoDoc_B$"}},{"name":"operator","value":{"type":"STRING","string":"GreaterThan"}},{"name":"value","value":{"type":"STRING","string":"0"}}],"name":"condition","value":{"type":"CONDITIONAL","conditionalName":"legacyConditionVariable","packageName":"LegacyAutomation"}}]},{"uid":"4260f117-bac2-4151-bf2a-b170e6cb2640","commandName":"step","packageName":"Step","disabled":false,"children":[{"uid":"e21e1ecd-ec90-4be6-be1c-4d08ca56bd3b","commandName":"if","packageName":"If","disabled":false,"children":[{"uid":"ab073e6e-f89d-4c08-aa8e-6af5e5614bb8","commandName":"messageBox","packageName":"MessageBox","disabled":true,"attributes":[{"name":"title","value":{"type":"STRING","string":"Automation Anywhere Enterprise Client"}},{"name":"content","value":{"type":"STRING","string":"importe"}},{"name":"scrollLines","value":{"type":"NUMBER","number":"30"}},{"name":"closeMsgBox","value":{"type":"BOOLEAN","boolean":false}}]},{"uid":"ed762fe2-6e8c-4049-bdb3-e6ca6bcf820e","commandName":"logToFile","packageName":"LogToFile","disabled":true,"attributes":[{"name":"filePath","value":{"type":"FILE","expression":"file://$logFile$"}},{"name":"logContent","value":{"type":"STRING","expression":"INSERT INTO compensados\nSELECT saknr, blart, bldat, budat, azbet, dmbtr, sgtxt, belnr, azwae, hwaer, buzei, gjahr, compensado, record_id, signo\nFROM (\n    SELECT\n        A.*,\n        ROW_NUMBER() OVER (PARTITION BY A.dmbtr ORDER BY A.dmbtr, A.blart) AS row_num\n    FROM\n        pa_bancarias A\n    JOIN pa_bancarias B ON\n        (A.sgtxt LIKE '$textoTipoDoc_A_1$%' OR A.sgtxt LIKE '$textoTipoDoc_A_2$%')\n        AND (B.sgtxt LIKE '$textoTipoDoc_B_1$%' OR B.sgtxt LIKE '$textoTipoDoc_B_2$%')\n        AND ((A.blart = '$tipoDoc_A$' AND B.blart = '$tipoDoc_B$') OR (A.blart = '$tipoDoc_B$' AND B.blart = '$tipoDoc_A$'))\n    WHERE\n        A.record_id <> B.record_id\n        AND A.signo <> B.signo\n        AND ABS(A.dmbtr - B.dmbtr) <= 0\n        AND A.compensado = false\n        AND B.compensado = false\n) AS CompensacionesA\nWHERE row_num = 1\nUNION\nSELECT saknr, blart, bldat, budat, azbet, dmbtr, sgtxt, belnr, azwae, hwaer, buzei, gjahr, compensado, record_id, signo\nFROM (\n    SELECT\n        B.*,\n        ROW_NUMBER() OVER (PARTITION BY A.dmbtr ORDER BY A.dmbtr, A.blart) AS row_num\n    FROM\n        pa_bancarias B\n    JOIN pa_bancarias A ON\n       (A.sgtxt LIKE '$textoTipoDoc_A_1$%' OR A.sgtxt LIKE '$textoTipoDoc_A_2$%')\n        AND (B.sgtxt LIKE '$textoTipoDoc_B_1$%' OR B.sgtxt LIKE '$textoTipoDoc_B_2$%')\n        AND ((A.blart = '$tipoDoc_A$' AND B.blart = '$tipoDoc_B$') OR (A.blart = '$tipoDoc_B$' AND B.blart = '$tipoDoc_A$'))\n    WHERE\n        A.record_id <> B.record_id\n        AND A.signo <> B.signo\n        AND ABS(A.dmbtr - B.dmbtr) <= 0\n        AND A.compensado = false\n        AND B.compensado = false\n) AS CompensacionesB\nWHERE row_num = 1\norder by dmbtr, blart;"}},{"name":"appendTimestamp","value":{"type":"BOOLEAN","boolean":true}},{"name":"logOption","value":{"type":"STRING","string":"APPEND_FILE"}},{"name":"encodingValue","value":{"type":"STRING","string":"ANSI"}}]},{"uid":"85178093-c219-4488-a6e0-1efb04edb390","commandName":"messageBox","packageName":"MessageBox","disabled":true,"attributes":[{"name":"title","value":{"type":"STRING","string":"Automation Anywhere Enterprise Client"}},{"name":"content","value":{"type":"STRING","expression":"INSERT INTO compensados\nSELECT saknr, blart, bldat, budat, azbet, dmbtr, sgtxt, belnr, azwae, hwaer, buzei, gjahr, compensado, record_id, signo\nFROM (\n    SELECT\n        A.*,\n        ROW_NUMBER() OVER (PARTITION BY A.dmbtr ORDER BY A.dmbtr, A.blart) AS row_num\n    FROM\n        pa_bancarias A\n    JOIN pa_bancarias B ON\n        (A.sgtxt LIKE '%$textoTipoDoc_A_1$%' OR A.sgtxt LIKE '%$textoTipoDoc_A_2$%')\n        AND (B.sgtxt LIKE '%$textoTipoDoc_B_1$%' OR B.sgtxt LIKE '%$textoTipoDoc_B_2$%')\n        AND ((A.blart = '$tipoDoc_A$' AND B.blart = '$tipoDoc_B$') OR (A.blart = '$tipoDoc_B$' AND B.blart = '$tipoDoc_A$'))\n    WHERE\n        A.record_id <> B.record_id\n        AND A.signo <> B.signo\n        AND ABS(A.dmbtr - B.dmbtr) <= 0\n        AND A.compensado = false\n        AND B.compensado = false\n) AS CompensacionesA\nWHERE row_num = 1\nUNION\nSELECT saknr, blart, bldat, budat, azbet, dmbtr, sgtxt, belnr, azwae, hwaer, buzei, gjahr, compensado, record_id, signo\nFROM (\n    SELECT\n        B.*,\n        ROW_NUMBER() OVER (PARTITION BY A.dmbtr ORDER BY A.dmbtr, A.blart) AS row_num\n    FROM\n        pa_bancarias B\n    JOIN pa_bancarias A ON\n       (A.sgtxt LIKE '%$textoTipoDoc_A_1$%' OR A.sgtxt LIKE '%$textoTipoDoc_A_2$%')\n        AND (B.sgtxt LIKE '%$textoTipoDoc_B_1$%' OR B.sgtxt LIKE '%$textoTipoDoc_B_2$%')\n        AND ((A.blart = '$tipoDoc_A$' AND B.blart = '$tipoDoc_B$') OR (A.blart = '$tipoDoc_B$' AND B.blart = '$tipoDoc_A$'))\n    WHERE\n        A.record_id <> B.record_id\n        AND A.signo <> B.signo\n        AND ABS(A.dmbtr - B.dmbtr) <= 0\n        AND A.compensado = false\n        AND B.compensado = false\n) AS CompensacionesB\nWHERE row_num = 1\norder by dmbtr, blart;"}},{"name":"scrollLines","value":{"type":"NUMBER","number":"30"}},{"name":"closeMsgBox","value":{"type":"BOOLEAN","boolean":false}}]},{"uid":"73237c99-d4fc-4885-8ba0-283f0713b526","commandName":"logToFile","packageName":"LogToFile","disabled":false,"attributes":[{"name":"filePath","value":{"type":"FILE","string":"file:///C:/Users/rpacloud_des2/Desktop/Querango.txt"}},{"name":"logContent","value":{"type":"STRING","expression":"INSERT INTO compensados\nSELECT saknr, blart, bldat, budat, azbet, dmbtr, sgtxt, belnr, azwae, hwaer, buzei, gjahr, compensado, record_id, signo\nFROM (\n    SELECT\n        A.*,\n        ROW_NUMBER() OVER (PARTITION BY A.azbet ORDER BY A.azbet, A.blart) AS row_num\n    FROM\n        pa_bancarias A\n    JOIN pa_bancarias B ON\n        (A.sgtxt LIKE '%$textoTipoDoc_A_1$%' OR A.sgtxt LIKE '%$textoTipoDoc_A_2$%')\n        AND (B.sgtxt LIKE '%$textoTipoDoc_B_1$%' OR B.sgtxt LIKE '%$textoTipoDoc_B_2$%')\n        AND ((A.blart = '$tipoDoc_A$' AND B.blart = '$tipoDoc_B$') OR (A.blart = '$tipoDoc_B$' AND B.blart = '$tipoDoc_A$'))\n    WHERE\n        A.record_id <> B.record_id\n        AND A.signo <> B.signo\n        AND ABS(cast(REPLACE(REPLACE(A.azbet, '.', ''), ',', '.') as numeric) - cast(REPLACE(REPLACE(B.azbet, '.', ''), ',', '.') as numeric)) <= 0\n        AND A.compensado = false\n        AND B.compensado = false\n) AS CompensacionesA\nWHERE row_num = 1\nUNION\nSELECT saknr, blart, bldat, budat, azbet, dmbtr, sgtxt, belnr, azwae, hwaer, buzei, gjahr, compensado, record_id, signo\nFROM (\n    SELECT\n        B.*,\n        ROW_NUMBER() OVER (PARTITION BY A.azbet ORDER BY A.azbet, A.blart) AS row_num\n    FROM\n        pa_bancarias B\n    JOIN pa_bancarias A ON\n       (A.sgtxt LIKE '%$textoTipoDoc_A_1$%' OR A.sgtxt LIKE '%$textoTipoDoc_A_2$%')\n        AND (B.sgtxt LIKE '%$textoTipoDoc_B_1$%' OR B.sgtxt LIKE '%$textoTipoDoc_B_2$%')\n        AND ((A.blart = '$tipoDoc_A$' AND B.blart = '$tipoDoc_B$') OR (A.blart = '$tipoDoc_B$' AND B.blart = '$tipoDoc_A$'))\n    WHERE\n        A.record_id <> B.record_id\n        AND A.signo <> B.signo\n        AND ABS(cast(REPLACE(REPLACE(A.azbet, '.', ''), ',', '.') as numeric) - cast(REPLACE(REPLACE(B.azbet, '.', ''), ',', '.') as numeric)) <= 0\n        AND A.compensado = false\n        AND B.compensado = false\n) AS CompensacionesB\nWHERE row_num = 1\norder by azbet, blart;"}},{"name":"appendTimestamp","value":{"type":"BOOLEAN","boolean":true}},{"name":"logOption","value":{"type":"STRING","string":"OVERWRITE_FILE"}},{"name":"encodingValue","value":{"type":"STRING","string":"ANSI"}}]},{"uid":"38752c85-5521-4045-b5bf-e5a650ead975","commandName":"insertUpdateDelete","packageName":"Database","disabled":false,"attributes":[{"name":"query","value":{"type":"STRING","expression":"INSERT INTO compensados\nSELECT saknr, blart, bldat, budat, azbet, dmbtr, sgtxt, belnr, azwae, hwaer, buzei, gjahr, compensado, record_id, signo\nFROM (\n    SELECT\n        A.*,\n        ROW_NUMBER() OVER (PARTITION BY A.azbet ORDER BY A.azbet, A.blart) AS row_num\n    FROM\n        pa_bancarias A\n    JOIN pa_bancarias B ON\n        (A.sgtxt LIKE '%$textoTipoDoc_A_1$%' OR A.sgtxt LIKE '%$textoTipoDoc_A_2$%')\n        AND (B.sgtxt LIKE '%$textoTipoDoc_B_1$%' OR B.sgtxt LIKE '%$textoTipoDoc_B_2$%')\n        AND ((A.blart = '$tipoDoc_A$' AND B.blart = '$tipoDoc_B$') OR (A.blart = '$tipoDoc_B$' AND B.blart = '$tipoDoc_A$'))\n    WHERE\n        A.record_id <> B.record_id\n        AND A.signo <> B.signo\n        AND ABS(cast(REPLACE(REPLACE(A.azbet, '.', ''), ',', '.') as numeric) - cast(REPLACE(REPLACE(B.azbet, '.', ''), ',', '.') as numeric)) <= 0\n        AND A.compensado = false\n        AND B.compensado = false\n) AS CompensacionesA\nWHERE row_num = 1\nUNION\nSELECT saknr, blart, bldat, budat, azbet, dmbtr, sgtxt, belnr, azwae, hwaer, buzei, gjahr, compensado, record_id, signo\nFROM (\n    SELECT\n        B.*,\n        ROW_NUMBER() OVER (PARTITION BY A.azbet ORDER BY A.azbet, A.blart) AS row_num\n    FROM\n        pa_bancarias B\n    JOIN pa_bancarias A ON\n       (A.sgtxt LIKE '%$textoTipoDoc_A_1$%' OR A.sgtxt LIKE '%$textoTipoDoc_A_2$%')\n        AND (B.sgtxt LIKE '%$textoTipoDoc_B_1$%' OR B.sgtxt LIKE '%$textoTipoDoc_B_2$%')\n        AND ((A.blart = '$tipoDoc_A$' AND B.blart = '$tipoDoc_B$') OR (A.blart = '$tipoDoc_B$' AND B.blart = '$tipoDoc_A$'))\n    WHERE\n        A.record_id <> B.record_id\n        AND A.signo <> B.signo\n        AND ABS(cast(REPLACE(REPLACE(A.azbet, '.', ''), ',', '.') as numeric) - cast(REPLACE(REPLACE(B.azbet, '.', ''), ',', '.') as numeric)) <= 0\n        AND A.compensado = false\n        AND B.compensado = false\n) AS CompensacionesB\nWHERE row_num = 1\norder by azbet, blart;"}},{"name":"timeOut","value":{"type":"NUMBER","number":"9999"}},{"name":"session","value":{"type":"SESSION","sessionName":{"type":"STRING","string":"CompensacionQuery"}}}]},{"uid":"61d131f3-1314-4d49-85f6-91a385830679","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"INSERT INTO compensadosSELECT saknr, blart, bldat, budat, azbet, dmbtr, sgtxt, belnr, azwae, hwaer, buzei, gjahr, compensado, record_id, signoFROM (    SELECT        A.*,        ROW_NUMBER() OVER (PARTITION BY A.azbet ORDER BY A.azbet, A.blart) AS row_num    FROM        pa_bancarias A    JOIN pa_bancarias B ON        (A.sgtxt LIKE '%$textoTipoDoc_A_1$%' OR A.sgtxt LIKE '%$textoTipoDoc_A_2$%')        AND (B.sgtxt LIKE '%$textoTipoDoc_B_1$%' OR B.sgtxt LIKE '%$textoTipoDoc_B_2$%')        AND ((A.blart = '$tipoDoc_A$' AND B.blart = '$tipoDoc_B$') OR (A.blart = '$tipoDoc_B$' AND B.blart = '$tipoDoc_A$'))    WHERE        A.record_id <> B.record_id        AND A.signo <> B.signo        AND ABS(cast(REPLACE(REPLACE(A.azbet, '.', ''), ',', '.') as numeric) - cast(REPLACE(REPLACE(B.azbet, '.', ''), ',', '.') as numeric)) <= 0        AND A.compensado = false        AND B.compensado = false) AS CompensacionesAWHERE row_num = 1UNIONSELECT saknr, blart, bldat, budat, azbet, dmbtr, sgtxt, belnr, azwae, hwaer, buzei, gjahr, compensado, record_id, signoFROM (    SELECT        B.*,        ROW_NUMBER() OVER (PARTITION BY A.azbet ORDER BY A.azbet, A.blart) AS row_num    FROM        pa_bancarias B    JOIN pa_bancarias A ON       (A.sgtxt LIKE '%$textoTipoDoc_A_1$%' OR A.sgtxt LIKE '%$textoTipoDoc_A_2$%')        AND (B.sgtxt LIKE '%$textoTipoDoc_B_1$%' OR B.sgtxt LIKE '%$textoTipoDoc_B_2$%')        AND ((A.blart = '$tipoDoc_A$' AND B.blart = '$tipoDoc_B$') OR (A.blart = '$tipoDoc_B$' AND B.blart = '$tipoDoc_A$'))    WHERE        A.record_id <> B.record_id        AND A.signo <> B.signo        AND ABS(cast(REPLACE(REPLACE(A.azbet, '.', ''), ',', '.') as numeric) - cast(REPLACE(REPLACE(B.azbet, '.', ''), ',', '.') as numeric)) <= 0        AND A.compensado = false        AND B.compensado = false) AS CompensacionesBWHERE row_num = 1order by azbet, blart;"}}],"returnTo":{"type":"VARIABLE","variableName":"query"}},{"uid":"1dc24f97-4b2d-40fa-afd5-8f987b7d607a","commandName":"runTask","packageName":"TaskBot","disabled":false,"attributes":[{"name":"taskbot","value":{"type":"TASKBOT","taskbotInput":{"type":"DICTIONARY","dictionary":[{"key":"dejarSaldo","value":{"type":"STRING","expression":"$dejarSaldo$"}},{"key":"limRedondeo","value":{"type":"STRING","expression":"$limRedondeo$"}},{"key":"claseDocGenerar","value":{"type":"STRING","expression":"$claseDocGenerar$"}},{"key":"trasladarCompensar","value":{"type":"STRING","expression":"$trasladarCompensar$"}},{"key":"textoSaldo","value":{"type":"STRING","expression":"$textoSaldo$"}}]},"taskbotFile":{"type":"FILE","string":"repository:///Automation%20Anywhere/Bots/My%20Tasks/Compensaciones%20bancarias/Metabots/FECHA%2BTEXTO_D02U"}}},{"name":"repeatOption","value":{"type":"STRING","string":"DO_NOT_REPEAT"}},{"name":"delayNextRepetition","value":{"type":"BOOLEAN","boolean":false}},{"name":"continueOnError","value":{"type":"BOOLEAN","boolean":false}}],"returnTo":{"type":"VARIABLE","variableName":"retornoCompensacion"}}],"branches":[],"attributes":[{"attributes":[{"name":"variable","value":{"type":"STRING","expression":"$idRegla$"}},{"name":"operator","value":{"type":"STRING","string":"EQ"}},{"name":"value","value":{"type":"STRING","string":"IMPORTE"}},{"name":"matchCase","value":{"type":"BOOLEAN","boolean":false}},{"name":"isIgnoreCarriage","value":{"type":"BOOLEAN","boolean":false}}],"name":"condition","value":{"type":"CONDITIONAL","conditionalName":"stringVariable","packageName":"String"}}]},{"uid":"f988d0c3-738b-4b0f-b9e1-c6b61ca62414","commandName":"if","packageName":"If","disabled":false,"children":[{"uid":"00cfbbd5-a69e-4ae4-be06-afec208d67e7","commandName":"messageBox","packageName":"MessageBox","disabled":true,"attributes":[{"name":"title","value":{"type":"STRING","string":"Automation Anywhere Enterprise Client"}},{"name":"content","value":{"type":"STRING","string":"importe+texto"}},{"name":"scrollLines","value":{"type":"NUMBER","number":"30"}},{"name":"closeMsgBox","value":{"type":"BOOLEAN","boolean":false}}]},{"uid":"723dd29a-42f3-4a29-8988-bd8f647cbc6e","commandName":"logToFile","packageName":"LogToFile","disabled":true,"attributes":[{"name":"filePath","value":{"type":"FILE","expression":"file://$logFile$"}},{"name":"logContent","value":{"type":"STRING","expression":"INSERT INTO compensados\nSELECT saknr, blart, bldat, budat, azbet, dmbtr, sgtxt, belnr, azwae, hwaer, buzei, gjahr, compensado, record_id, signo\nFROM (\n    SELECT\n        A.*,\n        ROW_NUMBER() OVER (PARTITION BY A.dmbtr ORDER BY A.dmbtr, A.blart) AS row_num\n    FROM\n        pa_bancarias A\n    JOIN pa_bancarias B ON\n        (A.sgtxt LIKE '$textoTipoDoc_A_1$%' OR A.sgtxt LIKE '$textoTipoDoc_A_2$%')\n        AND (B.sgtxt LIKE '$textoTipoDoc_B_1$%' OR B.sgtxt LIKE '$textoTipoDoc_B_2$%')\n        AND ((A.blart = '$tipoDoc_A$' AND B.blart = '$tipoDoc_B$') OR (A.blart = '$tipoDoc_B$' AND B.blart = '$tipoDoc_A$'))\n    WHERE\n        A.record_id <> B.record_id\n        AND A.signo <> B.signo\n        AND ABS(A.dmbtr - B.dmbtr) <= 0\n        AND A.compensado = false\n        AND B.compensado = false\n) AS CompensacionesA\nWHERE row_num = 1\nUNION\nSELECT saknr, blart, bldat, budat, azbet, dmbtr, sgtxt, belnr, azwae, hwaer, buzei, gjahr, compensado, record_id, signo\nFROM (\n    SELECT\n        B.*,\n        ROW_NUMBER() OVER (PARTITION BY A.dmbtr ORDER BY A.dmbtr, A.blart) AS row_num\n    FROM\n        pa_bancarias B\n    JOIN pa_bancarias A ON\n       (A.sgtxt LIKE '$textoTipoDoc_A_1$%' OR A.sgtxt LIKE '$textoTipoDoc_A_2$%')\n        AND (B.sgtxt LIKE '$textoTipoDoc_B_1$%' OR B.sgtxt LIKE '$textoTipoDoc_B_2$%')\n        AND ((A.blart = '$tipoDoc_A$' AND B.blart = '$tipoDoc_B$') OR (A.blart = '$tipoDoc_B$' AND B.blart = '$tipoDoc_A$'))\n    WHERE\n        A.record_id <> B.record_id\n        AND A.signo <> B.signo\n        AND ABS(A.dmbtr - B.dmbtr) <= 0\n        AND A.compensado = false\n        AND B.compensado = false\n) AS CompensacionesB\nWHERE row_num = 1\norder by dmbtr, blart;"}},{"name":"appendTimestamp","value":{"type":"BOOLEAN","boolean":true}},{"name":"logOption","value":{"type":"STRING","string":"APPEND_FILE"}},{"name":"encodingValue","value":{"type":"STRING","string":"ANSI"}}]},{"uid":"df59e2ef-2c49-4d59-9b05-2494c5fb583c","commandName":"messageBox","packageName":"MessageBox","disabled":true,"attributes":[{"name":"title","value":{"type":"STRING","string":"Automation Anywhere Enterprise Client"}},{"name":"content","value":{"type":"STRING","expression":"INSERT INTO compensados\nSELECT saknr, blart, bldat, budat, azbet, dmbtr, sgtxt, belnr, azwae, hwaer, buzei, gjahr, compensado, record_id, signo\nFROM (\n    SELECT\n        A.*,\n        ROW_NUMBER() OVER (PARTITION BY A.dmbtr ORDER BY A.dmbtr, A.blart) AS row_num\n    FROM\n        pa_bancarias A\n    JOIN pa_bancarias B ON\n        (A.sgtxt LIKE '%$textoTipoDoc_A_1$%' OR A.sgtxt LIKE '%$textoTipoDoc_A_2$%')\n        AND (B.sgtxt LIKE '%$textoTipoDoc_B_1$%' OR B.sgtxt LIKE '%$textoTipoDoc_B_2$%')\n        AND ((A.blart = '$tipoDoc_A$' AND B.blart = '$tipoDoc_B$') OR (A.blart = '$tipoDoc_B$' AND B.blart = '$tipoDoc_A$'))\n    WHERE\n        A.record_id <> B.record_id\n        AND A.signo <> B.signo\n        AND ABS(A.dmbtr - B.dmbtr) <= 0\n        AND A.compensado = false\n        AND B.compensado = false\n) AS CompensacionesA\nWHERE row_num = 1\nUNION\nSELECT saknr, blart, bldat, budat, azbet, dmbtr, sgtxt, belnr, azwae, hwaer, buzei, gjahr, compensado, record_id, signo\nFROM (\n    SELECT\n        B.*,\n        ROW_NUMBER() OVER (PARTITION BY A.dmbtr ORDER BY A.dmbtr, A.blart) AS row_num\n    FROM\n        pa_bancarias B\n    JOIN pa_bancarias A ON\n       (A.sgtxt LIKE '%$textoTipoDoc_A_1$%' OR A.sgtxt LIKE '%$textoTipoDoc_A_2$%')\n        AND (B.sgtxt LIKE '%$textoTipoDoc_B_1$%' OR B.sgtxt LIKE '%$textoTipoDoc_B_2$%')\n        AND ((A.blart = '$tipoDoc_A$' AND B.blart = '$tipoDoc_B$') OR (A.blart = '$tipoDoc_B$' AND B.blart = '$tipoDoc_A$'))\n    WHERE\n        A.record_id <> B.record_id\n        AND A.signo <> B.signo\n        AND ABS(A.dmbtr - B.dmbtr) <= 0\n        AND A.compensado = false\n        AND B.compensado = false\n) AS CompensacionesB\nWHERE row_num = 1\norder by dmbtr, blart;"}},{"name":"scrollLines","value":{"type":"NUMBER","number":"30"}},{"name":"closeMsgBox","value":{"type":"BOOLEAN","boolean":false}}]},{"uid":"8c01024a-f51b-4d1e-8dc7-49cc69754935","commandName":"logToFile","packageName":"LogToFile","disabled":false,"attributes":[{"name":"filePath","value":{"type":"FILE","string":"file:///C:/Users/rpacloud_des2/Desktop/Querango.txt"}},{"name":"logContent","value":{"type":"STRING","expression":"INSERT INTO compensados\nSELECT saknr, blart, bldat, budat, azbet, dmbtr, sgtxt, belnr, azwae, hwaer, buzei, gjahr, compensado, record_id, signo\nFROM (\n    SELECT\n        A.*,\n        ROW_NUMBER() OVER (PARTITION BY A.azbet ORDER BY A.azbet, A.blart) AS row_num\n    FROM\n        pa_bancarias A\n    JOIN pa_bancarias B ON\n        (A.sgtxt LIKE '%$textoTipoDoc_A_1$%' OR A.sgtxt LIKE '%$textoTipoDoc_A_2$%')\n        AND (B.sgtxt LIKE '%$textoTipoDoc_B_1$%' OR B.sgtxt LIKE '%$textoTipoDoc_B_2$%')\n        AND ((A.blart = '$tipoDoc_A$' AND B.blart = '$tipoDoc_B$') OR (A.blart = '$tipoDoc_B$' AND B.blart = '$tipoDoc_A$'))\n    WHERE\n        A.record_id <> B.record_id\n        AND A.signo <> B.signo\n        AND ABS(cast(REPLACE(REPLACE(A.azbet, '.', ''), ',', '.') as numeric) - cast(REPLACE(REPLACE(B.azbet, '.', ''), ',', '.') as numeric)) <= 0\n        AND A.compensado = false\n        AND B.compensado = false\n) AS CompensacionesA\nWHERE row_num = 1\nUNION\nSELECT saknr, blart, bldat, budat, azbet, dmbtr, sgtxt, belnr, azwae, hwaer, buzei, gjahr, compensado, record_id, signo\nFROM (\n    SELECT\n        B.*,\n        ROW_NUMBER() OVER (PARTITION BY A.azbet ORDER BY A.azbet, A.blart) AS row_num\n    FROM\n        pa_bancarias B\n    JOIN pa_bancarias A ON\n       (A.sgtxt LIKE '%$textoTipoDoc_A_1$%' OR A.sgtxt LIKE '%$textoTipoDoc_A_2$%')\n        AND (B.sgtxt LIKE '%$textoTipoDoc_B_1$%' OR B.sgtxt LIKE '%$textoTipoDoc_B_2$%')\n        AND ((A.blart = '$tipoDoc_A$' AND B.blart = '$tipoDoc_B$') OR (A.blart = '$tipoDoc_B$' AND B.blart = '$tipoDoc_A$'))\n    WHERE\n        A.record_id <> B.record_id\n        AND A.signo <> B.signo\n        AND ABS(cast(REPLACE(REPLACE(A.azbet, '.', ''), ',', '.') as numeric) - cast(REPLACE(REPLACE(B.azbet, '.', ''), ',', '.') as numeric)) <= 0\n        AND A.compensado = false\n        AND B.compensado = false\n) AS CompensacionesB\nWHERE row_num = 1\norder by azbet, blart;"}},{"name":"appendTimestamp","value":{"type":"BOOLEAN","boolean":true}},{"name":"logOption","value":{"type":"STRING","string":"OVERWRITE_FILE"}},{"name":"encodingValue","value":{"type":"STRING","string":"ANSI"}}]},{"uid":"e6193b7e-e4fa-4c66-8f63-042bc3e79f7b","commandName":"insertUpdateDelete","packageName":"Database","disabled":false,"attributes":[{"name":"query","value":{"type":"STRING","expression":"INSERT INTO compensados\nSELECT saknr, blart, bldat, budat, azbet, dmbtr, sgtxt, belnr, azwae, hwaer, buzei, gjahr, compensado, record_id, signo\nFROM (\n    SELECT\n        A.*,\n        ROW_NUMBER() OVER (PARTITION BY A.azbet ORDER BY A.azbet, A.blart) AS row_num\n    FROM\n        pa_bancarias A\n    JOIN pa_bancarias B ON\n        (A.sgtxt LIKE '%$textoTipoDoc_A_1$%' OR A.sgtxt LIKE '%$textoTipoDoc_A_2$%')\n        AND (B.sgtxt LIKE '%$textoTipoDoc_B_1$%' OR B.sgtxt LIKE '%$textoTipoDoc_B_2$%')\n        AND ((A.blart = '$tipoDoc_A$' AND B.blart = '$tipoDoc_B$') OR (A.blart = '$tipoDoc_B$' AND B.blart = '$tipoDoc_A$'))\n    WHERE\n        A.record_id <> B.record_id\n        AND A.signo <> B.signo\n        AND ABS(cast(REPLACE(REPLACE(A.azbet, '.', ''), ',', '.') as numeric) - cast(REPLACE(REPLACE(B.azbet, '.', ''), ',', '.') as numeric)) <= 0\n        AND A.compensado = false\n        AND B.compensado = false\n) AS CompensacionesA\nWHERE row_num = 1\nUNION\nSELECT saknr, blart, bldat, budat, azbet, dmbtr, sgtxt, belnr, azwae, hwaer, buzei, gjahr, compensado, record_id, signo\nFROM (\n    SELECT\n        B.*,\n        ROW_NUMBER() OVER (PARTITION BY A.azbet ORDER BY A.azbet, A.blart) AS row_num\n    FROM\n        pa_bancarias B\n    JOIN pa_bancarias A ON\n       (A.sgtxt LIKE '%$textoTipoDoc_A_1$%' OR A.sgtxt LIKE '%$textoTipoDoc_A_2$%')\n        AND (B.sgtxt LIKE '%$textoTipoDoc_B_1$%' OR B.sgtxt LIKE '%$textoTipoDoc_B_2$%')\n        AND ((A.blart = '$tipoDoc_A$' AND B.blart = '$tipoDoc_B$') OR (A.blart = '$tipoDoc_B$' AND B.blart = '$tipoDoc_A$'))\n    WHERE\n        A.record_id <> B.record_id\n        AND A.signo <> B.signo\n        AND ABS(cast(REPLACE(REPLACE(A.azbet, '.', ''), ',', '.') as numeric) - cast(REPLACE(REPLACE(B.azbet, '.', ''), ',', '.') as numeric)) <= 0\n        AND A.compensado = false\n        AND B.compensado = false\n) AS CompensacionesB\nWHERE row_num = 1\norder by azbet, blart;"}},{"name":"timeOut","value":{"type":"NUMBER","number":"9999"}},{"name":"session","value":{"type":"SESSION","sessionName":{"type":"STRING","string":"CompensacionQuery"}}}]},{"uid":"f3f82598-7c86-446d-a4bf-f17536a0ed4d","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"INSERT INTO compensadosSELECT saknr, blart, bldat, budat, azbet, dmbtr, sgtxt, belnr, azwae, hwaer, buzei, gjahr, compensado, record_id, signoFROM (    SELECT        A.*,        ROW_NUMBER() OVER (PARTITION BY A.azbet ORDER BY A.azbet, A.blart) AS row_num    FROM        pa_bancarias A    JOIN pa_bancarias B ON        (A.sgtxt LIKE '%$textoTipoDoc_A_1$%' OR A.sgtxt LIKE '%$textoTipoDoc_A_2$%')        AND (B.sgtxt LIKE '%$textoTipoDoc_B_1$%' OR B.sgtxt LIKE '%$textoTipoDoc_B_2$%')        AND ((A.blart = '$tipoDoc_A$' AND B.blart = '$tipoDoc_B$') OR (A.blart = '$tipoDoc_B$' AND B.blart = '$tipoDoc_A$'))    WHERE        A.record_id <> B.record_id        AND A.signo <> B.signo        AND ABS(cast(REPLACE(REPLACE(A.azbet, '.', ''), ',', '.') as numeric) - cast(REPLACE(REPLACE(B.azbet, '.', ''), ',', '.') as numeric)) <= 0        AND A.compensado = false        AND B.compensado = false) AS CompensacionesAWHERE row_num = 1UNIONSELECT saknr, blart, bldat, budat, azbet, dmbtr, sgtxt, belnr, azwae, hwaer, buzei, gjahr, compensado, record_id, signoFROM (    SELECT        B.*,        ROW_NUMBER() OVER (PARTITION BY A.azbet ORDER BY A.azbet, A.blart) AS row_num    FROM        pa_bancarias B    JOIN pa_bancarias A ON       (A.sgtxt LIKE '%$textoTipoDoc_A_1$%' OR A.sgtxt LIKE '%$textoTipoDoc_A_2$%')        AND (B.sgtxt LIKE '%$textoTipoDoc_B_1$%' OR B.sgtxt LIKE '%$textoTipoDoc_B_2$%')        AND ((A.blart = '$tipoDoc_A$' AND B.blart = '$tipoDoc_B$') OR (A.blart = '$tipoDoc_B$' AND B.blart = '$tipoDoc_A$'))    WHERE        A.record_id <> B.record_id        AND A.signo <> B.signo        AND ABS(cast(REPLACE(REPLACE(A.azbet, '.', ''), ',', '.') as numeric) - cast(REPLACE(REPLACE(B.azbet, '.', ''), ',', '.') as numeric)) <= 0        AND A.compensado = false        AND B.compensado = false) AS CompensacionesBWHERE row_num = 1order by azbet, blart;"}}],"returnTo":{"type":"VARIABLE","variableName":"query"}},{"uid":"c4fc146d-38c7-42e3-894d-f7a1f70842e8","commandName":"runTask","packageName":"TaskBot","disabled":false,"attributes":[{"name":"taskbot","value":{"type":"TASKBOT","taskbotInput":{"type":"DICTIONARY","dictionary":[{"key":"dejarSaldo","value":{"type":"STRING","expression":"$dejarSaldo$"}},{"key":"limRedondeo","value":{"type":"STRING","expression":"$limRedondeo$"}},{"key":"claseDocGenerar","value":{"type":"STRING","expression":"$claseDocGenerar$"}},{"key":"trasladarCompensar","value":{"type":"STRING","expression":"$trasladarCompensar$"}},{"key":"textoSaldo","value":{"type":"STRING","expression":"$textoSaldo$"}}]},"taskbotFile":{"type":"FILE","string":"repository:///Automation%20Anywhere/Bots/My%20Tasks/Compensaciones%20bancarias/Metabots/FECHA%2BTEXTO_D02U"}}},{"name":"repeatOption","value":{"type":"STRING","string":"DO_NOT_REPEAT"}},{"name":"delayNextRepetition","value":{"type":"BOOLEAN","boolean":false}},{"name":"continueOnError","value":{"type":"BOOLEAN","boolean":false}}],"returnTo":{"type":"VARIABLE","variableName":"retornoCompensacion"}}],"branches":[],"attributes":[{"attributes":[{"name":"variable","value":{"type":"STRING","expression":"$idRegla$"}},{"name":"operator","value":{"type":"STRING","string":"EQ"}},{"name":"value","value":{"type":"STRING","string":"IMPORTE+TEXTO"}},{"name":"matchCase","value":{"type":"BOOLEAN","boolean":false}},{"name":"isIgnoreCarriage","value":{"type":"BOOLEAN","boolean":false}}],"name":"condition","value":{"type":"CONDITIONAL","conditionalName":"stringVariable","packageName":"String"}}]},{"uid":"6a34e69a-db54-4321-9569-6a9c5192c9b2","commandName":"if","packageName":"If","disabled":false,"children":[{"uid":"bab2baea-4d27-4ade-829a-30a5ccb0ad62","commandName":"logToFile","packageName":"LogToFile","disabled":true,"attributes":[{"name":"filePath","value":{"type":"FILE","expression":"file://$logFile$"}},{"name":"logContent","value":{"type":"STRING","expression":"INSERT INTO compensados\nselect\n\tA.*\nfrom\n\tpa_bancarias A\njoin pa_bancarias B \non\n\tA.bldat = B.bldat\n\tand (A.sgtxt LIKE '$textoTipoDoc_A_1$%' OR A.sgtxt LIKE '$textoTipoDoc_A_2$%')\n\tand (B.sgtxt LIKE '$textoTipoDoc_B_1$%' OR B.sgtxt LIKE '$textoTipoDoc_B_2$%')\n\tand ((A.blart = '$tipoDoc_A$' and B.blart = '$tipoDoc_B$') or (A.blart = '$tipoDoc_B$' and B.blart = '$tipoDoc_A$'))\nwhere\n\tA.record_id <> B.record_id\n\tAND A.signo <> B.signo\n\tAND ABS(A.dmbtr - B.dmbtr) <= $limRedondeo$ \n\tand A.compensado = false \n\tand B.compensado = false\nUNION\nselect\n\tB.*\nfrom\n\tpa_bancarias B\njoin pa_bancarias A \non\n\tA.bldat = B.bldat\n\tand (A.sgtxt LIKE '$textoTipoDoc_A_1$%' OR A.sgtxt LIKE '$textoTipoDoc_A_2$%')\n\tand (B.sgtxt LIKE '$textoTipoDoc_B_1$%' OR B.sgtxt LIKE '$textoTipoDoc_B_2$%')\n\tand ((A.blart = '$tipoDoc_A$' and B.blart = '$tipoDoc_B$') or (A.blart = '$tipoDoc_B$' and B.blart = '$tipoDoc_A$'))\nwhere\n\tA.record_id <> B.record_id\n\tAND A.signo <> B.signo\n\tAND ABS(A.dmbtr - B.dmbtr) <= $limRedondeo$ \n\tand A.compensado = false \n\tand B.compensado = false\norder by dmbtr,blart"}},{"name":"appendTimestamp","value":{"type":"BOOLEAN","boolean":true}},{"name":"logOption","value":{"type":"STRING","string":"APPEND_FILE"}},{"name":"encodingValue","value":{"type":"STRING","string":"ANSI"}}]},{"uid":"a6d1ac6f-9d80-4299-9c5b-bbc28e2580df","commandName":"messageBox","packageName":"MessageBox","disabled":true,"attributes":[{"name":"title","value":{"type":"STRING","string":"Automation Anywhere Enterprise Client"}},{"name":"content","value":{"type":"STRING","expression":"INSERT INTO compensados\nselect\n\tA.*\nfrom\n\tpa_bancarias A\njoin pa_bancarias B \non\n\tA.bldat = B.bldat\n\tand (A.sgtxt LIKE '%$textoTipoDoc_A_1$%' OR A.sgtxt LIKE '%$textoTipoDoc_A_2$%')\n\tand (B.sgtxt LIKE '%$textoTipoDoc_B_1$%' OR B.sgtxt LIKE '%$textoTipoDoc_B_2$%')\n\tand ((A.blart = '$tipoDoc_A$' and B.blart = '$tipoDoc_B$') or (A.blart = '$tipoDoc_B$' and B.blart = '$tipoDoc_A$'))\nwhere\n\tA.record_id <> B.record_id\n\tAND A.signo <> B.signo\n\tAND ABS(A.dmbtr - B.dmbtr) <= $limRedondeo$ \n\tand A.compensado = false \n\tand B.compensado = false\nUNION\nselect\n\tB.*\nfrom\n\tpa_bancarias B\njoin pa_bancarias A \non\n\tA.bldat = B.bldat\n\tand (A.sgtxt LIKE '%$textoTipoDoc_A_1$%' OR A.sgtxt LIKE '%$textoTipoDoc_A_2$%')\n\tand (B.sgtxt LIKE '%$textoTipoDoc_B_1$%' OR B.sgtxt LIKE '%$textoTipoDoc_B_2$%')\n\tand ((A.blart = '$tipoDoc_A$' and B.blart = '$tipoDoc_B$') or (A.blart = '$tipoDoc_B$' and B.blart = '$tipoDoc_A$'))\nwhere\n\tA.record_id <> B.record_id\n\tAND A.signo <> B.signo\n\tAND ABS(A.dmbtr - B.dmbtr) <= $limRedondeo$ \n\tand A.compensado = false \n\tand B.compensado = false\norder by dmbtr,blart"}},{"name":"scrollLines","value":{"type":"NUMBER","number":"30"}},{"name":"closeMsgBox","value":{"type":"BOOLEAN","boolean":false}}]},{"uid":"4aef2954-9d5a-4af7-96bd-f3c7051a04d3","commandName":"messageBox","packageName":"MessageBox","disabled":true,"attributes":[{"name":"title","value":{"type":"STRING","string":"Automation Anywhere Enterprise Client"}},{"name":"content","value":{"type":"STRING","string":"llegue"}},{"name":"scrollLines","value":{"type":"NUMBER","number":"30"}},{"name":"closeMsgBox","value":{"type":"BOOLEAN","boolean":false}}]},{"uid":"8e8904fa-8600-4703-a543-a6691e12ce52","commandName":"if","packageName":"If","disabled":false,"children":[{"uid":"194ea8aa-7936-4d54-9d43-3fb314e88571","commandName":"logToFile","packageName":"LogToFile","disabled":false,"attributes":[{"name":"filePath","value":{"type":"FILE","string":"file:///C:/Users/rpacloud_des2/Desktop/Querango.txt"}},{"name":"logContent","value":{"type":"STRING","expression":"INSERT INTO compensados\nselect\n\tA.*\nfrom\n\tpa_bancarias A\njoin pa_bancarias B \non\n\tA.bldat = B.bldat\n\tand (A.sgtxt LIKE '%$textoTipoDoc_A_1$%' OR A.sgtxt LIKE '%$textoTipoDoc_A_2$%')\n\tand (B.sgtxt LIKE '%$textoTipoDoc_B_1$%' OR B.sgtxt LIKE '%$textoTipoDoc_B_2$%')\n\tand ((A.blart = '$tipoDoc_A$' and B.blart = '$tipoDoc_B$') or (A.blart = '$tipoDoc_B$' and B.blart = '$tipoDoc_A$'))\nwhere\n\tA.record_id <> B.record_id\n\tAND A.signo <> B.signo\n\tAND A.dmbtr - B.dmbtr <= $limRedondeo$ \n\tand A.compensado = false \n\tand B.compensado = false\nUNION\nselect\n\tB.*\nfrom\n\tpa_bancarias B\njoin pa_bancarias A \non\n\tA.bldat = B.bldat\n\tand (A.sgtxt LIKE '%$textoTipoDoc_A_1$%' OR A.sgtxt LIKE '%$textoTipoDoc_A_2$%')\n\tand (B.sgtxt LIKE '%$textoTipoDoc_B_1$%' OR B.sgtxt LIKE '%$textoTipoDoc_B_2$%')\n\tand ((A.blart = '$tipoDoc_A$' and B.blart = '$tipoDoc_B$') or (A.blart = '$tipoDoc_B$' and B.blart = '$tipoDoc_A$'))\nwhere\n\tA.record_id <> B.record_id\n\tAND A.signo <> B.signo\n\tAND A.dmbtr - B.dmbtr <= $limRedondeo$ \n\tand A.compensado = false \n\tand B.compensado = false\norder by dmbtr,bldat,sgtxt"}},{"name":"appendTimestamp","value":{"type":"BOOLEAN","boolean":true}},{"name":"logOption","value":{"type":"STRING","string":"OVERWRITE_FILE"}},{"name":"encodingValue","value":{"type":"STRING","string":"ANSI"}}]},{"uid":"9c9fd6f3-e956-44ac-b3a4-c15a1158c55a","commandName":"insertUpdateDelete","packageName":"Database","disabled":false,"attributes":[{"name":"query","value":{"type":"STRING","expression":"INSERT INTO compensados\nselect\n\tA.*\nfrom\n\tpa_bancarias A\njoin pa_bancarias B \non\n\tA.bldat = B.bldat\n\tand (A.sgtxt LIKE '%$textoTipoDoc_A_1$%' OR A.sgtxt LIKE '%$textoTipoDoc_A_2$%')\n\tand (B.sgtxt LIKE '%$textoTipoDoc_B_1$%' OR B.sgtxt LIKE '%$textoTipoDoc_B_2$%')\n\tand ((A.blart = '$tipoDoc_A$' and B.blart = '$tipoDoc_B$') or (A.blart = '$tipoDoc_B$' and B.blart = '$tipoDoc_A$'))\nwhere\n\tA.record_id <> B.record_id\n\tAND A.signo <> B.signo\n\tAND A.dmbtr - B.dmbtr <= $limRedondeo$ \n\tand A.compensado = false \n\tand B.compensado = false\nUNION\nselect\n\tB.*\nfrom\n\tpa_bancarias B\njoin pa_bancarias A \non\n\tA.bldat = B.bldat\n\tand (A.sgtxt LIKE '%$textoTipoDoc_A_1$%' OR A.sgtxt LIKE '%$textoTipoDoc_A_2$%')\n\tand (B.sgtxt LIKE '%$textoTipoDoc_B_1$%' OR B.sgtxt LIKE '%$textoTipoDoc_B_2$%')\n\tand ((A.blart = '$tipoDoc_A$' and B.blart = '$tipoDoc_B$') or (A.blart = '$tipoDoc_B$' and B.blart = '$tipoDoc_A$'))\nwhere\n\tA.record_id <> B.record_id\n\tAND A.signo <> B.signo\n\tAND A.dmbtr - B.dmbtr <= $limRedondeo$ \n\tand A.compensado = false \n\tand B.compensado = false\norder by dmbtr,bldat,sgtxt"}},{"name":"session","value":{"type":"SESSION","sessionName":{"type":"STRING","string":"CompensacionQuery"}}}]},{"uid":"ca7a150e-1571-4063-a6cb-84ab2082bddd","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"INSERT INTO compensadosselect\tA.*from\tpa_bancarias Ajoin pa_bancarias B on\tA.bldat = B.bldat\tand (A.sgtxt LIKE '%$textoTipoDoc_A_1$%' OR A.sgtxt LIKE '%$textoTipoDoc_A_2$%')\tand (B.sgtxt LIKE '%$textoTipoDoc_B_1$%' OR B.sgtxt LIKE '%$textoTipoDoc_B_2$%')\tand ((A.blart = '$tipoDoc_A$' and B.blart = '$tipoDoc_B$') or (A.blart = '$tipoDoc_B$' and B.blart = '$tipoDoc_A$'))where\tA.record_id <> B.record_id\tAND A.signo <> B.signo\tAND A.dmbtr - B.dmbtr <= $limRedondeo$ \tand A.compensado = false \tand B.compensado = falseUNIONselect\tB.*from\tpa_bancarias Bjoin pa_bancarias A on\tA.bldat = B.bldat\tand (A.sgtxt LIKE '%$textoTipoDoc_A_1$%' OR A.sgtxt LIKE '%$textoTipoDoc_A_2$%')\tand (B.sgtxt LIKE '%$textoTipoDoc_B_1$%' OR B.sgtxt LIKE '%$textoTipoDoc_B_2$%')\tand ((A.blart = '$tipoDoc_A$' and B.blart = '$tipoDoc_B$') or (A.blart = '$tipoDoc_B$' and B.blart = '$tipoDoc_A$'))where\tA.record_id <> B.record_id\tAND A.signo <> B.signo\tAND A.dmbtr - B.dmbtr <= $limRedondeo$ \tand A.compensado = false \tand B.compensado = falseorder by dmbtr,bldat,sgtxt"}}],"returnTo":{"type":"VARIABLE","variableName":"query"}}],"branches":[{"uid":"3074b75f-a9d8-44b5-a944-13eedbe84ce7","commandName":"else","packageName":"If","disabled":false,"children":[{"uid":"771c262d-d1d3-41d7-8cf8-c9cfce0e5143","commandName":"logToFile","packageName":"LogToFile","disabled":false,"attributes":[{"name":"filePath","value":{"type":"FILE","string":"file:///C:/Users/rpacloud_des2/Desktop/Querango.txt"}},{"name":"logContent","value":{"type":"STRING","expression":"INSERT INTO compensados\nselect\n\tA.*\nfrom\n\tpa_bancarias A\njoin pa_bancarias B \non\n\tA.bldat = B.bldat\n\tand (A.sgtxt LIKE '%$textoTipoDoc_A_1$%' OR A.sgtxt LIKE '%$textoTipoDoc_A_2$%')\n\tand (B.sgtxt LIKE '%$textoTipoDoc_B_1$%' OR B.sgtxt LIKE '%$textoTipoDoc_B_2$%')\n\tand ((A.blart = '$tipoDoc_A$' and B.blart = '$tipoDoc_B$') or (A.blart = '$tipoDoc_B$' and B.blart = '$tipoDoc_A$'))\nwhere\n\tA.record_id <> B.record_id\n\tAND A.signo <> B.signo\n\tAND ABS(cast(REPLACE(REPLACE(A.azbet, '.', ''), ',', '.') as numeric) - cast(REPLACE(REPLACE(B.azbet, '.', ''), ',', '.') as numeric)) <= $limRedondeo$ \n\tand A.compensado = false \n\tand B.compensado = false\nUNION\nselect\n\tB.*\nfrom\n\tpa_bancarias B\njoin pa_bancarias A \non\n\tA.bldat = B.bldat\n\tand (A.sgtxt LIKE '%$textoTipoDoc_A_1$%' OR A.sgtxt LIKE '%$textoTipoDoc_A_2$%')\n\tand (B.sgtxt LIKE '%$textoTipoDoc_B_1$%' OR B.sgtxt LIKE '%$textoTipoDoc_B_2$%')\n\tand ((A.blart = '$tipoDoc_A$' and B.blart = '$tipoDoc_B$') or (A.blart = '$tipoDoc_B$' and B.blart = '$tipoDoc_A$'))\nwhere\n\tA.record_id <> B.record_id\n\tAND A.signo <> B.signo\n\tAND ABS(cast(REPLACE(REPLACE(A.azbet, '.', ''), ',', '.') as numeric) - cast(REPLACE(REPLACE(B.azbet, '.', ''), ',', '.') as numeric)) <= $limRedondeo$ \n\tand A.compensado = false \n\tand B.compensado = false\norder by azbet,bldat,sgtxt"}},{"name":"appendTimestamp","value":{"type":"BOOLEAN","boolean":true}},{"name":"logOption","value":{"type":"STRING","string":"OVERWRITE_FILE"}},{"name":"encodingValue","value":{"type":"STRING","string":"ANSI"}}]},{"uid":"b04be073-ddd1-45a2-9a89-0ac6a1dbb5c7","commandName":"insertUpdateDelete","packageName":"Database","disabled":false,"attributes":[{"name":"query","value":{"type":"STRING","expression":"INSERT INTO compensados\nselect\n\tA.*\nfrom\n\tpa_bancarias A\njoin pa_bancarias B \non\n\tA.bldat = B.bldat\n\tand (A.sgtxt LIKE '%$textoTipoDoc_A_1$%' OR A.sgtxt LIKE '%$textoTipoDoc_A_2$%')\n\tand (B.sgtxt LIKE '%$textoTipoDoc_B_1$%' OR B.sgtxt LIKE '%$textoTipoDoc_B_2$%')\n\tand ((A.blart = '$tipoDoc_A$' and B.blart = '$tipoDoc_B$') or (A.blart = '$tipoDoc_B$' and B.blart = '$tipoDoc_A$'))\nwhere\n\tA.record_id <> B.record_id\n\tAND A.signo <> B.signo\n\tAND ABS(cast(REPLACE(REPLACE(A.azbet, '.', ''), ',', '.') as numeric) - cast(REPLACE(REPLACE(B.azbet, '.', ''), ',', '.') as numeric)) <= $limRedondeo$ \n\tand A.compensado = false \n\tand B.compensado = false\nUNION\nselect\n\tB.*\nfrom\n\tpa_bancarias B\njoin pa_bancarias A \non\n\tA.bldat = B.bldat\n\tand (A.sgtxt LIKE '%$textoTipoDoc_A_1$%' OR A.sgtxt LIKE '%$textoTipoDoc_A_2$%')\n\tand (B.sgtxt LIKE '%$textoTipoDoc_B_1$%' OR B.sgtxt LIKE '%$textoTipoDoc_B_2$%')\n\tand ((A.blart = '$tipoDoc_A$' and B.blart = '$tipoDoc_B$') or (A.blart = '$tipoDoc_B$' and B.blart = '$tipoDoc_A$'))\nwhere\n\tA.record_id <> B.record_id\n\tAND A.signo <> B.signo\n\tAND ABS(cast(REPLACE(REPLACE(A.azbet, '.', ''), ',', '.') as numeric) - cast(REPLACE(REPLACE(B.azbet, '.', ''), ',', '.') as numeric)) <= $limRedondeo$ \n\tand A.compensado = false \n\tand B.compensado = false\norder by azbet,bldat,sgtxt"}},{"name":"session","value":{"type":"SESSION","sessionName":{"type":"STRING","string":"CompensacionQuery"}}}]},{"uid":"6e187833-01e4-4474-ba47-8405d8506002","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"INSERT INTO compensadosselect\tA.*from\tpa_bancarias Ajoin pa_bancarias B on\tA.bldat = B.bldat\tand (A.sgtxt LIKE '%$textoTipoDoc_A_1$%' OR A.sgtxt LIKE '%$textoTipoDoc_A_2$%')\tand (B.sgtxt LIKE '%$textoTipoDoc_B_1$%' OR B.sgtxt LIKE '%$textoTipoDoc_B_2$%')\tand ((A.blart = '$tipoDoc_A$' and B.blart = '$tipoDoc_B$') or (A.blart = '$tipoDoc_B$' and B.blart = '$tipoDoc_A$'))where\tA.record_id <> B.record_id\tAND A.signo <> B.signo\tAND ABS(cast(REPLACE(REPLACE(A.azbet, '.', ''), ',', '.') as numeric) - cast(REPLACE(REPLACE(B.azbet, '.', ''), ',', '.') as numeric)) <= $limRedondeo$ \tand A.compensado = false \tand B.compensado = falseUNIONselect\tB.*from\tpa_bancarias Bjoin pa_bancarias A on\tA.bldat = B.bldat\tand (A.sgtxt LIKE '%$textoTipoDoc_A_1$%' OR A.sgtxt LIKE '%$textoTipoDoc_A_2$%')\tand (B.sgtxt LIKE '%$textoTipoDoc_B_1$%' OR B.sgtxt LIKE '%$textoTipoDoc_B_2$%')\tand ((A.blart = '$tipoDoc_A$' and B.blart = '$tipoDoc_B$') or (A.blart = '$tipoDoc_B$' and B.blart = '$tipoDoc_A$'))where\tA.record_id <> B.record_id\tAND A.signo <> B.signo\tAND ABS(cast(REPLACE(REPLACE(A.azbet, '.', ''), ',', '.') as numeric) - cast(REPLACE(REPLACE(B.azbet, '.', ''), ',', '.') as numeric)) <= $limRedondeo$ \tand A.compensado = false \tand B.compensado = falseorder by azbet,bldat,sgtxt"}}],"returnTo":{"type":"VARIABLE","variableName":"query"}}]}],"attributes":[{"attributes":[{"name":"variable","value":{"type":"STRING","expression":"$cuentaPagadora$"}},{"name":"operator","value":{"type":"STRING","string":"EQ"}},{"name":"value","value":{"type":"STRING","string":"113711"}},{"name":"matchCase","value":{"type":"BOOLEAN","boolean":false}},{"name":"isIgnoreCarriage","value":{"type":"BOOLEAN","boolean":false}}],"operatorAttribute":{"operator":"AND","value":{"type":"CONDITIONAL","conditionalName":"stringVariable","packageName":"String"},"attributes":[{"name":"variable","value":{"type":"STRING","expression":"$cuentaCobradora$"}},{"name":"operator","value":{"type":"STRING","string":"EQ"}},{"name":"value","value":{"type":"STRING","string":""}},{"name":"matchCase","value":{"type":"BOOLEAN","boolean":false}},{"name":"isIgnoreCarriage","value":{"type":"BOOLEAN","boolean":false}}],"operatorAttribute":{"operator":"AND","value":{"type":"CONDITIONAL","conditionalName":"stringVariable","packageName":"String"},"attributes":[{"name":"variable","value":{"type":"STRING","expression":"$tipoDoc_A$"}},{"name":"operator","value":{"type":"STRING","string":"EQ"}},{"name":"value","value":{"type":"STRING","string":"EX"}},{"name":"matchCase","value":{"type":"BOOLEAN","boolean":false}},{"name":"isIgnoreCarriage","value":{"type":"BOOLEAN","boolean":false}}],"operatorAttribute":{"operator":"AND","value":{"type":"CONDITIONAL","conditionalName":"stringVariable","packageName":"String"},"attributes":[{"name":"variable","value":{"type":"STRING","expression":"$tipoDoc_B$"}},{"name":"operator","value":{"type":"STRING","string":"EQ"}},{"name":"value","value":{"type":"STRING","string":"VD"}},{"name":"matchCase","value":{"type":"BOOLEAN","boolean":false}},{"name":"isIgnoreCarriage","value":{"type":"BOOLEAN","boolean":false}}]}}},"name":"condition","value":{"type":"CONDITIONAL","conditionalName":"stringVariable","packageName":"String"}}]},{"uid":"027f7a3b-021f-4ce7-a18d-f1f5413d4329","commandName":"messageBox","packageName":"MessageBox","disabled":true,"attributes":[{"name":"title","value":{"type":"STRING","string":"Automation Anywhere Enterprise Client"}},{"name":"content","value":{"type":"STRING","expression":"INSERT INTO compensados\nselect\n\tA.*\nfrom\n\tpa_bancarias A\njoin pa_bancarias B \non\n\tA.bldat = B.bldat\n\tand (A.sgtxt LIKE '%$textoTipoDoc_A_1$%' OR A.sgtxt LIKE '%$textoTipoDoc_A_2$%')\n\tand (B.sgtxt LIKE '%$textoTipoDoc_B_1$%' OR B.sgtxt LIKE '%$textoTipoDoc_B_2$%')\n\tand ((A.blart = '$tipoDoc_A$' and B.blart = '$tipoDoc_B$') or (A.blart = '$tipoDoc_B$' and B.blart = '$tipoDoc_A$'))\nwhere\n\tA.record_id <> B.record_id\n\tAND A.signo <> B.signo\n\tAND ABS(cast(REPLACE(REPLACE(A.azbet, '.', ''), ',', '.') as numeric) - cast(REPLACE(REPLACE(B.azbet, '.', ''), ',', '.') as numeric)) <= $limRedondeo$ \n\tand A.compensado = false \n\tand B.compensado = false\nUNION\nselect\n\tB.*\nfrom\n\tpa_bancarias B\njoin pa_bancarias A \non\n\tA.bldat = B.bldat\n\tand (A.sgtxt LIKE '%$textoTipoDoc_A_1$%' OR A.sgtxt LIKE '%$textoTipoDoc_A_2$%')\n\tand (B.sgtxt LIKE '%$textoTipoDoc_B_1$%' OR B.sgtxt LIKE '%$textoTipoDoc_B_2$%')\n\tand ((A.blart = '$tipoDoc_A$' and B.blart = '$tipoDoc_B$') or (A.blart = '$tipoDoc_B$' and B.blart = '$tipoDoc_A$'))\nwhere\n\tA.record_id <> B.record_id\n\tAND A.signo <> B.signo\n\tAND ABS(cast(REPLACE(REPLACE(A.azbet, '.', ''), ',', '.') as numeric) - cast(REPLACE(REPLACE(B.azbet, '.', ''), ',', '.') as numeric)) <= $limRedondeo$ \n\tand A.compensado = false \n\tand B.compensado = false\norder by azbet,bldat,sgtxt"}},{"name":"scrollLines","value":{"type":"NUMBER","number":"30"}},{"name":"closeMsgBox","value":{"type":"BOOLEAN","boolean":false}}]},{"uid":"f3040168-01d6-4a76-b757-438600511c61","commandName":"runTask","packageName":"TaskBot","disabled":false,"attributes":[{"name":"taskbot","value":{"type":"TASKBOT","taskbotInput":{"type":"DICTIONARY","dictionary":[{"key":"dejarSaldo","value":{"type":"STRING","expression":"$dejarSaldo$"}},{"key":"limRedondeo","value":{"type":"STRING","expression":"$limRedondeo$"}},{"key":"claseDocGenerar","value":{"type":"STRING","expression":"$claseDocGenerar$"}},{"key":"trasladarCompensar","value":{"type":"STRING","expression":"$trasladarCompensar$"}},{"key":"textoSaldo","value":{"type":"STRING","expression":"$textoSaldo$"}}]},"taskbotFile":{"type":"FILE","string":"repository:///Automation%20Anywhere/Bots/My%20Tasks/Compensaciones%20bancarias/Metabots/FECHA%2BTEXTO_D02U"}}},{"name":"repeatOption","value":{"type":"STRING","string":"DO_NOT_REPEAT"}},{"name":"delayNextRepetition","value":{"type":"BOOLEAN","boolean":false}},{"name":"continueOnError","value":{"type":"BOOLEAN","boolean":false}}],"returnTo":{"type":"VARIABLE","variableName":"retornoCompensacion"}}],"branches":[],"attributes":[{"attributes":[{"name":"variable","value":{"type":"STRING","expression":"$idRegla$"}},{"name":"operator","value":{"type":"STRING","string":"EQ"}},{"name":"value","value":{"type":"STRING","string":"FECHA+TEXTO"}},{"name":"matchCase","value":{"type":"BOOLEAN","boolean":false}},{"name":"isIgnoreCarriage","value":{"type":"BOOLEAN","boolean":false}}],"operatorAttribute":{"operator":"OR","value":{"type":"CONDITIONAL","conditionalName":"stringVariable","packageName":"String"},"attributes":[{"name":"variable","value":{"type":"STRING","expression":"$idRegla$"}},{"name":"operator","value":{"type":"STRING","string":"EQ"}},{"name":"value","value":{"type":"STRING","string":"IMPORTE+FECHA"}},{"name":"matchCase","value":{"type":"BOOLEAN","boolean":true}},{"name":"isIgnoreCarriage","value":{"type":"BOOLEAN","boolean":false}}]},"name":"condition","value":{"type":"CONDITIONAL","conditionalName":"stringVariable","packageName":"String"}}]}],"attributes":[{"name":"title","value":{"type":"STRING","string":"Compensar partidas según regla"}}]},{"uid":"b18db9d3-2307-46a5-8925-faf548d034e2","commandName":"step","packageName":"Step","disabled":false,"children":[{"uid":"b29b5d4f-d492-48f8-a4ab-3b5c103b6fc8","commandName":"if","packageName":"If","disabled":false,"children":[{"uid":"2b72ca5b-c889-4287-b08c-932d73a56bb2","commandName":"Comment","packageName":"Comment","disabled":false,"attributes":[{"name":"comment","value":{"type":"STRING","string":"Partidas abiertas"}}]},{"uid":"1e85b82c-7878-47f1-b187-2ba1e6dfd48d","commandName":"runTask","packageName":"TaskBot","disabled":false,"attributes":[{"name":"taskbot","value":{"type":"TASKBOT","taskbotInput":{"type":"DICTIONARY","dictionary":[{"key":"cantDiasRetardo","value":{"type":"STRING","expression":"$retardoTipoDoc_A$"}},{"key":"retardoHabil","value":{"type":"STRING","expression":"$retardoHabil$"}},{"key":"tipoDoc","value":{"type":"STRING","expression":"$tipoDoc_A$"}},{"key":"claseDoc","value":{"type":"STRING","string":"\"_Clase_i_\""}},{"key":"tablaQuery","value":{"type":"STRING","string":"pa_bancarias"}}]},"taskbotFile":{"type":"FILE","string":"repository:///Automation%20Anywhere/Bots/My%20Tasks/Compensaciones%20bancarias/Metabots/Retardo%20inverso"}}},{"name":"repeatOption","value":{"type":"STRING","string":"DO_NOT_REPEAT"}},{"name":"delayNextRepetition","value":{"type":"BOOLEAN","boolean":false}},{"name":"continueOnError","value":{"type":"BOOLEAN","boolean":false}}]},{"uid":"c947c9ba-72d8-4328-a240-e46c1a0ca1bc","commandName":"Comment","packageName":"Comment","disabled":false,"attributes":[{"name":"comment","value":{"type":"STRING","string":"Compensados"}}]},{"uid":"87e1ffaa-7f5b-455a-93fb-3afa7103716b","commandName":"runTask","packageName":"TaskBot","disabled":false,"attributes":[{"name":"taskbot","value":{"type":"TASKBOT","taskbotInput":{"type":"DICTIONARY","dictionary":[{"key":"cantDiasRetardo","value":{"type":"STRING","expression":"$retardoTipoDoc_A$"}},{"key":"retardoHabil","value":{"type":"STRING","expression":"$retardoHabil$"}},{"key":"tipoDoc","value":{"type":"STRING","expression":"$tipoDoc_A$"}},{"key":"claseDoc","value":{"type":"STRING","string":"\"_Clase_i_\""}},{"key":"tablaQuery","value":{"type":"STRING","string":"compensados"}}]},"taskbotFile":{"type":"FILE","string":"repository:///Automation%20Anywhere/Bots/My%20Tasks/Compensaciones%20bancarias/Metabots/Retardo%20inverso"}}},{"name":"repeatOption","value":{"type":"STRING","string":"DO_NOT_REPEAT"}},{"name":"delayNextRepetition","value":{"type":"BOOLEAN","boolean":false}},{"name":"continueOnError","value":{"type":"BOOLEAN","boolean":false}}]}],"branches":[],"attributes":[{"attributes":[{"name":"variable","value":{"type":"STRING","expression":"$retardoTipoDoc_A$"}},{"name":"operator","value":{"type":"STRING","string":"GreaterThan"}},{"name":"value","value":{"type":"STRING","string":"0"}}],"name":"condition","value":{"type":"CONDITIONAL","conditionalName":"legacyConditionVariable","packageName":"LegacyAutomation"}}]},{"uid":"749207b6-8c2e-4585-87c5-cde7a0db66bb","commandName":"if","packageName":"If","disabled":false,"children":[{"uid":"faf2539d-b628-4fa7-bac0-9b0428caacd2","commandName":"Comment","packageName":"Comment","disabled":false,"attributes":[{"name":"comment","value":{"type":"STRING","string":"Partidas abiertas"}}]},{"uid":"350fca7e-7105-4ec8-b65f-5c496822ec1a","commandName":"runTask","packageName":"TaskBot","disabled":false,"attributes":[{"name":"taskbot","value":{"type":"TASKBOT","taskbotInput":{"type":"DICTIONARY","dictionary":[{"key":"cantDiasRetardo","value":{"type":"STRING","expression":"$retardoTipoDoc_B$"}},{"key":"retardoHabil","value":{"type":"STRING","expression":"$retardoHabil$"}},{"key":"tipoDoc","value":{"type":"STRING","expression":"$tipoDoc_B$"}},{"key":"claseDoc","value":{"type":"STRING","string":"\"_Clase_j_\""}},{"key":"tablaQuery","value":{"type":"STRING","string":"pa_bancarias"}}]},"taskbotFile":{"type":"FILE","string":"repository:///Automation%20Anywhere/Bots/My%20Tasks/Compensaciones%20bancarias/Metabots/Retardo%20inverso"}}},{"name":"repeatOption","value":{"type":"STRING","string":"DO_NOT_REPEAT"}},{"name":"delayNextRepetition","value":{"type":"BOOLEAN","boolean":false}},{"name":"continueOnError","value":{"type":"BOOLEAN","boolean":false}}]},{"uid":"60654c46-12f9-4a04-b3c9-7b5b1c42a432","commandName":"Comment","packageName":"Comment","disabled":false,"attributes":[{"name":"comment","value":{"type":"STRING","string":"Compensados"}}]},{"uid":"a49050c9-b06f-48df-9b1d-3617938858f6","commandName":"runTask","packageName":"TaskBot","disabled":false,"attributes":[{"name":"taskbot","value":{"type":"TASKBOT","taskbotInput":{"type":"DICTIONARY","dictionary":[{"key":"cantDiasRetardo","value":{"type":"STRING","expression":"$retardoTipoDoc_A$"}},{"key":"retardoHabil","value":{"type":"STRING","expression":"$retardoHabil$"}},{"key":"tipoDoc","value":{"type":"STRING","expression":"$tipoDoc_A$"}},{"key":"claseDoc","value":{"type":"STRING","string":"\"_Clase_i_\""}},{"key":"tablaQuery","value":{"type":"STRING","string":"compensados"}}]},"taskbotFile":{"type":"FILE","string":"repository:///Automation%20Anywhere/Bots/My%20Tasks/Compensaciones%20bancarias/Metabots/Retardo%20inverso"}}},{"name":"repeatOption","value":{"type":"STRING","string":"DO_NOT_REPEAT"}},{"name":"delayNextRepetition","value":{"type":"BOOLEAN","boolean":false}},{"name":"continueOnError","value":{"type":"BOOLEAN","boolean":false}}]}],"branches":[],"attributes":[{"attributes":[{"name":"variable","value":{"type":"STRING","expression":"$retardoTipoDoc_B$"}},{"name":"operator","value":{"type":"STRING","string":"GreaterThan"}},{"name":"value","value":{"type":"STRING","string":"0"}}],"name":"condition","value":{"type":"CONDITIONAL","conditionalName":"legacyConditionVariable","packageName":"LegacyAutomation"}}]}],"attributes":[{"name":"title","value":{"type":"STRING","string":"Corrige fechas de Partidas Abiertas y Compensados"}}]},{"uid":"23b3ab12-9c40-4e3f-ab0b-f98f39529198","commandName":"step","packageName":"Step","disabled":false,"children":[],"attributes":[{"name":"title","value":{"type":"STRING","string":"Manda a Estructurar JSON"}}]},{"uid":"6897986a-ab73-4d99-913f-a3b53c0076ae","commandName":"step","packageName":"Step","disabled":false,"children":[{"uid":"472887c4-e283-4819-94ca-e5da874876c6","commandName":"messageBox","packageName":"MessageBox","disabled":true,"attributes":[{"name":"title","value":{"type":"STRING","string":"Automation Anywhere Enterprise Client"}},{"name":"content","value":{"type":"STRING","expression":"$retornoCompensacion{detailString}$"}},{"name":"scrollLines","value":{"type":"NUMBER","number":"30"}},{"name":"closeMsgBox","value":{"type":"BOOLEAN","boolean":false}}]},{"uid":"64d2fb8b-4f19-440f-bb37-c01dbf38892c","commandName":"if","packageName":"If","disabled":false,"children":[{"uid":"166c7d56-9623-4532-a385-be88999c840b","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$retornoCompensacion{detailString}$"}}],"returnTo":{"type":"VARIABLE","variableName":"detailString"}},{"uid":"84213964-fd6c-4206-bc42-a0a657808a51","commandName":"messageBox","packageName":"MessageBox","disabled":true,"attributes":[{"name":"title","value":{"type":"STRING","string":"Automation Anywhere Enterprise Client"}},{"name":"content","value":{"type":"STRING","expression":"$detailString$"}},{"name":"scrollLines","value":{"type":"NUMBER","number":"30"}},{"name":"closeMsgBox","value":{"type":"BOOLEAN","boolean":false}}]},{"uid":"fd92409b-d9a4-49ee-a140-be4f2c5e868a","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"{\"bukrs\":\"$fbl3nSociedad$\",\"mandt\":\"$mandante$\"}"}}],"returnTo":{"type":"VARIABLE","variableName":"headerString"}},{"uid":"f6b5eb90-9e77-4217-bde3-f0554456c77c","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"[$detailString$]"}}],"returnTo":{"type":"VARIABLE","variableName":"detailString"}},{"uid":"03485a7c-54cd-4efe-b56e-e7b500ff594b","commandName":"replace","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$detailString$"}},{"name":"find","value":{"type":"STRING","string":",]"}},{"name":"isCaseSensitive","value":{"type":"STRING","string":"false"}},{"name":"isRegularExpression","value":{"type":"STRING","string":"false"}},{"name":"startIndex","value":{"type":"NUMBER","number":"1"}},{"name":"count","value":{"type":"NUMBER","number":"-1"}},{"name":"replaceWith","value":{"type":"STRING","string":"]"}}],"returnTo":{"type":"VARIABLE","variableName":"detailString"}},{"uid":"aff44ac0-eb31-44f1-a5b4-bf557e472010","commandName":"runTask","packageName":"TaskBot","disabled":false,"attributes":[{"name":"taskbot","value":{"type":"TASKBOT","taskbotInput":{"type":"DICTIONARY","dictionary":[{"key":"vDetailString","value":{"type":"STRING","expression":"$detailString$"}},{"key":"sociedad","value":{"type":"STRING","expression":"$fbl3nSociedad$"}}]},"taskbotFile":{"type":"FILE","string":"repository:///Automation%20Anywhere/Bots/My%20Metabots/DateTime/CorregirFechasCompensacion_v2"}}},{"name":"repeatOption","value":{"type":"STRING","string":"DO_NOT_REPEAT"}},{"name":"delayNextRepetition","value":{"type":"BOOLEAN","boolean":false}},{"name":"continueOnError","value":{"type":"BOOLEAN","boolean":false}}],"returnTo":{"type":"VARIABLE","variableName":"respuestaCorregirFechaCompensacion"}},{"uid":"a97452ec-7519-4dc4-bc17-abf6a4aea65a","commandName":"runTask","packageName":"TaskBot","disabled":false,"attributes":[{"name":"taskbot","value":{"type":"TASKBOT","taskbotInput":{"type":"DICTIONARY","dictionary":[{"key":"vDetailString","value":{"type":"STRING","expression":"$detailString$"}},{"key":"vEjercicio","value":{"type":"STRING","expression":"$ejercicio$"}},{"key":"vMesContable","value":{"type":"STRING","expression":"$mesContable$"}}]},"taskbotFile":{"type":"FILE","string":"repository:///Automation%20Anywhere/Bots/My%20Metabots/DateTime/CorregirFechasCompensacion"}}},{"name":"repeatOption","value":{"type":"STRING","string":"DO_NOT_REPEAT"}},{"name":"delayNextRepetition","value":{"type":"BOOLEAN","boolean":false}},{"name":"continueOnError","value":{"type":"BOOLEAN","boolean":false}}],"returnTo":{"type":"VARIABLE","variableName":"respuestaCorregirFechaCompensacion"}},{"uid":"4b18f35d-52e5-45f0-a4f3-8f1668f780f0","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$respuestaCorregirFechaCompensacion{\"vDetailString\"}$"}}],"returnTo":{"type":"VARIABLE","variableName":"detailString"}},{"uid":"2acf8e8c-bb0c-4a6b-90f4-378feb798c74","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"{\"gEsCabecera\":$headerString$,\"gTiDetalle\":$detailString$}"}}],"returnTo":{"type":"VARIABLE","variableName":"outputString"}},{"uid":"ec61d72d-35c4-475b-aad5-21375c620d92","commandName":"if","packageName":"If","disabled":false,"children":[{"uid":"5fa2ea42-f2c0-4ea8-bad8-f57519fca25a","commandName":"messageBox","packageName":"MessageBox","disabled":true,"attributes":[{"name":"title","value":{"type":"STRING","string":"Automation Anywhere Enterprise Client"}},{"name":"content","value":{"type":"STRING","expression":"$outputString$\n\n\nQuery: $query$"}},{"name":"scrollLines","value":{"type":"NUMBER","number":"30"}},{"name":"closeMsgBox","value":{"type":"BOOLEAN","boolean":false}}]}],"branches":[{"uid":"21b11e4d-8af2-46f6-a782-aea81173478a","commandName":"else","packageName":"If","disabled":false,"children":[{"uid":"0b5642c7-ad6c-4253-8807-590e85411df0","commandName":"messageBox","packageName":"MessageBox","disabled":true,"attributes":[{"name":"title","value":{"type":"STRING","string":"Automation Anywhere Enterprise Client"}},{"name":"content","value":{"type":"STRING","expression":"$outputString$\n\n\nQuery: $query$"}},{"name":"scrollLines","value":{"type":"NUMBER","number":"30"}},{"name":"closeMsgBox","value":{"type":"BOOLEAN","boolean":false}}]}]}],"attributes":[{"attributes":[{"name":"variable","value":{"type":"STRING","expression":"$cuentaPagadora$"}},{"name":"operator","value":{"type":"STRING","string":"INCLUDE"}},{"name":"value","value":{"type":"STRING","string":"113621"}},{"name":"matchCase","value":{"type":"BOOLEAN","boolean":false}},{"name":"isIgnoreCarriage","value":{"type":"BOOLEAN","boolean":false}}],"operatorAttribute":{"operator":"OR","value":{"type":"CONDITIONAL","conditionalName":"stringVariable","packageName":"String"},"attributes":[{"name":"variable","value":{"type":"STRING","expression":"$cuentaCobradora$"}},{"name":"operator","value":{"type":"STRING","string":"INCLUDE"}},{"name":"value","value":{"type":"STRING","string":"113622"}},{"name":"matchCase","value":{"type":"BOOLEAN","boolean":false}},{"name":"isIgnoreCarriage","value":{"type":"BOOLEAN","boolean":false}}]},"name":"condition","value":{"type":"CONDITIONAL","conditionalName":"stringVariable","packageName":"String"}}]},{"uid":"18ba06af-557d-4b02-953d-2ea171b04681","commandName":"if","packageName":"If","disabled":false,"children":[{"uid":"03138e2a-ba86-4017-91e8-2e7d87fd4dc7","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"\\\\nas\\Tecnologia\\RPA_prd\\SAP\\bancarias\\pedidocompensacionsap_$cuentaCobradora$_$cuentaPagadora$_$fbl3nSociedad$_$entidad$_$System:Day.Number:toString$$System:Month.Number:toString$$System:Year.Number:toString$_D02_U.txt"}}],"returnTo":{"type":"VARIABLE","variableName":"archivoSAP"}}],"branches":[],"attributes":[{"attributes":[{"name":"variable","value":{"type":"STRING","expression":"$entorno$"}},{"name":"operator","value":{"type":"STRING","string":"EQ"}},{"name":"value","value":{"type":"STRING","string":"PRD"}},{"name":"matchCase","value":{"type":"BOOLEAN","boolean":false}},{"name":"isIgnoreCarriage","value":{"type":"BOOLEAN","boolean":false}}],"name":"condition","value":{"type":"CONDITIONAL","conditionalName":"stringVariable","packageName":"String"}}]},{"uid":"2560d353-faa8-4bf5-a35f-fb1757ac45d4","commandName":"if","packageName":"If","disabled":false,"children":[{"uid":"8ec4bcf6-31ee-46cf-ac17-5c153b064437","commandName":"createFile","packageName":"File","disabled":false,"attributes":[{"name":"filePath","value":{"type":"FILE","expression":"file://$archivoSAP$"}},{"name":"isOverwrite","value":{"type":"BOOLEAN","boolean":false}}]}],"branches":[],"attributes":[{"attributes":[{"name":"sourceFilePath","value":{"type":"FILE","expression":"file://$archivoSAP$"}},{"name":"waitTimeout","value":{"type":"NUMBER","number":"0"}}],"name":"condition","value":{"type":"CONDITIONAL","conditionalName":"fileNotExists","packageName":"File"}}]},{"uid":"8f5e871b-a2a7-4230-b0f5-22265c18347d","commandName":"copyFiles","packageName":"File","disabled":false,"attributes":[{"name":"sourceFilePath","value":{"type":"FILE","expression":"file://$emptyFile$"}},{"name":"destinationPath","value":{"type":"STRING","expression":"$archivoSAP$"}},{"name":"isOverwrite","value":{"type":"BOOLEAN","boolean":true}},{"name":"isParallel","value":{"type":"BOOLEAN","boolean":false}},{"name":"isSize","value":{"type":"BOOLEAN","boolean":false}},{"name":"isDate","value":{"type":"BOOLEAN","boolean":false}}]},{"uid":"76222c13-6d86-4d69-83aa-321a49eafe31","commandName":"logToFile","packageName":"LogToFile","disabled":false,"attributes":[{"name":"filePath","value":{"type":"FILE","expression":"file://$archivoSAP$"}},{"name":"logContent","value":{"type":"STRING","expression":"$outputString$"}},{"name":"appendTimestamp","value":{"type":"BOOLEAN","boolean":false}},{"name":"logOption","value":{"type":"STRING","string":"OVERWRITE_FILE"}},{"name":"encodingValue","value":{"type":"STRING","string":"ANSI"}}]},{"uid":"283e5fa8-0211-433f-bb95-d01816b9a53e","commandName":"if","packageName":"If","disabled":false,"children":[{"uid":"96bba4d8-2bd9-48d0-a534-2598d893093e","commandName":"restGet","packageName":"Rest","disabled":false,"attributes":[{"name":"uriOption","value":{"type":"STRING","string":"text"}},{"name":"uri","value":{"type":"STRING","expression":"https://sap-erp-prd-1.bancardnet.dom:44300/sap/bc/zbankclearing?sap-client=400&entrada=$archivoSAP$"}},{"name":"proxyType","value":{"type":"STRING","string":"SYSTEM"}},{"name":"authenticationMode","value":{"type":"STRING","string":"Basic"}},{"name":"basicUserName","value":{"type":"CREDENTIAL","credential":{"name":"RPA 1","lockerName":"SAP PASS","attributeName":"RPA 1 ID"}}},{"name":"basicPassword","value":{"type":"CREDENTIAL","credential":{"name":"RPA 1","lockerName":"SAP PASS","attributeName":"RPA 1 PASS"}}},{"name":"captureFailureResponse","value":{"type":"BOOLEAN","boolean":true}},{"name":"allowInsecureConnection","value":{"type":"BOOLEAN","boolean":false}},{"name":"timeOut","value":{"type":"NUMBER","expression":"$@AARestTimeOut$"}}],"returnTo":{"type":"VARIABLE","variableName":"respuestaServicio"}}],"branches":[],"attributes":[{"attributes":[{"name":"variable","value":{"type":"STRING","expression":"$entorno$"}},{"name":"operator","value":{"type":"STRING","string":"EQ"}},{"name":"value","value":{"type":"STRING","string":"PRD"}},{"name":"matchCase","value":{"type":"BOOLEAN","boolean":true}},{"name":"isIgnoreCarriage","value":{"type":"BOOLEAN","boolean":false}}],"name":"condition","value":{"type":"CONDITIONAL","conditionalName":"stringVariable","packageName":"String"}}]},{"uid":"7d625739-2222-4237-b2a7-18917a125359","commandName":"if","packageName":"If","disabled":false,"children":[{"uid":"1dbd021a-4972-4b3f-b7d7-f69064f9c29e","commandName":"messageBox","packageName":"MessageBox","disabled":false,"attributes":[{"name":"title","value":{"type":"STRING","string":"Automation Anywhere Enterprise Client"}},{"name":"content","value":{"type":"STRING","string":"ENVIO A SAP"}},{"name":"scrollLines","value":{"type":"NUMBER","number":"30"}},{"name":"closeMsgBox","value":{"type":"BOOLEAN","boolean":true}},{"name":"timeOut","value":{"type":"NUMBER","number":"1"}}]},{"uid":"acbd9b27-e893-4ef1-9873-31d379916bf4","commandName":"insertUpdateDelete","packageName":"Database","disabled":false,"attributes":[{"name":"query","value":{"type":"STRING","expression":"INSERT INTO compensados_historico\nSELECT *, '$System:Year.Number:toString$-$mes$-$dia$' AS fecha, 'D02_U' as grupo\nFROM compensados;"}},{"name":"session","value":{"type":"SESSION","sessionName":{"type":"STRING","string":"CompensacionQuery"}}}]},{"uid":"01d6efcb-4f39-44a8-9f63-fc17f3958400","commandName":"logToFile","packageName":"LogToFile","disabled":false,"attributes":[{"name":"filePath","value":{"type":"FILE","expression":"file://$logFile$"}},{"name":"logContent","value":{"type":"STRING","string":"Agrega al historico de compensados"}},{"name":"appendTimestamp","value":{"type":"BOOLEAN","boolean":false}},{"name":"logOption","value":{"type":"STRING","string":"OVERWRITE_FILE"}},{"name":"encodingValue","value":{"type":"STRING","string":"ANSI"}}]},{"uid":"5953e5a3-ef2a-4d27-a4b1-859a9a46726f","commandName":"step","packageName":"Step","disabled":false,"children":[{"uid":"c6ef1c29-b45b-49c0-b602-a46ab3e25bd9","commandName":"split","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$outputString$"}},{"name":"delimiter","value":{"type":"STRING","string":"},{"}},{"name":"isCaseSensitive","value":{"type":"STRING","string":"false"}},{"name":"substrings","value":{"type":"STRING","string":"ALL"}}],"returnTo":{"type":"VARIABLE","variableName":"partidasCompensadas"}},{"uid":"f012d788-b5fe-481e-b9ed-df68f0badb5e","commandName":"loop.commands.start","packageName":"Loop","disabled":false,"children":[{"uid":"308926ea-ed7f-46e4-81f1-922115704dc3","commandName":"beforeAfter","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$partidaCompensada$"}},{"name":"getCharacters","value":{"type":"STRING","string":"BEFOREAFTER"}},{"name":"beforeStringInBeforeAfter","value":{"type":"STRING","string":"\"saknr\":\""}},{"name":"beforeOccurrenceInBeforeAfter","value":{"type":"NUMBER","number":"1"}},{"name":"beforeAfterCondition","value":{"type":"STRING","string":"OR"}},{"name":"afterStringInBeforeAfter","value":{"type":"STRING","string":"\",\"belnr\":\""}},{"name":"afterOccurrenceInBeforeAfter","value":{"type":"NUMBER","number":"1"}},{"name":"ifNoMatchFound","value":{"type":"STRING","string":"EMPTY"}},{"name":"noOfCharsToGet","value":{"type":"STRING","string":"ALL"}},{"name":"isCaseSensitive","value":{"type":"STRING","string":"true"}},{"name":"trimSpaces","value":{"type":"BOOLEAN","boolean":true}},{"name":"removeEnter","value":{"type":"BOOLEAN","boolean":true}}],"returnTo":{"type":"VARIABLE","variableName":"saknr"}},{"uid":"9ca1f454-4d44-468d-b6af-68d38020c788","commandName":"beforeAfter","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$partidaCompensada$"}},{"name":"getCharacters","value":{"type":"STRING","string":"BEFOREAFTER"}},{"name":"beforeStringInBeforeAfter","value":{"type":"STRING","string":"\"belnr\":\""}},{"name":"beforeOccurrenceInBeforeAfter","value":{"type":"NUMBER","number":"1"}},{"name":"beforeAfterCondition","value":{"type":"STRING","string":"OR"}},{"name":"afterStringInBeforeAfter","value":{"type":"STRING","string":"\",\"buzei\":\""}},{"name":"afterOccurrenceInBeforeAfter","value":{"type":"NUMBER","number":"1"}},{"name":"ifNoMatchFound","value":{"type":"STRING","string":"EMPTY"}},{"name":"noOfCharsToGet","value":{"type":"STRING","string":"ALL"}},{"name":"isCaseSensitive","value":{"type":"STRING","string":"true"}},{"name":"trimSpaces","value":{"type":"BOOLEAN","boolean":true}},{"name":"removeEnter","value":{"type":"BOOLEAN","boolean":true}}],"returnTo":{"type":"VARIABLE","variableName":"belnr"}},{"uid":"5a80170c-791c-436b-b718-96d99effcf98","commandName":"beforeAfter","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$partidaCompensada$"}},{"name":"getCharacters","value":{"type":"STRING","string":"BEFOREAFTER"}},{"name":"beforeStringInBeforeAfter","value":{"type":"STRING","string":"\"buzei\":\""}},{"name":"beforeOccurrenceInBeforeAfter","value":{"type":"NUMBER","number":"1"}},{"name":"beforeAfterCondition","value":{"type":"STRING","string":"OR"}},{"name":"afterStringInBeforeAfter","value":{"type":"STRING","string":"\",\"gjahr\":\""}},{"name":"afterOccurrenceInBeforeAfter","value":{"type":"NUMBER","number":"1"}},{"name":"ifNoMatchFound","value":{"type":"STRING","string":"EMPTY"}},{"name":"noOfCharsToGet","value":{"type":"STRING","string":"ALL"}},{"name":"isCaseSensitive","value":{"type":"STRING","string":"true"}},{"name":"trimSpaces","value":{"type":"BOOLEAN","boolean":true}},{"name":"removeEnter","value":{"type":"BOOLEAN","boolean":true}}],"returnTo":{"type":"VARIABLE","variableName":"buzei"}},{"uid":"56bdc543-cf19-48c5-910c-0253188b11fe","commandName":"beforeAfter","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$partidaCompensada$"}},{"name":"getCharacters","value":{"type":"STRING","string":"BEFOREAFTER"}},{"name":"beforeStringInBeforeAfter","value":{"type":"STRING","string":"\"gjahr\":\""}},{"name":"beforeOccurrenceInBeforeAfter","value":{"type":"NUMBER","number":"1"}},{"name":"beforeAfterCondition","value":{"type":"STRING","string":"OR"}},{"name":"afterStringInBeforeAfter","value":{"type":"STRING","string":"\",\"dmbtr\":\""}},{"name":"afterOccurrenceInBeforeAfter","value":{"type":"NUMBER","number":"1"}},{"name":"ifNoMatchFound","value":{"type":"STRING","string":"EMPTY"}},{"name":"noOfCharsToGet","value":{"type":"STRING","string":"ALL"}},{"name":"isCaseSensitive","value":{"type":"STRING","string":"true"}},{"name":"trimSpaces","value":{"type":"BOOLEAN","boolean":true}},{"name":"removeEnter","value":{"type":"BOOLEAN","boolean":true}}],"returnTo":{"type":"VARIABLE","variableName":"gjahr"}},{"uid":"f70e05bb-dc6d-43e0-9baa-792a3ba7c117","commandName":"messageBox","packageName":"MessageBox","disabled":true,"attributes":[{"name":"title","value":{"type":"STRING","string":"Automation Anywhere Enterprise Client"}},{"name":"content","value":{"type":"STRING","expression":"$partidaCompensada$\nsaknr $saknr$\nbelnr $belnr$\nbuzei $buzei$\ngjahr $gjahr$"}},{"name":"scrollLines","value":{"type":"NUMBER","number":"30"}},{"name":"closeMsgBox","value":{"type":"BOOLEAN","boolean":false}}]},{"uid":"efb7a7ca-185d-49bd-92c2-e1575f686065","commandName":"logToFile","packageName":"LogToFile","disabled":false,"attributes":[{"name":"filePath","value":{"type":"FILE","expression":"file://$logFile$"}},{"name":"logContent","value":{"type":"STRING","expression":"UPDATE pa_bancarias\nSET compensado = true \nWHERE \"saknr\" = '$saknr$' \nand \"belnr\" = '$belnr$' \nand \"buzei\" = '$buzei$'\nand \"gjahr\" = '$gjahr$';"}},{"name":"appendTimestamp","value":{"type":"BOOLEAN","boolean":true}},{"name":"logOption","value":{"type":"STRING","string":"APPEND_FILE"}},{"name":"encodingValue","value":{"type":"STRING","string":"ANSI"}}]},{"uid":"e2ab6c74-be63-42d6-af97-5867f924f32c","commandName":"insertUpdateDelete","packageName":"Database","disabled":false,"attributes":[{"name":"query","value":{"type":"STRING","expression":"UPDATE pa_bancarias\nSET compensado = true \nWHERE \"saknr\" = '$saknr$' \nand \"belnr\" = '$belnr$' \nand \"buzei\" = '$buzei$'\nand \"gjahr\" = '$gjahr$';"}},{"name":"timeOut","value":{"type":"NUMBER","number":"9999"}},{"name":"session","value":{"type":"SESSION","sessionName":{"type":"STRING","string":"CompensacionQuery"}}}]}],"attributes":[{"name":"loopType","value":{"type":"STRING","string":"ITERATOR"}},{"name":"iterator","returnTo":{"type":"VARIABLE","variableName":"partidaCompensada"},"attributes":[{"name":"list","value":{"type":"VARIABLE","variableName":"partidasCompensadas"}},{"name":"forOptions","value":{"type":"STRING","string":"all"}}],"value":{"type":"ITERATOR","iteratorName":"list.iterators.list","packageName":"List"}}]}],"attributes":[{"name":"title","value":{"type":"STRING","string":"Actualiza la tabla PA_bancarias con los compensados"}}]}],"branches":[{"uid":"2e09c59b-ac72-465d-bbc7-cade0dd7d424","commandName":"else","packageName":"If","disabled":false,"children":[{"uid":"1adc568c-56a4-48f8-8b80-32878a1c303e","commandName":"logToFile","packageName":"LogToFile","disabled":false,"attributes":[{"name":"filePath","value":{"type":"FILE","expression":"file://$logFile$"}},{"name":"logContent","value":{"type":"STRING","string":"Compenso pero no llego a SAP. No se agrega al historico."}},{"name":"appendTimestamp","value":{"type":"BOOLEAN","boolean":false}},{"name":"logOption","value":{"type":"STRING","string":"OVERWRITE_FILE"}},{"name":"encodingValue","value":{"type":"STRING","string":"ANSI"}}]}]}],"attributes":[{"attributes":[{"name":"variable","value":{"type":"STRING","expression":"$respuestaServicio{Body}$"}},{"name":"operator","value":{"type":"STRING","string":"INCLUDE"}},{"name":"value","value":{"type":"STRING","string":"EXITOSO"}},{"name":"matchCase","value":{"type":"BOOLEAN","boolean":false}},{"name":"isIgnoreCarriage","value":{"type":"BOOLEAN","boolean":false}}],"name":"condition","value":{"type":"CONDITIONAL","conditionalName":"stringVariable","packageName":"String"}}]}],"branches":[],"attributes":[{"attributes":[{"name":"variable","value":{"type":"STRING","expression":"$retornoCompensacion{detailString}$"}},{"name":"operator","value":{"type":"STRING","string":"NEQ"}},{"name":"value","value":{"type":"STRING","string":""}},{"name":"matchCase","value":{"type":"BOOLEAN","boolean":false}},{"name":"isIgnoreCarriage","value":{"type":"BOOLEAN","boolean":false}}],"name":"condition","value":{"type":"CONDITIONAL","conditionalName":"stringVariable","packageName":"String"}}]}],"attributes":[{"name":"title","value":{"type":"STRING","string":"Envío a SAP y actualización de compensados"}}]}],"attributes":[{"name":"loopType","value":{"type":"STRING","string":"ITERATOR"}},{"name":"iterator","returnTo":{"type":"VARIABLE","variableName":"filaReglasBancarias"},"attributes":[{"name":"session","value":{"type":"SESSION","sessionName":{"type":"STRING","string":"reglasBancarias"}}}],"value":{"type":"ITERATOR","iteratorName":"iterators.resultset","packageName":"Database"}}]}],"attributes":[{"name":"title","value":{"type":"STRING","string":"Reglas Bancarias"}}]}],"attributes":[{"name":"loopType","value":{"type":"STRING","string":"ITERATOR"}},{"name":"iterator","returnTo":{"type":"VARIABLE","variableName":"filaFBL3N"},"attributes":[{"name":"session","value":{"type":"SESSION","sessionName":{"type":"STRING","string":"D02_U"}}}],"value":{"type":"ITERATOR","iteratorName":"iterators.resultset","packageName":"Database"}}]}],"attributes":[{"name":"title","value":{"type":"STRING","string":"FLB3N de la BD"}}]}],"branches":[{"uid":"7b26faa4-c422-4c90-9d71-1b3bb9efb4ac","commandName":"catch","packageName":"ErrorHandler","disabled":false,"children":[{"uid":"a6467940-e1f9-4689-8a2d-df3e8c57e6da","commandName":"messageBox","packageName":"MessageBox","disabled":true,"attributes":[{"name":"title","value":{"type":"STRING","string":"Automation Anywhere Enterprise Client"}},{"name":"content","value":{"type":"STRING","expression":"$ErrorLineNumber.Number:toString$ - $ErrorMessage$"}},{"name":"scrollLines","value":{"type":"NUMBER","number":"30"}},{"name":"closeMsgBox","value":{"type":"BOOLEAN","boolean":false}}]},{"uid":"1d1dbde7-8ed3-48ef-9f97-b3c00ba9321c","commandName":"logToFile","packageName":"LogToFile","disabled":false,"attributes":[{"name":"filePath","value":{"type":"FILE","expression":"file://$logFile$"}},{"name":"logContent","value":{"type":"STRING","expression":"$ErrorLineNumber.Number:toString$ - $ErrorMessage$"}},{"name":"appendTimestamp","value":{"type":"BOOLEAN","boolean":true}},{"name":"logOption","value":{"type":"STRING","string":"APPEND_FILE"}},{"name":"encodingValue","value":{"type":"STRING","string":"ANSI"}}]},{"uid":"aed8f817-acbd-4bcf-96aa-280c359bf45c","commandName":"logToFile","packageName":"LogToFile","disabled":false,"attributes":[{"name":"filePath","value":{"type":"FILE","string":"file:////nas/Tecnologia/RPA_360/Automation%20Anywhere/My%20Tasks/ConBanc/Logs/logCompen.txt"}},{"name":"logContent","value":{"type":"STRING","expression":"$ErrorLineNumber.Number:toString$ - $ErrorMessage$"}},{"name":"appendTimestamp","value":{"type":"BOOLEAN","boolean":true}},{"name":"logOption","value":{"type":"STRING","string":"APPEND_FILE"}},{"name":"encodingValue","value":{"type":"STRING","string":"ANSI"}}]},{"uid":"effaefdb-1e88-4ccc-85ea-3ffa7d8a91b7","commandName":"SendMailV2","packageName":"Email","disabled":false,"attributes":[{"name":"toAddress","value":{"type":"STRING","string":"rpa@bancard.com.py"}},{"name":"cc","value":{"type":"STRING","string":""}},{"name":"bcc","value":{"type":"STRING","string":""}},{"name":"invalidAddress","value":{"type":"BOOLEAN","boolean":false}},{"name":"subject","value":{"type":"STRING","string":"Compensaciones D02_U"}},{"name":"ensureAttachmentsExist","value":{"type":"BOOLEAN","boolean":false}},{"name":"bodyFormat","value":{"type":"STRING","string":"PLAINTEXT"}},{"name":"message","value":{"type":"STRING","expression":"$ErrorLineNumber.Number:toString$ - $ErrorMessage$"}},{"name":"goGreen","value":{"type":"BOOLEAN","boolean":false}},{"name":"serverType","value":{"type":"STRING","string":"EMAIL_SERVER"}},{"name":"fromAddress","value":{"type":"STRING","string":"noreply@bancard.com.py"}},{"name":"useSecureConnection","value":{"type":"BOOLEAN","boolean":false}},{"name":"emailServerHost","value":{"type":"STRING","expression":"$@AAE_EmailSettings_host$"}},{"name":"emailServerPort","value":{"type":"NUMBER","expression":"$@AAE_EmailSettings_port$"}},{"name":"requiresAuthentication","value":{"type":"BOOLEAN","boolean":false}},{"name":"emailServerAuthType","value":{"type":"STRING","string":"Basic"}}]}],"attributes":[{"name":"exceptionType","value":{"type":"EXCEPTION","exceptionName":"BotException","packageName":"ErrorHandler"}},{"name":"continueOnError","value":{"type":"BOOLEAN","boolean":true}}],"returns":{"errorMessage":{"type":"VARIABLE","variableName":"ErrorMessage"},"errorLineNumber":{"type":"VARIABLE","variableName":"ErrorLineNumber"}}}]}],"variables":[{"name":"entorno","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"logFile","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"rutaFBL3N","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"rutaReglas","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"rutaTablaDeCierres","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"rutaTemp","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"correoRPA","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"correoUsuarios","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"nombreArchivoTemp","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"extensionArchivoTemp","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"filaFBL3N","description":"Cada linea del fbl3n","type":"RECORD","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"RECORD","record":{"schema":[],"values":[]}}},{"name":"cuentaPagadora","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"cuentaCobradora","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"fbl3nSociedad","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"Rest-Response-Assignment","description":"","type":"DICTIONARY","subtype":"STRING","input":false,"output":false,"defaultValue":{"type":"DICTIONARY","dictionary":[]}},{"name":"begda","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"endda","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"responseSAP","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"filaReglasBancarias","description":"","type":"RECORD","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"RECORD","record":{"schema":[],"values":[]}}},{"name":"tipoDoc_A","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"tipoDoc_B","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"textoTipoDoc_A_1","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"textoTipoDoc_A_2","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"textoTipoDoc_B_1","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"textoTipoDoc_B_2","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"dia","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"mes","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"limRedondeo","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"dejarSaldo","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"textoSaldo","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"retardoTipoDoc_A","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"retardoTipoDoc_B","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"retardoHabil","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"idRegla","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"filaCompensaciones","description":"","type":"RECORD","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"RECORD","record":{"schema":[],"values":[]}}},{"name":"ErrorMessage","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"ErrorLineNumber","description":"","type":"NUMBER","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"NUMBER","number":"0"}},{"name":"claseDocGenerar","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"trasladarCompensar","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"headerString","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"mandante","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"detailString","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"retornoCompensacion","description":"","type":"DICTIONARY","readOnly":false,"input":false,"output":false,"subtype":"STRING","defaultValue":{"type":"DICTIONARY","dictionary":[]}},{"name":"outputString","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"archivoSAP","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"entidad","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"emptyFile","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"respuestaServicio","description":"","type":"DICTIONARY","readOnly":false,"input":false,"output":false,"subtype":"STRING","defaultValue":{"type":"DICTIONARY","dictionary":[]}},{"name":"fbl3nGrupo","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"respuestaCorregirFechaCompensacion","description":"","type":"DICTIONARY","readOnly":false,"input":false,"output":false,"subtype":"STRING","defaultValue":{"type":"DICTIONARY","dictionary":[]}},{"name":"query","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"vEjercicio","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"vMesContable","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"filasTabladeCierre","description":"","type":"RECORD","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"RECORD","record":{"schema":[],"values":[]}}},{"name":"compensar","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"mesContable","description":"","type":"STRING","readOnly":false,"input":true,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"ejercicio","description":"","type":"STRING","readOnly":false,"input":true,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"vUltimoDiaMes","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"partidasCompensadas","description":"","type":"LIST","readOnly":false,"input":false,"output":false,"subtype":"STRING","defaultValue":{"type":"LIST","list":[]}},{"name":"partidaCompensada","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"saknr","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"belnr","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"buzei","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"gjahr","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":""}}],"packages":[{"name":"Comment","version":"2.14.0","settingsAttributes":[]},{"name":"Database","version":"5.1.0","settingsAttributes":[]},{"name":"Email","version":"3.18.2","settingsAttributes":[]},{"name":"ErrorHandler","version":"2.11.3-20230316-162433","settingsAttributes":[]},{"name":"File","version":"6.7.0","settingsAttributes":[]},{"name":"If","version":"3.6.2-20230316-161323","settingsAttributes":[]},{"name":"LegacyAutomation","version":"6.3.2","settingsAttributes":[]},{"name":"List","version":"2.13.0","settingsAttributes":[]},{"name":"LogToFile","version":"3.8.0","settingsAttributes":[]},{"name":"Loop","version":"3.7.5-20230316-155504","settingsAttributes":[]},{"name":"MessageBox","version":"3.7.0","settingsAttributes":[]},{"name":"Number","version":"3.8.0","settingsAttributes":[]},{"name":"Rest","version":"3.12.0-20220926-070217","settingsAttributes":[]},{"name":"Step","version":"2.5.0-20230105-135537","settingsAttributes":[]},{"name":"String","version":"5.8.0","settingsAttributes":[]},{"name":"System","version":"3.12.0","settingsAttributes":[]},{"name":"TaskBot","version":"2.8.0-20230530-152744","settingsAttributes":[]}],"migrationJournalReviewIds":[],"workItemTemplateName":null,"properties":{"botCodeVersion":"4","improvedNumberSupport":true,"timeout":"0s","automationPriority":"PRIORITY_MEDIUM"}}