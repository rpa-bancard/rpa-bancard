{"triggers":[],"nodes":[{"uid":"5a4a37bf-d1fe-4ff9-9164-a738da219116","commandName":"step","packageName":"Step","disabled":false,"children":[{"uid":"31bde5ee-4738-41ac-9243-b428d3fd6e8e","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$@AAApplicationPath$\\Automation Anywhere\\My Tasks\\Compensaciones Bancarias\\Logs\\D02_U.txt"}}],"returnTo":{"type":"VARIABLE","variableName":"logFile"}},{"uid":"5a4622c9-1de6-44fc-8ec4-768351d0fd72","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$@AAApplicationPath$\\Automation Anywhere\\My Tasks\\Compensaciones Bancarias\\Config\\FBL3N\\"}}],"returnTo":{"type":"VARIABLE","variableName":"rutaFBL3N"}},{"uid":"7beb747c-f1dd-4beb-acdc-c43a913de8ae","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$@AAApplicationPath$\\Automation Anywhere\\My Tasks\\Compensaciones Bancarias\\Config\\Reglas\\"}}],"returnTo":{"type":"VARIABLE","variableName":"rutaReglas"}},{"uid":"c79f752e-1f1b-4f0b-a702-3fccbfc03eda","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$@AAApplicationPath$\\Calendario\\tabladecierres.csv"}}],"returnTo":{"type":"VARIABLE","variableName":"rutaTablaDeCierres"}},{"uid":"a815aed0-f768-4511-8019-ce94d76403cc","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$@AAApplicationPath$\\Automation Anywhere\\My Tasks\\Compensaciones Bancarias\\Temp\\"}}],"returnTo":{"type":"VARIABLE","variableName":"rutaTemp"}},{"uid":"f6f83254-1791-4daa-a286-dc995480aff0","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","string":"PRD"}}],"returnTo":{"type":"VARIABLE","variableName":"entorno"}},{"uid":"7d944877-c2a7-443d-9c14-952a6d4dfeec","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","string":"rpa@bancard.com.py"}}],"returnTo":{"type":"VARIABLE","variableName":"correoRPA"}},{"uid":"1c7f7e45-0bd2-4238-ab91-6167a7bd688d","commandName":"if","packageName":"If","disabled":false,"children":[{"uid":"22b7ecc8-1bfc-4871-b86f-29264e51eab4","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","string":"conciliaciones@bancard.com.py"}}],"returnTo":{"type":"VARIABLE","variableName":"correoUsuarios"}}],"branches":[{"uid":"a0dfa049-acbf-43c6-8dae-c1223e49479c","commandName":"else","packageName":"If","disabled":false,"children":[{"uid":"907db72d-2684-46f9-ae77-66a0ede6e1d0","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","string":"bruno.ruiz@bancard.com.py"}}],"returnTo":{"type":"VARIABLE","variableName":"correoUsuarios"}}]}],"attributes":[{"attributes":[{"name":"variable","value":{"type":"STRING","expression":"$entorno$"}},{"name":"operator","value":{"type":"STRING","string":"EQ"}},{"name":"value","value":{"type":"STRING","string":"PRD"}},{"name":"matchCase","value":{"type":"BOOLEAN","boolean":true}},{"name":"isIgnoreCarriage","value":{"type":"BOOLEAN","boolean":false}}],"name":"condition","value":{"type":"CONDITIONAL","conditionalName":"stringVariable","packageName":"String"}}]}],"attributes":[{"name":"title","value":{"type":"STRING","string":"Definición de rutas y Entorno"}}]},{"uid":"07d19c94-24fe-4fcc-9ea7-3823c846ea29","commandName":"step","packageName":"Step","disabled":false,"children":[{"uid":"fe265493-cf4b-4244-813a-1f98e36b04f8","commandName":"loop.commands.start","packageName":"Loop","disabled":false,"children":[{"uid":"2dde04d3-fcad-4d91-9a73-9fdaa4f89654","commandName":"deleteFiles","packageName":"File","disabled":false,"attributes":[{"name":"filePath","value":{"type":"FILE","expression":"file://$rutaTemp$/$nombreArchivoTemp$.$extensionArchivoTemp$"}},{"name":"isSize","value":{"type":"BOOLEAN","boolean":false}},{"name":"isDate","value":{"type":"BOOLEAN","boolean":false}}]}],"attributes":[{"name":"loopType","value":{"type":"STRING","string":"ITERATOR"}},{"name":"iterator","returnTo":{"type":"DICTIONARY","dictionary":[{"key":"name","value":{"type":"VARIABLE","variableName":"nombreArchivoTemp"}},{"key":"extension","value":{"type":"VARIABLE","variableName":"extensionArchivoTemp"}}]},"attributes":[{"name":"folderPath","value":{"type":"STRING","expression":"$rutaTemp$"}}],"value":{"type":"ITERATOR","iteratorName":"loop.iterators.files","packageName":"File"}}]},{"uid":"5f4925f1-6e21-482e-bf8a-04f6ea0f7f34","commandName":"deleteFiles","packageName":"File","disabled":true,"attributes":[{"name":"filePath","value":{"type":"FILE","expression":"file://$logFile$"}},{"name":"isSize","value":{"type":"BOOLEAN","boolean":false}},{"name":"isDate","value":{"type":"BOOLEAN","boolean":false}}]}],"attributes":[{"name":"title","value":{"type":"STRING","string":"Preparación de archivos - Vaciado de Carpetas"}}]},{"uid":"96a36944-ce3e-484a-90ed-49eea783c94e","commandName":"step","packageName":"Step","disabled":false,"children":[{"uid":"05409f5f-7b2e-49d0-9273-fae150d308d3","commandName":"logToFile","packageName":"LogToFile","disabled":false,"attributes":[{"name":"filePath","value":{"type":"FILE","expression":"file://$logFile$"}},{"name":"logContent","value":{"type":"STRING","string":"Conexión a la BD"}},{"name":"appendTimestamp","value":{"type":"BOOLEAN","boolean":true}},{"name":"logOption","value":{"type":"STRING","string":"APPEND_FILE"}},{"name":"encodingValue","value":{"type":"STRING","string":"ANSI"}}]},{"uid":"cc5ed392-2530-4884-a069-efe496c81267","commandName":"connect","packageName":"Database","disabled":false,"attributes":[{"name":"connectionMode","value":{"type":"STRING","string":"DEFAULT"}},{"name":"connectionOption","value":{"type":"STRING","string":"text"}},{"name":"connectionURL","value":{"type":"STRING","string":"Provider=MSDASQL.1;Persist Security Info=False;Extended Properties=\"DSN=PostgreSQL35W;DATABASE=rpa-desa;SERVER=10.100.14.49;PORT=5432;UID=postgres;SSLmode=disable;ReadOnly=0;Protocol=7.4;FakeOidIndex=0;ShowOidColumn=0;RowVersioning=0;ShowSystemTables=0;Fetch=100;UnknownSizes=0;MaxVarcharSize=255;MaxLongVarcharSize=8190;Debug=0;CommLog=0;UseDeclareFetch=0;TextAsLongVarchar=1;UnknownsAsLongVarchar=0;BoolsAsChar=1;Parse=0;ExtraSysTablePrefixes=;LFConversion=1;UpdatableCursors=1;TrueIsMinus1=0;BI=0;ByteaAsLongVarBinary=1;UseServerSidePrepare=1;LowerCaseIdentifier=0;D6=-101;XaOpt=1\""}},{"name":"use64BitDriver","value":{"type":"BOOLEAN","boolean":false}},{"name":"isUserDefinedDriver","value":{"type":"BOOLEAN","boolean":false}}],"returnTo":{"type":"SESSION","sessionName":{"type":"STRING","string":"D02_U"},"sessionTarget":"GLOBAL"}}],"attributes":[{"name":"title","value":{"type":"STRING","string":"Conexión con BD"}}]},{"uid":"090b1f7a-6516-44c2-8704-44ea6dfdaa24","commandName":"step","packageName":"Step","disabled":false,"children":[{"uid":"342592d5-3b6d-44b8-86c7-962e728a0a92","commandName":"sqlQuery","packageName":"Database","disabled":false,"attributes":[{"name":"query","value":{"type":"STRING","string":"SELECT *\nFROM fbl3n_bancarias\nJOIN llaves_de_compensacion ON fbl3n_bancarias.sociedad = llaves_de_compensacion.sociedad_num\nWHERE llaves_de_compensacion.estado = 'TRUE' and grupo = 'D02_U';"}},{"name":"doExport","value":{"type":"BOOLEAN","boolean":false}},{"name":"session","value":{"type":"SESSION","sessionName":{"type":"STRING","string":"D02_U"}}}]},{"uid":"a076732a-6e21-4efa-9377-a195e11f8314","commandName":"loop.commands.start","packageName":"Loop","disabled":false,"children":[{"uid":"787c92f6-7d04-4e49-b7d7-19595ddf308c","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$filaFBL3N[1]$"}}],"returnTo":{"type":"VARIABLE","variableName":"cuentaPagadora"}},{"uid":"5aa4fee7-d5cc-441c-a4a8-89f3ec30b9c9","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$filaFBL3N[2]$"}}],"returnTo":{"type":"VARIABLE","variableName":"cuentaCobradora"}},{"uid":"0ff1e793-0e12-461a-b340-77cc6556c36f","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$filaFBL3N[3]$"}}],"returnTo":{"type":"VARIABLE","variableName":"fbl3nSociedad"}},{"uid":"08fe088e-651a-45b3-809f-83d7d5434ab5","commandName":"logToFile","packageName":"LogToFile","disabled":false,"attributes":[{"name":"filePath","value":{"type":"FILE","expression":"file://$logFile$"}},{"name":"logContent","value":{"type":"STRING","expression":"FBL3N: Pagadora: $cuentaPagadora$ - Cobradora: $cuentaCobradora$ -Sociedad: $fbl3nSociedad$"}},{"name":"appendTimestamp","value":{"type":"BOOLEAN","boolean":true}},{"name":"logOption","value":{"type":"STRING","string":"APPEND_FILE"}},{"name":"encodingValue","value":{"type":"STRING","string":"ANSI"}}]},{"uid":"fdd9ad2a-2dc7-42bd-9355-8a1d884f0310","commandName":"step","packageName":"Step","disabled":false,"children":[{"uid":"f311e915-6a65-421e-b5bb-2e13e6b7d44c","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$System:Year.Number:toString$-01-01"}}],"returnTo":{"type":"VARIABLE","variableName":"begda"}},{"uid":"6351f956-dbc8-45fe-b0f9-a1ec249e7507","commandName":"if","packageName":"If","disabled":false,"children":[{"uid":"6e9c3e9f-9089-4b85-b31a-a665a085d031","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"0$System:Day.Number:toString$"}}],"returnTo":{"type":"VARIABLE","variableName":"dia"}}],"branches":[{"uid":"4a4c4cec-a54d-420a-99c0-b0c4a1b94699","commandName":"else","packageName":"If","disabled":false,"children":[{"uid":"2779b024-eaef-4408-be34-a6fcb06b6a69","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$System:Day.Number:toString$"}}],"returnTo":{"type":"VARIABLE","variableName":"dia"}}]}],"attributes":[{"attributes":[{"name":"variable","value":{"type":"NUMBER","expression":"$System:Day$"}},{"name":"operator","value":{"type":"STRING","string":"LTE"}},{"name":"value","value":{"type":"NUMBER","number":"9"}}],"name":"condition","value":{"type":"CONDITIONAL","conditionalName":"numberVariable","packageName":"Number"}}]},{"uid":"1a730cdb-2461-4dcb-827b-b14ff2243154","commandName":"if","packageName":"If","disabled":false,"children":[{"uid":"56530bdc-4fd5-462b-bf11-0996c432ba1a","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"0$System:Month.Number:toString$"}}],"returnTo":{"type":"VARIABLE","variableName":"mes"}}],"branches":[{"uid":"37831d57-2500-4202-bd15-f56d3b464c93","commandName":"else","packageName":"If","disabled":false,"children":[{"uid":"4ecf3c8e-38bf-4a0a-95ce-3bf0a3c2fc66","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$System:Month.Number:toString$"}}],"returnTo":{"type":"VARIABLE","variableName":"mes"}}]}],"attributes":[{"attributes":[{"name":"variable","value":{"type":"NUMBER","expression":"$System:Month$"}},{"name":"operator","value":{"type":"STRING","string":"LTE"}},{"name":"value","value":{"type":"NUMBER","number":"9"}}],"name":"condition","value":{"type":"CONDITIONAL","conditionalName":"numberVariable","packageName":"Number"}}]},{"uid":"2d2b4351-3047-4568-88f6-8ccdb6605a79","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$System:Year.Number:toString$-$mes$-$dia$"}}],"returnTo":{"type":"VARIABLE","variableName":"endda"}},{"uid":"3e4e1ff0-08d8-452d-9510-d6dbe041718b","commandName":"if","packageName":"If","disabled":false,"children":[{"uid":"65dbe811-0871-42cf-b5e6-86f15bf0645d","commandName":"restGet","packageName":"Rest","disabled":false,"attributes":[{"name":"uriOption","value":{"type":"STRING","string":"text"}},{"name":"uri","value":{"type":"STRING","expression":"https://sap-erp-prd-1.bancardnet.dom:44300/sap/bc/zopenitems?sap-client=400&entrada={\"gEsCabecera\":{\"mandt\":\"400\",\"bukrs\":\"$fbl3nSociedad$\",\"begda\":\"$begda$\",\"endda\":\"$endda$\"},\"gTiDetalle\":[{\"saknr\":\"$cuentaPagadora$\"},{\"saknr\":\"$cuentaCobradora$\"}]}"}},{"name":"proxyType","value":{"type":"STRING","string":"SYSTEM"}},{"name":"authenticationMode","value":{"type":"STRING","string":"Basic"}},{"name":"basicUserName","value":{"type":"CREDENTIAL","credential":{"name":"RPA 4","lockerName":"SAP PASS","attributeName":"RPA4 ID"}}},{"name":"basicPassword","value":{"type":"CREDENTIAL","credential":{"name":"RPA 4","lockerName":"SAP PASS","attributeName":"RPA4 PASS"}}},{"name":"captureFailureResponse","value":{"type":"BOOLEAN","boolean":true}},{"name":"allowInsecureConnection","value":{"type":"BOOLEAN","boolean":false}},{"name":"timeOut","value":{"type":"NUMBER","expression":"$@AARestTimeOut$"}}],"returnTo":{"type":"VARIABLE","variableName":"Rest-Response-Assignment"}},{"uid":"3126298d-7954-4570-aad7-5addcc9e544f","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$Rest-Response-Assignment{Body}$"}}],"returnTo":{"type":"VARIABLE","variableName":"responseSAP"}}],"branches":[{"uid":"fe343533-b3df-4b3a-b7fb-f29d0c2c5905","commandName":"else","packageName":"If","disabled":false,"children":[{"uid":"9d8e0e50-9386-4cd5-87db-8c25ebf91d7a","commandName":"restGet","packageName":"Rest","disabled":false,"attributes":[{"name":"uriOption","value":{"type":"STRING","string":"text"}},{"name":"uri","value":{"type":"STRING","expression":"https://sap-qas-des-1.bancardnet.dom:44300/sap/bc/zopenitems?sap-client=150&entrada={\"gEsCabecera\":{\"mandt\":\"150\",\"bukrs\":\"$fbl3nSociedad$\",\"begda\":\"$begda$\",\"endda\":\"$endda$\"},\"gTiDetalle\":[{\"saknr\":\"$cuentaPagadora$\"},{\"saknr\":\"$cuentaCobradora$\"}]}"}},{"name":"proxyType","value":{"type":"STRING","string":"SYSTEM"}},{"name":"authenticationMode","value":{"type":"STRING","string":"Basic"}},{"name":"basicUserName","value":{"type":"CREDENTIAL","credential":{"name":"RPA 4","lockerName":"SAP PASS","attributeName":"RPA4 ID"}}},{"name":"basicPassword","value":{"type":"CREDENTIAL","credential":{"name":"RPA 4","lockerName":"SAP PASS","attributeName":"RPA4 PASS"}}},{"name":"captureFailureResponse","value":{"type":"BOOLEAN","boolean":true}},{"name":"allowInsecureConnection","value":{"type":"BOOLEAN","boolean":false}},{"name":"timeOut","value":{"type":"NUMBER","expression":"$@AARestTimeOut$"}}],"returnTo":{"type":"VARIABLE","variableName":"Rest-Response-Assignment"}},{"uid":"b42246b8-aaff-43ef-8bfe-442c28297eb9","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$Rest-Response-Assignment{Body}$"}}],"returnTo":{"type":"VARIABLE","variableName":"responseSAP"}}]}],"attributes":[{"attributes":[{"name":"variable","value":{"type":"STRING","expression":"$entorno$"}},{"name":"operator","value":{"type":"STRING","string":"EQ"}},{"name":"value","value":{"type":"STRING","string":"PRD"}},{"name":"matchCase","value":{"type":"BOOLEAN","boolean":true}},{"name":"isIgnoreCarriage","value":{"type":"BOOLEAN","boolean":false}}],"name":"condition","value":{"type":"CONDITIONAL","conditionalName":"stringVariable","packageName":"String"}}]},{"uid":"e48ef490-b0fc-44ef-8f93-5aa6a2d9d4a1","commandName":"step","packageName":"Step","disabled":false,"children":[{"uid":"839c8ae6-f16b-4884-b8ed-919dacab5dde","commandName":"runTask","packageName":"TaskBot","disabled":false,"attributes":[{"name":"taskbot","value":{"type":"TASKBOT","taskbotInput":{"type":"DICTIONARY","dictionary":[{"key":"jsonPartidasAbiertas","value":{"type":"STRING","expression":"$responseSAP$"}},{"key":"logFile","value":{"type":"STRING","expression":"$logFile$"}}]},"taskbotFile":{"type":"FILE","string":"repository:///Automation%20Anywhere/Bots/My%20Tasks/Compensaciones%20bancarias/JSONtoBD"}}},{"name":"repeatOption","value":{"type":"STRING","string":"DO_NOT_REPEAT"}},{"name":"delayNextRepetition","value":{"type":"BOOLEAN","boolean":false}},{"name":"continueOnError","value":{"type":"BOOLEAN","boolean":false}}]}],"attributes":[{"name":"title","value":{"type":"STRING","string":"Cargar partidas a la BD"}}]}],"attributes":[{"name":"title","value":{"type":"STRING","string":"Partidas abiertas de SAP"}}]},{"uid":"b97bdab7-c499-4915-a1b6-f9a3e56655bd","commandName":"step","packageName":"Step","disabled":false,"children":[{"uid":"829977de-b319-4ab3-a3d1-50acf9b776b8","commandName":"connect","packageName":"Database","disabled":false,"attributes":[{"name":"connectionMode","value":{"type":"STRING","string":"DEFAULT"}},{"name":"connectionOption","value":{"type":"STRING","string":"text"}},{"name":"connectionURL","value":{"type":"STRING","string":"Provider=MSDASQL.1;Persist Security Info=False;Extended Properties=\"DSN=PostgreSQL35W;DATABASE=rpa-desa;SERVER=10.100.14.49;PORT=5432;UID=postgres;SSLmode=disable;ReadOnly=0;Protocol=7.4;FakeOidIndex=0;ShowOidColumn=0;RowVersioning=0;ShowSystemTables=0;Fetch=100;UnknownSizes=0;MaxVarcharSize=255;MaxLongVarcharSize=8190;Debug=0;CommLog=0;UseDeclareFetch=0;TextAsLongVarchar=1;UnknownsAsLongVarchar=0;BoolsAsChar=1;Parse=0;ExtraSysTablePrefixes=;LFConversion=1;UpdatableCursors=1;TrueIsMinus1=0;BI=0;ByteaAsLongVarBinary=1;UseServerSidePrepare=1;LowerCaseIdentifier=0;D6=-101;XaOpt=1\""}},{"name":"use64BitDriver","value":{"type":"BOOLEAN","boolean":false}},{"name":"isUserDefinedDriver","value":{"type":"BOOLEAN","boolean":false}}],"returnTo":{"type":"SESSION","sessionName":{"type":"STRING","string":"reglasBancarias"},"sessionTarget":"GLOBAL"}},{"uid":"cef47928-4baa-4977-b869-d19d2987aa2b","commandName":"sqlQuery","packageName":"Database","disabled":false,"attributes":[{"name":"query","value":{"type":"STRING","expression":"SELECT * \nFROM reglas_bancarias \nWHERE \"Cuenta Pagadora\" = '$cuentaPagadora$' \n    AND \"Cuenta Cobradora\" = '$cuentaCobradora$' \n    AND Soc = '$fbl3nSociedad$' \n    AND Grupo = 'D02_U' \n    AND \"ESTADO\" = 'ACTIVADO';"}},{"name":"timeOut","value":{"type":"NUMBER","number":"6000"}},{"name":"doExport","value":{"type":"BOOLEAN","boolean":false}},{"name":"session","value":{"type":"SESSION","sessionName":{"type":"STRING","string":"reglasBancarias"}}}]},{"uid":"365bdcf9-6137-4dda-8ac0-d7f40d2193ed","commandName":"loop.commands.start","packageName":"Loop","disabled":false,"children":[{"uid":"f62c3f1c-e4ca-4e67-9506-7137a7559dfa","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$filaReglasBancarias[5]$"}}],"returnTo":{"type":"VARIABLE","variableName":"docClasei"}},{"uid":"09037699-2192-4d37-9b45-a2746150ed70","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$filaReglasBancarias[6]$"}}],"returnTo":{"type":"VARIABLE","variableName":"docClasej"}},{"uid":"8bf21e29-f0ba-4320-a8c1-d2255debeda3","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$filaReglasBancarias[7]$"}}],"returnTo":{"type":"VARIABLE","variableName":"texto_i1"}},{"uid":"fff0378f-43fe-4414-a374-cce0d26575b0","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$filaReglasBancarias[8]$"}}],"returnTo":{"type":"VARIABLE","variableName":"texto_i2"}},{"uid":"bc5d8da8-2b78-43b4-84ed-30f342415dd0","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$filaReglasBancarias[9]$"}}],"returnTo":{"type":"VARIABLE","variableName":"texto_i3"}},{"uid":"6c560587-fb7e-475b-9530-4e633fc77b95","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$filaReglasBancarias[10]$"}}],"returnTo":{"type":"VARIABLE","variableName":"texto_j1"}},{"uid":"61659147-be34-4c52-b29e-0451546810b9","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$filaReglasBancarias[11]$"}}],"returnTo":{"type":"VARIABLE","variableName":"texto_j2"}},{"uid":"1522c848-1e80-4420-866e-eea5a9a2f9de","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$filaReglasBancarias[12]$"}}],"returnTo":{"type":"VARIABLE","variableName":"texto_j3"}},{"uid":"345bf940-bd70-447e-bd89-3e84e24d3349","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$filaReglasBancarias[14]$"}}],"returnTo":{"type":"VARIABLE","variableName":"limRedondeo"}},{"uid":"cbbf56ba-e319-4a8f-97bc-88604a3c22bc","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$filaReglasBancarias[15]$"}}],"returnTo":{"type":"VARIABLE","variableName":"dejarSaldo"}},{"uid":"5f417806-efad-4c1d-96e5-e4b1b70af7fd","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$filaReglasBancarias[16]$"}}],"returnTo":{"type":"VARIABLE","variableName":"textoSaldo"}},{"uid":"fe96eecb-fd14-4510-8e7c-17b9bbf40cf1","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$filaReglasBancarias[17]$"}}],"returnTo":{"type":"VARIABLE","variableName":"retardoDocClase_i"}},{"uid":"a9a3218b-bcef-4f7e-82ba-a98796f2cca1","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$filaReglasBancarias[18]$"}}],"returnTo":{"type":"VARIABLE","variableName":"retardoDocClase_j"}},{"uid":"f8e093b3-f488-4975-80cb-a73524bc414a","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$filaReglasBancarias[19]$"}}],"returnTo":{"type":"VARIABLE","variableName":"retardoHabil"}},{"uid":"3c711817-2af4-44d0-98d5-77092e219b16","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$filaReglasBancarias[22]$"}}],"returnTo":{"type":"VARIABLE","variableName":"idRegla"}},{"uid":"e9cf092e-6ec1-4712-b9de-92aaae28005d","commandName":"logToFile","packageName":"LogToFile","disabled":false,"attributes":[{"name":"filePath","value":{"type":"FILE","expression":"file://$logFile$"}},{"name":"logContent","value":{"type":"STRING","expression":"ID REGLA: $idRegla$\nRetardo i: $retardoDocClase_i$\nRetardo j: $retardoDocClase_j$"}},{"name":"appendTimestamp","value":{"type":"BOOLEAN","boolean":true}},{"name":"logOption","value":{"type":"STRING","string":"APPEND_FILE"}},{"name":"encodingValue","value":{"type":"STRING","string":"ANSI"}}]},{"uid":"54a8bd05-68bc-4b96-8c08-d0d5c1317637","commandName":"if","packageName":"If","disabled":false,"children":[{"uid":"d5749312-3416-48ff-9afa-2e39af678c05","commandName":"runTask","packageName":"TaskBot","disabled":false,"attributes":[{"name":"taskbot","value":{"type":"TASKBOT","taskbotInput":{"type":"DICTIONARY","dictionary":[{"key":"cantDiasRetardo","value":{"type":"STRING","expression":"$retardoDocClase_i$"}},{"key":"retardoHabil","value":{"type":"STRING","expression":"$retardoHabil$"}},{"key":"tipoDoc","value":{"type":"STRING","expression":"$docClasei$"}},{"key":"claseDoc","value":{"type":"STRING","string":"\"_Clase_i_\""}}]},"taskbotFile":{"type":"FILE","string":"repository:///Automation%20Anywhere/Bots/My%20Tasks/Compensaciones%20bancarias/Metabots/Retardo"}}},{"name":"repeatOption","value":{"type":"STRING","string":"DO_NOT_REPEAT"}},{"name":"delayNextRepetition","value":{"type":"BOOLEAN","boolean":false}},{"name":"continueOnError","value":{"type":"BOOLEAN","boolean":false}}]}],"branches":[],"attributes":[{"attributes":[{"name":"variable","value":{"type":"STRING","expression":"$retardoDocClase_i$"}},{"name":"operator","value":{"type":"STRING","string":"GreaterThan"}},{"name":"value","value":{"type":"STRING","string":"0"}}],"name":"condition","value":{"type":"CONDITIONAL","conditionalName":"legacyConditionVariable","packageName":"LegacyAutomation"}}]},{"uid":"b2a2ec95-371d-438c-bce2-5e01978b8e69","commandName":"if","packageName":"If","disabled":false,"children":[{"uid":"ad38c2b1-1df1-4dd8-98d0-0849f8675429","commandName":"runTask","packageName":"TaskBot","disabled":false,"attributes":[{"name":"taskbot","value":{"type":"TASKBOT","taskbotInput":{"type":"DICTIONARY","dictionary":[{"key":"cantDiasRetardo","value":{"type":"STRING","expression":"$retardoDocClase_j$"}},{"key":"retardoHabil","value":{"type":"STRING","expression":"$retardoHabil$"}},{"key":"tipoDoc","value":{"type":"STRING","expression":"$docClasej$"}},{"key":"claseDoc","value":{"type":"STRING","string":"\"_Clase_j_\""}}]},"taskbotFile":{"type":"FILE","string":"repository:///Automation%20Anywhere/Bots/My%20Tasks/Compensaciones%20bancarias/Metabots/Retardo"}}},{"name":"repeatOption","value":{"type":"STRING","string":"DO_NOT_REPEAT"}},{"name":"delayNextRepetition","value":{"type":"BOOLEAN","boolean":false}},{"name":"continueOnError","value":{"type":"BOOLEAN","boolean":false}}]}],"branches":[],"attributes":[{"attributes":[{"name":"variable","value":{"type":"STRING","expression":"$retardoDocClase_j$"}},{"name":"operator","value":{"type":"STRING","string":"GreaterThan"}},{"name":"value","value":{"type":"STRING","string":"0"}}],"name":"condition","value":{"type":"CONDITIONAL","conditionalName":"legacyConditionVariable","packageName":"LegacyAutomation"}}]},{"uid":"4260f117-bac2-4151-bf2a-b170e6cb2640","commandName":"step","packageName":"Step","disabled":false,"children":[{"uid":"6a34e69a-db54-4321-9569-6a9c5192c9b2","commandName":"if","packageName":"If","disabled":false,"children":[{"uid":"bab2baea-4d27-4ade-829a-30a5ccb0ad62","commandName":"logToFile","packageName":"LogToFile","disabled":false,"attributes":[{"name":"filePath","value":{"type":"FILE","expression":"file://$logFile$"}},{"name":"logContent","value":{"type":"STRING","expression":"Query:\nselect\n\tA.*\nfrom\n\tpa_bancarias A\njoin pa_bancarias B \non\n\tA.bldat = B.bldat\n\tand (A.sgtxt LIKE '$texto_i1$' OR A.sgtxt LIKE '$texto_i2$' OR A.sgtxt LIKE '$texto_i3$')\n\tand (B.sgtxt LIKE '$texto_j1$' OR B.sgtxt LIKE '$texto_j2$' or B.sgtxt LIKE '$texto_j3$')\n\tand ((A.blart = '$docClasei$' and B.blart = '$docClasej$') or (A.blart = '$docClasej$' and B.blart = '$docClasei$'))\nwhere\n\tA.record_id <> B.record_id\n\tAND A.signo <> B.signo\n\tAND ABS(A.dmbtr - B.dmbtr) <= $limRedondeo$ \n\tand A.compensado = false \n\tand B.compensado = false\nUNION\nselect\n\tB.*\nfrom\n\tpa_bancarias B\njoin pa_bancarias A \non\n\tA.bldat = B.bldat\n\tand (A.sgtxt LIKE '$texto_i1$' OR A.sgtxt LIKE '$texto_i2$' OR A.sgtxt LIKE '$texto_i3$')\n\tand (B.sgtxt LIKE '$texto_j1$' OR B.sgtxt LIKE '$texto_j2$' or B.sgtxt LIKE '$texto_j3$')\n\tand ((A.blart = '$docClasei$' and B.blart = '$docClasej$') or (A.blart = '$docClasej$' and B.blart = '$docClasei$'))\nwhere\n\tA.record_id <> B.record_id\n\tAND A.signo <> B.signo\n\tAND ABS(A.dmbtr - B.dmbtr) <= $limRedondeo$ \n\tand A.compensado = false \n\tand B.compensado = false\norder by dmbtr,blart"}},{"name":"appendTimestamp","value":{"type":"BOOLEAN","boolean":true}},{"name":"logOption","value":{"type":"STRING","string":"APPEND_FILE"}},{"name":"encodingValue","value":{"type":"STRING","string":"ANSI"}}]},{"uid":"3f9af5b9-9000-4c07-a116-884fc3262806","commandName":"sqlQuery","packageName":"Database","disabled":false,"attributes":[{"name":"query","value":{"type":"STRING","expression":"select\n\tA.*\nfrom\n\tpa_bancarias A\njoin pa_bancarias B \non\n\tA.bldat = B.bldat\n\tand (A.sgtxt LIKE '$texto_i1$' OR A.sgtxt LIKE '$texto_i2$' OR A.sgtxt LIKE '$texto_i3$')\n\tand (B.sgtxt LIKE '$texto_j1$' OR B.sgtxt LIKE '$texto_j2$' or B.sgtxt LIKE '$texto_j3$')\n\tand ((A.blart = '$docClasei$' and B.blart = '$docClasej$') or (A.blart = '$docClasej$' and B.blart = '$docClasei$'))\nwhere\n\tA.record_id <> B.record_id\n\tAND A.signo <> B.signo\n\tAND ABS(A.dmbtr - B.dmbtr) <= $limRedondeo$ \n\tand A.compensado = false \n\tand B.compensado = false\nUNION\nselect\n\tB.*\nfrom\n\tpa_bancarias B\njoin pa_bancarias A \non\n\tA.bldat = B.bldat\n\tand (A.sgtxt LIKE '$texto_i1$' OR A.sgtxt LIKE '$texto_i2$' OR A.sgtxt LIKE '$texto_i3$')\n\tand (B.sgtxt LIKE '$texto_j1$' OR B.sgtxt LIKE '$texto_j2$' or B.sgtxt LIKE '$texto_j3$')\n\tand ((A.blart = '$docClasei$' and B.blart = '$docClasej$') or (A.blart = '$docClasej$' and B.blart = '$docClasei$'))\nwhere\n\tA.record_id <> B.record_id\n\tAND A.signo <> B.signo\n\tAND ABS(A.dmbtr - B.dmbtr) <= $limRedondeo$ \n\tand A.compensado = false \n\tand B.compensado = false\norder by dmbtr,blart"}},{"name":"doExport","value":{"type":"BOOLEAN","boolean":true}},{"name":"filePath","value":{"type":"FILE","string":"file:////nas/Tecnologia/RPA_360/Automation%20Anywhere/My%20Tasks/Compensaciones%20Bancarias/Temp/test%20compensacion.csv"}},{"name":"encodingType","value":{"type":"STRING","string":"ANSI"}},{"name":"withHeader","value":{"type":"BOOLEAN","boolean":true}},{"name":"noBlankCSV","value":{"type":"BOOLEAN","boolean":true}},{"name":"appendTo","value":{"type":"STRING","string":"false"}},{"name":"session","value":{"type":"SESSION","sessionName":{"type":"STRING","string":"reglasBancarias"}}}]}],"branches":[],"attributes":[{"attributes":[{"name":"variable","value":{"type":"STRING","expression":"$idRegla$"}},{"name":"operator","value":{"type":"STRING","string":"EQ"}},{"name":"value","value":{"type":"STRING","string":"FECHA+TEXTO"}},{"name":"matchCase","value":{"type":"BOOLEAN","boolean":false}},{"name":"isIgnoreCarriage","value":{"type":"BOOLEAN","boolean":false}}],"name":"condition","value":{"type":"CONDITIONAL","conditionalName":"stringVariable","packageName":"String"}}]}],"attributes":[{"name":"title","value":{"type":"STRING","string":"Compensar partidas según regla"}}]}],"attributes":[{"name":"loopType","value":{"type":"STRING","string":"ITERATOR"}},{"name":"iterator","returnTo":{"type":"VARIABLE","variableName":"filaReglasBancarias"},"attributes":[{"name":"session","value":{"type":"SESSION","sessionName":{"type":"STRING","string":"reglasBancarias"}}}],"value":{"type":"ITERATOR","iteratorName":"iterators.resultset","packageName":"Database"}}]}],"attributes":[{"name":"title","value":{"type":"STRING","string":"Reglas Bancarias"}}]}],"attributes":[{"name":"loopType","value":{"type":"STRING","string":"ITERATOR"}},{"name":"iterator","returnTo":{"type":"VARIABLE","variableName":"filaFBL3N"},"attributes":[{"name":"session","value":{"type":"SESSION","sessionName":{"type":"STRING","string":"D02_U"}}}],"value":{"type":"ITERATOR","iteratorName":"iterators.resultset","packageName":"Database"}}]}],"attributes":[{"name":"title","value":{"type":"STRING","string":"FLB3N de la BD"}}]}],"variables":[{"name":"entorno","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"logFile","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"rutaFBL3N","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"rutaReglas","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"rutaTablaDeCierres","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"rutaTemp","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"correoRPA","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"correoUsuarios","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"nombreArchivoTemp","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"extensionArchivoTemp","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"filaFBL3N","description":"Cada linea del fbl3n","type":"RECORD","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"RECORD","record":{"schema":[],"values":[]}}},{"name":"cuentaPagadora","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"cuentaCobradora","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"fbl3nSociedad","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"Rest-Response-Assignment","description":"","type":"DICTIONARY","subtype":"STRING","input":false,"output":false,"defaultValue":{"type":"DICTIONARY","dictionary":[]}},{"name":"begda","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"endda","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"responseSAP","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"filaReglasBancarias","description":"","type":"RECORD","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"RECORD","record":{"schema":[],"values":[]}}},{"name":"docClasei","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"docClasej","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"texto_i1","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"texto_i2","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"texto_i3","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"texto_j1","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"texto_j2","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"texto_j3","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"dia","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"mes","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"limRedondeo","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"dejarSaldo","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"textoSaldo","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"retardoDocClase_i","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"retardoDocClase_j","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"retardoHabil","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"idRegla","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":""}}],"breakpoints":[],"packages":[{"name":"Database","version":"5.1.0"},{"name":"File","version":"6.7.0"},{"name":"If","version":"3.6.2-20230316-161323"},{"name":"LegacyAutomation","version":"6.3.2"},{"name":"LogToFile","version":"3.8.0"},{"name":"Loop","version":"3.7.5-20230316-155504"},{"name":"Number","version":"3.8.0"},{"name":"Rest","version":"3.12.0-20220926-070217"},{"name":"Step","version":"2.5.0-20230105-135537"},{"name":"String","version":"5.8.0"},{"name":"System","version":"3.12.0"},{"name":"TaskBot","version":"2.8.0-20230530-152744"}],"migrationJournalReviewIds":[],"workItemTemplateName":null,"properties":{"botCodeVersion":"4","improvedNumberSupport":true,"timeout":"0s","automationPriority":"PRIORITY_MEDIUM"}}